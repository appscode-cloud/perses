"use strict";(self.webpackChunkDatasourceVariable=self.webpackChunkDatasourceVariable||[]).push([["236"],{19924:function(a,e,l){l.r(e),l.d(e,{DatasourceVariable:()=>o});var t=l(24246),n=l(58891),s=l(11774),u=l(8695),i=l(54538);let r={label:"",value:""},o={getVariableOptions:async(a,e)=>""===a.datasourcePluginKind?{data:[]}:{data:(await e.datasourceStore.listDatasourceSelectItems(a.datasourcePluginKind)).flatMap(a=>a.items).map(a=>({label:a.name,value:a.name}))},OptionsEditorComponent:a=>{let{onChange:e,value:l}=a,{datasourcePluginKind:o}=l,{data:d}=(0,n.useListPluginMetadata)(["Datasource"]),c=(0,i.useMemo)(()=>new Set(null==d?void 0:d.map(a=>a.spec.name)),[d]),p=Array.from(c).map(a=>({label:a,value:a})),b=p.find(a=>a.label===o)??r;return(0,i.useEffect)(()=>{b.value===r.value&&c.size>0&&e({datasourcePluginKind:Array.from(c)[0]})},[b,o,e,c]),(0,t.jsx)(s.Z,{options:p,disableClearable:!0,renderInput:a=>(0,t.jsx)(u.Z,{...a,label:"Datasource Plugin Kinds",placeholder:"Datasource Plugin Kinds"}),value:b,onChange:(a,l)=>{null!==l&&e({datasourcePluginKind:l.label})}})},createInitialOptions:()=>({datasourcePluginKind:""}),dependsOn:()=>({variables:[]})}}}]);