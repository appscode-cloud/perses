"use strict";(self.webpackChunkFlameChart=self.webpackChunkFlameChart||[]).push([["223"],{93846:function(e,t,r){r.d(t,{Z:()=>l});var a=r(69988),i=r(2021),n=r(30984),o=r(67975),s=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.type=t.type,r}return(0,a.ZT)(t,e),t.prototype.getInitialData=function(e,t){return(0,n.Z)(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,t,r){var a=this.coordinateSystem;if(a&&a.clampData){var i=a.clampData(e),n=a.dataToPoint(i);if(r)(0,o.each)(a.getAxes(),function(e,r){if("category"===e.type&&null!=t){var a=e.getTicksCoords(),o=e.getTickModel().get("alignWithLabel"),s=i[r],l="x1"===t[r]||"y1"===t[r];if(l&&!o&&(s+=1),!(a.length<2)){if(2===a.length){n[r]=e.toGlobalCoord(e.getExtent()[+!!l]);return}for(var d=void 0,h=void 0,u=1,c=0;c<a.length;c++){var g=a[c].coord,p=c===a.length-1?a[c-1].tickValue+u:a[c].tickValue;if(p===s){h=g;break}if(p<s)d=g;else if(null!=d&&p>s){h=(g+d)/2;break}1===c&&(u=p-a[0].tickValue)}null==h&&(d?d&&(h=a[a.length-1].coord):h=a[0].coord),n[r]=e.toGlobalCoord(h)}}});else{var s=this.getData(),l=s.getLayout("offset"),d=s.getLayout("size"),h=+!a.getBaseAxis().isHorizontal();n[h]+=l+d/2}return n}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(i.Z);i.Z.registerClass(s);let l=s},508:function(e,t,r){r.d(t,{N:()=>K});var a=r(67975),i=r(58783),n=r(5719),o=r(69988),s=r(93846),l=r(30984),d=r(4587),h=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.type=t.type,r}return(0,o.ZT)(t,e),t.prototype.getInitialData=function(){return(0,l.Z)(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return t>e&&(e=t),e},t.prototype.brushSelector=function(e,t,r){return r.rect(t.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=(0,d.ZL)(s.Z.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(s.Z),u=r(7185),c=r(37293),g=r(29790),p=r(99858),f=r(31969),y=r(53511),m=r(10428),v=r(98306),A=r(33361),b=r(19774),x=r(21730),_=r(2699),w=r(58050),I=r(82667),S=r(16072),k=r(12666);function D(e,t,r){return t*Math.sin(e)*(r?-1:1)}function C(e,t,r){return t*Math.cos(e)*(r?1:-1)}var L=r(10061),M=Math.max,O=Math.min,R=function(e){function t(){var r=e.call(this)||this;return r.type=t.type,r._isFirstFrame=!0,r}return(0,o.ZT)(t,e),t.prototype.render=function(e,t,r,a){this._model=e,this._removeOnRenderedListener(r),this._updateDrawMode(e);var i=e.get("coordinateSystem");("cartesian2d"===i||"polar"===i)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,t,r):this._renderNormal(e,t,r,a))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,t){this._progressiveEls=[],this._incrementalRenderLarge(e,t)},t.prototype.eachRendered=function(e){(0,g.traverseElements)(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;(null==this._isLargeDraw||t!==this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e,t,r,a){var i,n=this.group,o=e.getData(),s=this._data,l=e.coordinateSystem,d=l.getBaseAxis();"cartesian2d"===l.type?i=d.isHorizontal():"polar"===l.type&&(i="angle"===d.dim);var h=e.isAnimationEnabled()?e:null,u=function(e,t){var r=e.get("realtimeSort",!0),a=t.getBaseAxis();if(r&&"category"===a.type&&"cartesian2d"===t.type)return{baseAxis:a,otherAxis:t.getOtherAxis(a)}}(e,l);u&&this._enableRealtimeSort(u,o,r);var g=e.get("clip",!0)||u,m=function(e,t){var r=e.getArea&&e.getArea();if((0,I.H)(e,"cartesian2d")){var a=e.getBaseAxis();if("category"!==a.type||!a.onBand){var i=t.getLayout("bandWidth");a.isHorizontal()?(r.x-=i,r.width+=2*i):(r.y-=i,r.height+=2*i)}}return r}(l,o);n.removeClipPath();var v=e.get("roundCap",!0),b=e.get("showBackground",!0),x=e.getModel("backgroundStyle"),_=x.get("borderRadius")||0,w=[],S=this._backgroundEls,k=a&&a.isInitSort,D=a&&"changeAxisOrder"===a.type;function C(e){var t,r,a,n=z[l.type](o,e),s=(t=l,r=i,a=n,new("polar"===t.type?y.C:f.Z)({shape:Y(r,a,t),silent:!0,z2:0}));return s.useStyle(x.getItemStyle()),"cartesian2d"===l.type?s.setShape("r",_):s.setShape("cornerRadius",_),w[e]=s,s}o.diff(s).add(function(t){var r=o.getItemModel(t),a=z[l.type](o,t,r);if(b&&C(t),o.hasValue(t)&&B[l.type](a)){var s=!1;g&&(s=T[l.type](m,a));var c=E[l.type](e,o,t,a,i,h,d.model,!1,v);u&&(c.forceLabelAnimation=!0),W(c,o,t,r,a,e,i,"polar"===l.type),k?c.attr({shape:a}):u?P(u,h,c,a,t,i,!1,!1):(0,p.KZ)(c,{shape:a},e,t),o.setItemGraphicEl(t,c),n.add(c),c.ignore=s}}).update(function(t,r){var a=o.getItemModel(t),c=z[l.type](o,t,a);if(b){var f=void 0;0===S.length?f=C(r):((f=S[r]).useStyle(x.getItemStyle()),"cartesian2d"===l.type?f.setShape("r",_):f.setShape("cornerRadius",_),w[t]=f);var y=z[l.type](o,t),I=Y(i,y,l);(0,p.D)(f,{shape:I},h,t)}var L=s.getItemGraphicEl(r);if(!o.hasValue(t)||!B[l.type](c)){n.remove(L);return}var M=!1;if(g&&(M=T[l.type](m,c))&&n.remove(L),L?(0,p.Zi)(L):L=E[l.type](e,o,t,c,i,h,d.model,!!L,v),u&&(L.forceLabelAnimation=!0),D){var O=L.getTextContent();if(O){var R=(0,A.qA)(O);null!=R.prevValue&&(R.prevValue=R.value)}}else W(L,o,t,a,c,e,i,"polar"===l.type);k?L.attr({shape:c}):u?P(u,h,L,c,t,i,!0,D):(0,p.D)(L,{shape:c},e,t,null),o.setItemGraphicEl(t,L),L.ignore=M,n.add(L)}).remove(function(t){var r=s.getItemGraphicEl(t);r&&(0,p.XD)(r,e,t)}).execute();var L=this._backgroundGroup||(this._backgroundGroup=new c.Z);L.removeAll();for(var M=0;M<w.length;++M)L.add(w[M]);n.add(L),this._backgroundEls=w,this._data=o},t.prototype._renderLarge=function(e,t,r){this._clear(),U(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,t){this._removeBackground(),U(t,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var t=e.get("clip",!0)&&(0,x.lQ)(e.coordinateSystem,!1,e),r=this.group;t?r.setClipPath(t):r.removeClipPath()},t.prototype._enableRealtimeSort=function(e,t,r){var a=this;if(t.count()){var i=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(t,e,r),this._isFirstFrame=!1;else{var n=function(e){var r=t.getItemGraphicEl(e),a=r&&r.shape;return a&&Math.abs(i.isHorizontal()?a.height:a.width)||0};this._onRendered=function(){a._updateSortWithinSameData(t,n,i,r)},r.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,t,r){var i=[];return e.each(e.mapDimension(t.dim),function(e,t){var a=r(t);a=null==a?NaN:a,i.push({dataIndex:t,mappedValue:a,ordinalNumber:e})}),i.sort(function(e,t){return t.mappedValue-e.mappedValue}),{ordinalNumbers:(0,a.map)(i,function(e){return e.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,t,r){for(var a=r.scale,i=e.mapDimension(r.dim),n=Number.MAX_VALUE,o=0,s=a.getOrdinalMeta().categories.length;o<s;++o){var l=e.rawIndexOf(i,a.getRawOrdinalNumber(o)),d=l<0?Number.MIN_VALUE:t(e.indexOfRawIndex(l));if(d>n)return!0;n=d}return!1},t.prototype._isOrderDifferentInView=function(e,t){for(var r=t.scale,a=r.getExtent(),i=Math.max(0,a[0]),n=Math.min(a[1],r.getOrdinalMeta().categories.length-1);i<=n;++i)if(e.ordinalNumbers[i]!==r.getRawOrdinalNumber(i))return!0},t.prototype._updateSortWithinSameData=function(e,t,r,a){if(this._isOrderChangedWithinSameData(e,t,r)){var i=this._dataSort(e,r,t);this._isOrderDifferentInView(i,r)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",axisId:r.index,sortInfo:i}))}},t.prototype._dispatchInitSort=function(e,t,r){var a=t.baseAxis,i=this._dataSort(e,a,function(r){return e.get(e.mapDimension(t.otherAxis.dim),r)});r.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:i})},t.prototype.remove=function(e,t){this._clear(this._model),this._removeOnRenderedListener(t)},t.prototype.dispose=function(e,t){this._removeOnRenderedListener(t)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var t=this.group,r=this._data;e&&e.isAnimationEnabled()&&r&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],r.eachItemGraphicEl(function(t){(0,p.XD)(t,e,(0,m.A)(t).dataIndex)})):t.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(w.Z),T={cartesian2d:function(e,t){var r=t.width<0?-1:1,a=t.height<0?-1:1;r<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height);var i=e.x+e.width,n=e.y+e.height,o=M(t.x,e.x),s=O(t.x+t.width,i),l=M(t.y,e.y),d=O(t.y+t.height,n),h=s<o,u=d<l;return t.x=h&&o>i?s:o,t.y=u&&l>n?d:l,t.width=h?0:s-o,t.height=u?0:d-l,r<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height),h||u},polar:function(e,t){var r=t.r0<=t.r?1:-1;if(r<0){var a=t.r;t.r=t.r0,t.r0=a}var i=O(t.r,e.r),n=M(t.r0,e.r0);t.r=i,t.r0=n;var o=i-n<0;if(r<0){var a=t.r;t.r=t.r0,t.r0=a}return o}},E={cartesian2d:function(e,t,r,i,n,o,s,l,d){var h=new f.Z({shape:(0,a.extend)({},i),z2:1});return h.__dataIndex=r,h.name="item",o&&(h.shape[n?"height":"width"]=0),h},polar:function(e,t,r,a,i,n,o,s,l){var d,h,u=!i&&l?_.Z:y.C,c=new u({shape:a,z2:1});c.name="item";var g=G(i);if(c.calculateTextPosition=(h=({isRoundCap:u===_.Z}).isRoundCap,function(e,t,r){var a=t.position;if(!a||a instanceof Array)return(0,k.wI)(e,t,r);var i=g(a),n=null!=t.distance?t.distance:5,o=this.shape,s=o.cx,l=o.cy,d=o.r,u=o.r0,c=(d+u)/2,p=o.startAngle,f=o.endAngle,y=(p+f)/2,m=h?Math.abs(d-u)/2:0,v=Math.cos,A=Math.sin,b=s+d*v(p),x=l+d*A(p),_="left",w="top";switch(i){case"startArc":b=s+(u-n)*v(y),x=l+(u-n)*A(y),_="center",w="top";break;case"insideStartArc":b=s+(u+n)*v(y),x=l+(u+n)*A(y),_="center",w="bottom";break;case"startAngle":b=s+c*v(p)+D(p,n+m,!1),x=l+c*A(p)+C(p,n+m,!1),_="right",w="middle";break;case"insideStartAngle":b=s+c*v(p)+D(p,-n+m,!1),x=l+c*A(p)+C(p,-n+m,!1),_="left",w="middle";break;case"middle":b=s+c*v(y),x=l+c*A(y),_="center",w="middle";break;case"endArc":b=s+(d+n)*v(y),x=l+(d+n)*A(y),_="center",w="bottom";break;case"insideEndArc":b=s+(d-n)*v(y),x=l+(d-n)*A(y),_="center",w="top";break;case"endAngle":b=s+c*v(f)+D(f,n+m,!0),x=l+c*A(f)+C(f,n+m,!0),_="left",w="middle";break;case"insideEndAngle":b=s+c*v(f)+D(f,-n+m,!0),x=l+c*A(f)+C(f,-n+m,!0),_="right",w="middle";break;default:return(0,k.wI)(e,t,r)}return(e=e||{}).x=b,e.y=x,e.align=_,e.verticalAlign=w,e}),n){var f=c.shape,m=i?"r":"endAngle",v={};f[m]=i?a.r0:a.startAngle,v[m]=a[m],(s?p.D:p.KZ)(c,{shape:v},n)}return c}};function P(e,t,r,a,i,n,o,s){n?(d={x:a.x,width:a.width},l={y:a.y,height:a.height}):(d={y:a.y,height:a.height},l={x:a.x,width:a.width}),s||(o?p.D:p.KZ)(r,{shape:l},t,i,null);var l,d,h=t?e.baseAxis.model:null;(o?p.D:p.KZ)(r,{shape:d},h,i)}function Z(e,t){for(var r=0;r<t.length;r++)if(!isFinite(e[t[r]]))return!0;return!1}var N=["x","y","width","height"],V=["cx","cy","r","startAngle","endAngle"],B={cartesian2d:function(e){return!Z(e,N)},polar:function(e){return!Z(e,V)}},z={cartesian2d:function(e,t,r){var a,i,n,o=e.getItemLayout(t),s=r?(a=r,i=o,(n=a.get(["itemStyle","borderColor"]))&&"none"!==n?Math.min(a.get(["itemStyle","borderWidth"])||0,isNaN(i.width)?Number.MAX_VALUE:Math.abs(i.width),isNaN(i.height)?Number.MAX_VALUE:Math.abs(i.height)):0):0,l=o.width>0?1:-1,d=o.height>0?1:-1;return{x:o.x+l*s/2,y:o.y+d*s/2,width:o.width-l*s,height:o.height-d*s}},polar:function(e,t,r){var a=e.getItemLayout(t);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}}};function G(e){var t;return t=e?"Arc":"Angle",function(e){switch(e){case"start":case"insideStart":case"end":case"insideEnd":return e+t;default:return e}}}function W(e,t,r,i,n,o,s,l){var d=t.getItemVisual(r,"style");if(l){if(!o.get("roundCap")){var h=e.shape,u=(0,L.T)(i.getModel("itemStyle"),h,!0);(0,a.extend)(h,u),e.setShape(h)}}else{var c=i.get(["itemStyle","borderRadius"])||0;e.setShape("r",c)}e.useStyle(d);var g=i.getShallow("cursor");g&&e.attr("cursor",g);var p=l?s?n.r>=n.r0?"endArc":"startArc":n.endAngle>=n.startAngle?"endAngle":"startAngle":s?n.height>=0?"bottom":"top":n.width>=0?"right":"left",f=(0,A.k3)(i);(0,A.ni)(e,f,{labelFetcher:o,labelDataIndex:r,defaultText:(0,S.H)(o.getData(),r),inheritColor:d.fill,defaultOpacity:d.opacity,defaultOutsidePosition:p});var y=e.getTextContent();if(l&&y){var m=i.get(["label","position"]);e.textConfig.inside="middle"===m||null,function(e,t,r,i){if((0,a.isNumber)(i)){e.setTextConfig({rotation:i});return}if((0,a.isArray)(t)){e.setTextConfig({rotation:0});return}var n,o=e.shape,s=o.clockwise?o.startAngle:o.endAngle,l=o.clockwise?o.endAngle:o.startAngle,d=r(t);switch(d){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":n=(s+l)/2;break;case"startAngle":case"insideStartAngle":n=s;break;case"endAngle":case"insideEndAngle":n=l;break;default:e.setTextConfig({rotation:0});return}var h=1.5*Math.PI-n;"middle"===d&&h>Math.PI/2&&h<1.5*Math.PI&&(h-=Math.PI),e.setTextConfig({rotation:h})}(e,"outside"===m?p:m,G(s),i.get(["label","rotate"]))}(0,A.pe)(y,f,o.getRawValue(r),function(e){return(0,S.O)(t,e)});var b=i.getModel(["emphasis"]);(0,v.k5)(e,b.get("focus"),b.get("blurScope"),b.get("disabled")),(0,v.WO)(e,i),null!=n.startAngle&&null!=n.endAngle&&n.startAngle===n.endAngle&&(e.style.fill="none",e.style.stroke="none",(0,a.each)(e.states,function(e){e.style&&(e.style.fill=e.style.stroke="none")}))}var F=function(){},H=function(e){function t(t){var r=e.call(this,t)||this;return r.type="largeBar",r}return(0,o.ZT)(t,e),t.prototype.getDefaultShape=function(){return new F},t.prototype.buildPath=function(e,t){for(var r=t.points,a=this.baseDimIdx,i=1-this.baseDimIdx,n=[],o=[],s=this.barWidth,l=0;l<r.length;l+=3)o[a]=s,o[i]=r[l+2],n[a]=r[l+a],n[i]=r[l+i],e.rect(n[0],n[1],o[0],o[1])},t}(u.ZP);function U(e,t,r,a){var i=e.getData(),n=+!!i.getLayout("valueAxisHorizontal"),o=i.getLayout("largeDataIndices"),s=i.getLayout("size"),l=e.getModel("backgroundStyle"),d=i.getLayout("largeBackgroundPoints");if(d){var h=new H({shape:{points:d},incremental:!!a,silent:!0,z2:0});h.baseDimIdx=n,h.largeDataIndices=o,h.barWidth=s,h.useStyle(l.getItemStyle()),t.add(h),r&&r.push(h)}var u=new H({shape:{points:i.getLayout("largePoints")},incremental:!!a,ignoreCoarsePointer:!0,z2:1});u.baseDimIdx=n,u.largeDataIndices=o,u.barWidth=s,t.add(u),u.useStyle(i.getVisual("style")),(0,m.A)(u).seriesIndex=e.seriesIndex,e.get("silent")||(u.on("mousedown",X),u.on("mousemove",X)),r&&r.push(u)}var X=(0,b.P2)(function(e){var t=function(e,t,r){for(var a=e.baseDimIdx,i=1-a,n=e.shape.points,o=e.largeDataIndices,s=[],l=[],d=e.barWidth,h=0,u=n.length/3;h<u;h++){var c=3*h;if(l[a]=d,l[i]=n[c+2],s[a]=n[c+a],s[i]=n[c+i],l[i]<0&&(s[i]+=l[i],l[i]=-l[i]),t>=s[0]&&t<=s[0]+l[0]&&r>=s[1]&&r<=s[1]+l[1])return o[h]}return -1}(this,e.offsetX,e.offsetY);(0,m.A)(this).dataIndex=t>=0?t:null},30,!1);function Y(e,t,r){if((0,I.H)(r,"cartesian2d")){var a=r.getArea();return{x:e?t.x:a.x,y:e?a.y:t.y,width:e?t.width:a.width,height:e?a.height:t.height}}var a=r.getArea();return{cx:a.cx,cy:a.cy,r0:e?a.r0:t.r0,r:e?a.r:t.r,startAngle:e?t.startAngle:0,endAngle:e?t.endAngle:2*Math.PI}}function K(e){e.registerChartView(R),e.registerSeriesModel(h),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,a.curry(i.bK,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,(0,i.Bk)("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,(0,n.Z)("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var r=e.componentType||"series";t.eachComponent({mainType:r,query:e},function(t){e.sortInfo&&t.axis.setCategorySortInfo(e.sortInfo)})})}}}]);