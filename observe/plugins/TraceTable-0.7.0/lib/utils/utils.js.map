{"version":3,"sources":["../../../src/utils/utils.ts"],"sourcesContent":["// Copyright 2024 The Perses Authors\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { PersesChartsTheme } from '@perses-dev/components';\nimport { Theme } from '@mui/material';\nimport { getConsistentCategoricalColor, getConsistentColor } from './palette';\n\nexport function getServiceColor(\n  muiTheme: Theme,\n  chartsTheme: PersesChartsTheme,\n  paletteMode: 'auto' | 'categorical' | undefined,\n  serviceName: string,\n  error = false\n): string {\n  switch (paletteMode) {\n    case 'categorical': {\n      // ECharts type for color is not always an array but it is always an array in ChartsProvider\n      const categoricalPalette = chartsTheme.echartsTheme.color as string[];\n      const errorPalette = [muiTheme.palette.error.light, muiTheme.palette.error.main, muiTheme.palette.error.dark];\n      return getConsistentCategoricalColor(serviceName, error, categoricalPalette, errorPalette);\n    }\n\n    default:\n      return getConsistentColor(serviceName, error);\n  }\n}\n"],"names":["getConsistentCategoricalColor","getConsistentColor","getServiceColor","muiTheme","chartsTheme","paletteMode","serviceName","error","categoricalPalette","echartsTheme","color","errorPalette","palette","light","main","dark"],"mappings":"AAAA,oCAAoC;AACpC,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,6CAA6C;AAC7C,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;AAIjC,SAASA,6BAA6B,EAAEC,kBAAkB,QAAQ,YAAY;AAE9E,OAAO,SAASC,gBACdC,QAAe,EACfC,WAA8B,EAC9BC,WAA+C,EAC/CC,WAAmB,EACnBC,QAAQ,KAAK;IAEb,OAAQF;QACN,KAAK;YAAe;gBAClB,4FAA4F;gBAC5F,MAAMG,qBAAqBJ,YAAYK,YAAY,CAACC,KAAK;gBACzD,MAAMC,eAAe;oBAACR,SAASS,OAAO,CAACL,KAAK,CAACM,KAAK;oBAAEV,SAASS,OAAO,CAACL,KAAK,CAACO,IAAI;oBAAEX,SAASS,OAAO,CAACL,KAAK,CAACQ,IAAI;iBAAC;gBAC7G,OAAOf,8BAA8BM,aAAaC,OAAOC,oBAAoBG;YAC/E;QAEA;YACE,OAAOV,mBAAmBK,aAAaC;IAC3C;AACF"}