{"version":3,"sources":["../../../src/components/Service.tsx"],"sourcesContent":["// Copyright 2025 The Perses Authors\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { ReactElement } from 'react';\nimport { Stack, TextField, MenuItem, CircularProgress, useTheme } from '@mui/material';\nimport { PyroscopeDatasourceSelector } from '../model';\nimport { useServices } from '../utils/use-query';\n\nexport interface ServiceProps {\n  datasource: PyroscopeDatasourceSelector;\n  value: string;\n  onChange?(value: string): void;\n}\n\nexport function Service(props: ServiceProps): ReactElement {\n  const { datasource, value, onChange } = props;\n\n  const { data: servicesOptions, isLoading: isServicesOptionsLoading } = useServices(datasource);\n\n  return (\n    <Stack\n      position=\"relative\"\n      sx={{\n        flexGrow: 1,\n        maxWidth: '100%',\n        [useTheme().breakpoints.down('sm')]: {\n          width: '100%',\n        },\n      }}\n    >\n      <TextField select label=\"Service\" value={value} size=\"small\" onChange={(event) => onChange?.(event.target.value)}>\n        {isServicesOptionsLoading ? (\n          <Stack width=\"100%\" sx={{ alignItems: 'center', justifyContent: 'center' }}>\n            <CircularProgress color=\"inherit\" size={20} />\n          </Stack>\n        ) : (\n          servicesOptions?.names &&\n          servicesOptions?.names.map((service) => (\n            <MenuItem key={service} value={service}>\n              {service}\n            </MenuItem>\n          ))\n        )}\n      </TextField>\n    </Stack>\n  );\n}\n"],"names":["Stack","TextField","MenuItem","CircularProgress","useTheme","useServices","Service","props","datasource","value","onChange","data","servicesOptions","isLoading","isServicesOptionsLoading","position","sx","flexGrow","maxWidth","breakpoints","down","width","select","label","size","event","target","alignItems","justifyContent","color","names","map","service"],"mappings":"AAAA,oCAAoC;AACpC,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,6CAA6C;AAC7C,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;AAGjC,SAASA,KAAK,EAAEC,SAAS,EAAEC,QAAQ,EAAEC,gBAAgB,EAAEC,QAAQ,QAAQ,gBAAgB;AAEvF,SAASC,WAAW,QAAQ,qBAAqB;AAQjD,OAAO,SAASC,QAAQC,KAAmB;IACzC,MAAM,EAAEC,UAAU,EAAEC,KAAK,EAAEC,QAAQ,EAAE,GAAGH;IAExC,MAAM,EAAEI,MAAMC,eAAe,EAAEC,WAAWC,wBAAwB,EAAE,GAAGT,YAAYG;IAEnF,qBACE,KAACR;QACCe,UAAS;QACTC,IAAI;YACFC,UAAU;YACVC,UAAU;YACV,CAACd,WAAWe,WAAW,CAACC,IAAI,CAAC,MAAM,EAAE;gBACnCC,OAAO;YACT;QACF;kBAEA,cAAA,KAACpB;YAAUqB,MAAM;YAACC,OAAM;YAAUd,OAAOA;YAAOe,MAAK;YAAQd,UAAU,CAACe,QAAUf,WAAWe,MAAMC,MAAM,CAACjB,KAAK;sBAC5GK,yCACC,KAACd;gBAAMqB,OAAM;gBAAOL,IAAI;oBAAEW,YAAY;oBAAUC,gBAAgB;gBAAS;0BACvE,cAAA,KAACzB;oBAAiB0B,OAAM;oBAAUL,MAAM;;iBAG1CZ,iBAAiBkB,SACjBlB,iBAAiBkB,MAAMC,IAAI,CAACC,wBAC1B,KAAC9B;oBAAuBO,OAAOuB;8BAC5BA;mBADYA;;;AAQ3B"}