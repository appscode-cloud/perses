/*! For license information please see __federation_expose_Logs.855fb468.js.LICENSE.txt */
"use strict";(self.chunk_ClickHouse=self.chunk_ClickHouse||[]).push([["6982"],{33711:function(e,t,r){r.d(t,{Z:()=>C});var n=r(95554),o=r(90496),i=r(41825),l=r(47126),s=r(82267),a=r(12709),d=r(94776),p=r(82319),u=r(51751),x=r(39508),c=r(42777),h=r(51183),g=r(44124),m=r(6749);function f(e){return(0,m.ZP)("MuiCollapse",e)}(0,g.Z)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);var y=r(24246);let w=(0,a.ZP)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[r.orientation],"entered"===r.state&&t.entered,"exited"===r.state&&!r.in&&"0px"===r.collapsedSize&&t.hidden]}})((0,p.Z)(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>"exited"===e.state&&!e.in&&"0px"===e.collapsedSize,style:{visibility:"hidden"}}]}))),v=(0,a.ZP)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),j=(0,a.ZP)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Z=n.forwardRef(function(e,t){let r=(0,u.i)({props:e,name:"MuiCollapse"}),{addEndListener:a,children:p,className:g,collapsedSize:m="0px",component:Z,easing:C,in:S,onEnter:b,onEntered:E,onEntering:k,onExit:O,onExited:_,onExiting:z,orientation:R="vertical",style:P,timeout:T=x.x9.standard,TransitionComponent:$=i.ZP,...I}=r,L={...r,orientation:R,collapsedSize:m},D=(e=>{let{orientation:t,classes:r}=e,n={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return(0,s.Z)(n,f,r)})(L),F=(0,d.Z)(),N=(0,l.Z)(),M=n.useRef(null),H=n.useRef(),W="number"==typeof m?`${m}px`:m,A="horizontal"===R,B=A?"width":"height",Q=n.useRef(null),U=(0,h.Z)(t,Q),q=e=>t=>{if(e){let r=Q.current;void 0===t?e(r):e(r,t)}},G=()=>M.current?M.current[A?"clientWidth":"clientHeight"]:0,V=q((e,t)=>{M.current&&A&&(M.current.style.position="absolute"),e.style[B]=W,b&&b(e,t)}),Y=q((e,t)=>{let r=G();M.current&&A&&(M.current.style.position="");let{duration:n,easing:o}=(0,c.C)({style:P,timeout:T,easing:C},{mode:"enter"});if("auto"===T){let t=F.transitions.getAutoHeightDuration(r);e.style.transitionDuration=`${t}ms`,H.current=t}else e.style.transitionDuration="string"==typeof n?n:`${n}ms`;e.style[B]=`${r}px`,e.style.transitionTimingFunction=o,k&&k(e,t)}),J=q((e,t)=>{e.style[B]="auto",E&&E(e,t)}),K=q(e=>{e.style[B]=`${G()}px`,O&&O(e)}),X=q(_),ee=q(e=>{let t=G(),{duration:r,easing:n}=(0,c.C)({style:P,timeout:T,easing:C},{mode:"exit"});if("auto"===T){let r=F.transitions.getAutoHeightDuration(t);e.style.transitionDuration=`${r}ms`,H.current=r}else e.style.transitionDuration="string"==typeof r?r:`${r}ms`;e.style[B]=W,e.style.transitionTimingFunction=n,z&&z(e)});return(0,y.jsx)($,{in:S,onEnter:V,onEntered:J,onEntering:Y,onExit:K,onExited:X,onExiting:ee,addEndListener:e=>{"auto"===T&&N.start(H.current||0,e),a&&a(Q.current,e)},nodeRef:Q,timeout:"auto"===T?null:T,...I,children:(e,{ownerState:t,...r})=>(0,y.jsx)(w,{as:Z,className:(0,o.Z)(D.root,g,{entered:D.entered,exited:!S&&"0px"===W&&D.hidden}[e]),style:{[A?"minWidth":"minHeight"]:W,...P},ref:U,ownerState:{...L,state:e},...r,children:(0,y.jsx)(v,{ownerState:{...L,state:e},className:D.wrapper,ref:M,children:(0,y.jsx)(j,{ownerState:{...L,state:e},className:D.wrapperInner,children:p})})})})});Z&&(Z.muiSupportAuto=!0);let C=Z},71426:function(e,t,r){var n=r(95554),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,r){var n,i={},d=null,p=null;for(n in void 0!==r&&(d=""+r),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(p=t.ref),t)l.call(t,n)&&!a.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:d,ref:p,props:i,_owner:s.current}}t.Fragment=i,t.jsx=d,t.jsxs=d},24246:function(e,t,r){e.exports=r(71426)},69849:function(e,t,r){r.r(t),r.d(t,{LogsComponent:()=>O,LogsSettingsEditor:()=>R,Logs:()=>P});var n=r(24246),o=r(52054),i=r(95554),l=r(94776),s=r(36372);let a=e=>{let{message:t="No logs to display"}=e,r=(0,l.Z)();return(0,n.jsx)(s.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"200px"},children:(0,n.jsx)(o.Z,{variant:"body2",sx:{color:r.palette.text.secondary,fontSize:"14px"},children:t})})};var d=r(83675),p=r(33711),u=r(84974);let x=e=>{let{timestamp:t}=e,r=(0,l.Z)(),i="dark"===r.palette.mode;return(0,n.jsx)(o.Z,{variant:"caption",sx:{color:i?"#000000":r.palette.text.secondary,fontSize:"12px",whiteSpace:"nowrap",minWidth:"max-content",backgroundColor:"#FFF3E0"},children:t})};var c=r(12709),h=r(75094);let g=(0,c.ZP)(s.Z)(e=>{let{severityColor:t}=e;return{borderLeft:`4px solid ${t}`,transition:"all 0.2s ease",marginBottom:"4px",fontFamily:'"DejaVu Sans Mono", monospace'}}),m=(0,c.ZP)(s.Z)(e=>{let{theme:t,isExpandable:r}=e;return{display:"grid",gridTemplateColumns:r?"16px minmax(160px, max-content) 1fr":"minmax(160px, max-content) 1fr",alignItems:"flex-start",padding:"4px 8px",cursor:r?"pointer":"default",gap:"12px","&:hover":{backgroundColor:t.palette.action.hover}}}),f=(0,c.ZP)(h.Z)(e=>{let{theme:t,isExpanded:r}=e;return{padding:0,width:"16px",height:"16px",color:t.palette.text.secondary,transform:r?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s ease"}}),y=(0,c.ZP)(o.Z)(e=>{let{wrap:t}=e;return{fontSize:"12px",flex:1,lineHeight:1.4,textAlign:"left",...t?{wordBreak:"break-word",whiteSpace:"pre-wrap",overflow:"visible",textOverflow:"unset"}:{wordBreak:"normal",whiteSpace:"nowrap"}}});var w=r(90190),v=r(56174),j=r(14968),Z=r(16838),C=r(96205);let S=e=>{let{log:t}=e,r=(0,l.Z)();return(0,n.jsx)(w.Z,{size:"small",sx:{border:`1px solid ${r.palette.divider}`,"& .MuiTableCell-root":{border:"none",padding:"6px 8px",fontSize:"12px"}},children:(0,n.jsx)(v.Z,{children:Object.entries(t).map(e=>{let[t,o]=e;return(0,n.jsxs)(j.Z,{sx:{"&:hover":{backgroundColor:(0,Z.Fq)(r.palette.action.hover,.04)}},children:[(0,n.jsx)(C.Z,{sx:{color:r.palette.text.secondary,fontWeight:500,width:"33%"},children:t}),(0,n.jsx)(C.Z,{sx:{color:r.palette.text.primary,wordBreak:"break-word",width:"67%"},children:null!=o&&""!==o?o:"--"})]},t)})})})},b=(0,i.memo)(e=>{let{log:t,isExpanded:r,index:o,onToggle:a,isExpandable:d=!0,time:c=!1,wrap:h=!1}=e,w=(0,l.Z)().palette.text.secondary,v=(0,i.useCallback)(()=>{d&&a(o)},[d,a,o]);return t?(0,n.jsxs)(g,{severityColor:w,children:[(0,n.jsxs)(m,{onClick:v,isExpandable:d,time:c,children:[d&&(0,n.jsx)(s.Z,{sx:{display:"flex",alignItems:"center",width:"16px",justifyContent:"center"},children:(0,n.jsx)(f,{size:"small",isExpanded:r,children:(0,n.jsx)(u.default,{sx:{fontSize:"12px"}})})}),(0,n.jsx)(x,{timestamp:null==t?void 0:t.timestamp}),(0,n.jsx)(s.Z,{sx:{display:"flex",gap:"10px",marginLeft:"36px"},children:(0,n.jsx)(y,{variant:"body2",wrap:h,children:null==t?void 0:t.line})})]}),(0,n.jsx)(p.Z,{in:r,timeout:200,children:(0,n.jsx)(s.Z,{sx:{padding:"8px"},children:(0,n.jsxs)(s.Z,{sx:{display:"grid",gridTemplateColumns:c?"8px minmax(160px, max-content) 1fr":"1fr",gap:"12px"},children:[c&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.Z,{}),(0,n.jsx)(s.Z,{})]}),(0,n.jsx)(s.Z,{children:(0,n.jsx)(S,{log:t.labels})})]})})})]}):null});b.displayName="LogRow";let E=e=>{let{logs:t,expandedRows:r,onToggleExpand:o}=e,i=(0,l.Z)();return(0,n.jsx)(s.Z,{sx:{height:"100%",backgroundColor:i.palette.background.default,overflow:"hidden",boxShadow:i.shadows[1]},children:(0,n.jsx)(d.OO,{style:{height:"100%"},totalCount:t.length,itemContent:e=>{let i=t[e];return i?(0,n.jsx)(b,{log:i,index:e,isExpanded:r.has(e),onToggle:o}):null}})})},k=e=>{let{logs:t}=e,{expandedRows:r,toggleExpand:o}=(()=>{let[e,t]=(0,i.useState)(new Set);return{expandedRows:e,toggleExpand:(0,i.useCallback)(e=>{t(t=>{let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})},[]),clearExpanded:(0,i.useCallback)(()=>{t(new Set)},[])}})();return t.length?(0,n.jsx)(E,{logs:t,expandedRows:r,onToggleExpand:o}):(0,n.jsx)(a,{})};function O(e){var t,r;let{queryResults:i,spec:l}=e;if((null==(t=i[0])?void 0:t.data.logs)===void 0)return(0,n.jsx)(o.Z,{variant:"h3",sx:{textAlign:"center",marginTop:4},children:"No logs to display"});let s=null==(r=i[0])?void 0:r.data.logs.entries;return(0,n.jsx)(k,{logs:s})}var _=r(70082),z=r(86499);function R(e){let{onChange:t,value:r}=e;return(0,n.jsxs)(_.OptionsEditorGrid,{children:[(0,n.jsx)(_.OptionsEditorColumn,{children:(0,n.jsx)(z.LegendOptionsEditor,{value:r.legend,onChange:e=>{t({...r,legend:e})}})}),(0,n.jsx)(_.OptionsEditorColumn,{children:(0,n.jsx)(_.ThresholdsEditor,{hideDefault:!0,thresholds:r.thresholds,onChange:e=>{t({...r,thresholds:e})}})})]})}let P={PanelComponent:O,panelOptionsEditorComponents:[{label:"Settings",content:R}],supportedQueryTypes:["TimeSeriesQuery"],createInitialOptions:()=>({})}}}]);