{"version":3,"sources":["../../../../../../src/panels/logs/components/LogRow/LogRow.tsx"],"sourcesContent":["// Copyright 2025 The Perses Authors\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// You may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport React, { memo, useCallback } from 'react';\nimport { Box, Collapse, useTheme } from '@mui/material';\nimport ChevronRight from 'mdi-material-ui/ChevronRight';\nimport { LogTimestamp } from './LogTimestamp';\nimport { LogRowContainer, LogRowContent, ExpandButton, LogText } from './LogsStyles';\nimport { LogDetailsTable } from './LogDetailsTable';\nimport { LogEntry } from '../../../../model/click-house-data-types';\n\ninterface LogRowProps {\n  log?: LogEntry;\n  index: number;\n  isExpanded: boolean;\n  onToggle: (index: number) => void;\n  isExpandable?: boolean;\n  time?: boolean;\n  wrap?: boolean;\n}\n\nexport const LogRow: React.FC<LogRowProps> = memo(\n  ({ log, isExpanded, index, onToggle, isExpandable = true, time = false, wrap = false }) => {\n    const theme = useTheme();\n    const severityColor = theme.palette.text.secondary;\n\n    const handleToggle = useCallback(() => {\n      if (isExpandable) {\n        onToggle(index);\n      }\n    }, [isExpandable, onToggle, index]);\n\n    if (!log) return null;\n\n    return (\n      <LogRowContainer severityColor={severityColor}>\n        <LogRowContent onClick={handleToggle} isExpandable={isExpandable} time={time}>\n          {isExpandable && (\n            <Box\n              sx={{\n                display: 'flex',\n                alignItems: 'center',\n                width: '16px',\n                justifyContent: 'center',\n              }}\n            >\n              <ExpandButton size=\"small\" isExpanded={isExpanded}>\n                <ChevronRight sx={{ fontSize: '12px' }} />\n              </ExpandButton>\n            </Box>\n          )}\n\n          <LogTimestamp timestamp={log?.timestamp} />\n\n          <Box\n            sx={{\n              display: 'flex',\n              gap: '10px',\n              marginLeft: '36px',\n            }}\n          >\n            <LogText variant=\"body2\" wrap={wrap}>\n              {log?.line}\n            </LogText>\n          </Box>\n        </LogRowContent>\n\n        <Collapse in={isExpanded} timeout={200}>\n          <Box sx={{ padding: '8px' }}>\n            <Box\n              sx={{\n                display: 'grid',\n                gridTemplateColumns: !time ? '1fr' : '8px minmax(160px, max-content) 1fr',\n                gap: '12px',\n              }}\n            >\n              {time && (\n                <>\n                  <Box />\n                  <Box />\n                </>\n              )}\n              <Box>\n                <LogDetailsTable log={log.labels} />\n              </Box>\n            </Box>\n          </Box>\n        </Collapse>\n      </LogRowContainer>\n    );\n  }\n);\n\nLogRow.displayName = 'LogRow';\n"],"names":["React","memo","useCallback","Box","Collapse","useTheme","ChevronRight","LogTimestamp","LogRowContainer","LogRowContent","ExpandButton","LogText","LogDetailsTable","LogRow","log","isExpanded","index","onToggle","isExpandable","time","wrap","theme","severityColor","palette","text","secondary","handleToggle","onClick","sx","display","alignItems","width","justifyContent","size","fontSize","timestamp","gap","marginLeft","variant","line","in","timeout","padding","gridTemplateColumns","labels","displayName"],"mappings":"AAAA,oCAAoC;AACpC,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,6CAA6C;AAC7C,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;AAEjC,OAAOA,SAASC,IAAI,EAAEC,WAAW,QAAQ,QAAQ;AACjD,SAASC,GAAG,EAAEC,QAAQ,EAAEC,QAAQ,QAAQ,gBAAgB;AACxD,OAAOC,kBAAkB,+BAA+B;AACxD,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,eAAe,EAAEC,aAAa,EAAEC,YAAY,EAAEC,OAAO,QAAQ,eAAe;AACrF,SAASC,eAAe,QAAQ,oBAAoB;AAapD,OAAO,MAAMC,uBAAgCZ,KAC3C,CAAC,EAAEa,GAAG,EAAEC,UAAU,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,eAAe,IAAI,EAAEC,OAAO,KAAK,EAAEC,OAAO,KAAK,EAAE;IACpF,MAAMC,QAAQhB;IACd,MAAMiB,gBAAgBD,MAAME,OAAO,CAACC,IAAI,CAACC,SAAS;IAElD,MAAMC,eAAexB,YAAY;QAC/B,IAAIgB,cAAc;YAChBD,SAASD;QACX;IACF,GAAG;QAACE;QAAcD;QAAUD;KAAM;IAElC,IAAI,CAACF,KAAK,OAAO;IAEjB,qBACE,MAACN;QAAgBc,eAAeA;;0BAC9B,MAACb;gBAAckB,SAASD;gBAAcR,cAAcA;gBAAcC,MAAMA;;oBACrED,8BACC,KAACf;wBACCyB,IAAI;4BACFC,SAAS;4BACTC,YAAY;4BACZC,OAAO;4BACPC,gBAAgB;wBAClB;kCAEA,cAAA,KAACtB;4BAAauB,MAAK;4BAAQlB,YAAYA;sCACrC,cAAA,KAACT;gCAAasB,IAAI;oCAAEM,UAAU;gCAAO;;;;kCAK3C,KAAC3B;wBAAa4B,WAAWrB,KAAKqB;;kCAE9B,KAAChC;wBACCyB,IAAI;4BACFC,SAAS;4BACTO,KAAK;4BACLC,YAAY;wBACd;kCAEA,cAAA,KAAC1B;4BAAQ2B,SAAQ;4BAAQlB,MAAMA;sCAC5BN,KAAKyB;;;;;0BAKZ,KAACnC;gBAASoC,IAAIzB;gBAAY0B,SAAS;0BACjC,cAAA,KAACtC;oBAAIyB,IAAI;wBAAEc,SAAS;oBAAM;8BACxB,cAAA,MAACvC;wBACCyB,IAAI;4BACFC,SAAS;4BACTc,qBAAqB,CAACxB,OAAO,QAAQ;4BACrCiB,KAAK;wBACP;;4BAECjB,sBACC;;kDACE,KAAChB;kDACD,KAACA;;;0CAGL,KAACA;0CACC,cAAA,KAACS;oCAAgBE,KAAKA,IAAI8B,MAAM;;;;;;;;;AAO9C,GACA;AAEF/B,OAAOgC,WAAW,GAAG"}