{"version":3,"sources":["../../../src/CellsEditor/CellsEditor.tsx"],"sourcesContent":["// Copyright 2024 The Perses Authors\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Button, Divider, Stack, Typography, Grid2 as Grid } from '@mui/material';\n\nimport AddIcon from 'mdi-material-ui/Plus';\nimport { ReactElement } from 'react';\nimport { CellSettings } from '../table-model';\nimport { CellEditor } from './CellEditor';\n\nexport interface CellsEditorProps {\n  cellSettings: CellSettings[];\n  onChange: (cellOptions: CellSettings[]) => void;\n}\n\nexport function CellsEditor({ cellSettings, onChange }: CellsEditorProps): ReactElement {\n  function handleCellChange(index: number, cell: CellSettings): void {\n    const updatedCells = [...cellSettings];\n    updatedCells[index] = cell;\n    onChange(updatedCells);\n  }\n\n  function handleAddCellEditor(): void {\n    const updatedCells = [...cellSettings];\n    updatedCells.push({ condition: { kind: 'Value', spec: { value: '' } } });\n    onChange(updatedCells);\n  }\n\n  function handleCellDelete(index: number): void {\n    const updatedCells = [...cellSettings];\n    updatedCells.splice(index, 1);\n    onChange(updatedCells);\n  }\n\n  return (\n    <Stack spacing={1}>\n      <Grid container spacing={2}>\n        <Grid size={{ xs: 5 }}>\n          <Typography variant=\"subtitle1\">Condition</Typography>\n        </Grid>\n        <Grid size={{ xs: 4 }}>\n          <Typography variant=\"subtitle1\">Display Text</Typography>\n        </Grid>\n        <Grid size={{ xs: 1 }} textAlign=\"center\">\n          <Typography variant=\"subtitle1\">Color</Typography>\n        </Grid>\n        <Grid size={{ xs: 1 }} textAlign=\"center\">\n          <Typography variant=\"subtitle1\">Background</Typography>\n        </Grid>\n        <Grid size={{ xs: 1 }}></Grid>\n      </Grid>\n      <Stack gap={1.5} divider={<Divider flexItem orientation=\"horizontal\" />}>\n        {cellSettings.map((cell, i) => (\n          <CellEditor\n            key={i}\n            cell={cell}\n            onChange={(updatedCell: CellSettings) => handleCellChange(i, updatedCell)}\n            onDelete={() => handleCellDelete(i)}\n          />\n        ))}\n      </Stack>\n\n      <Button variant=\"contained\" startIcon={<AddIcon />} sx={{ marginTop: 1 }} onClick={handleAddCellEditor}>\n        Add Cell Settings\n      </Button>\n    </Stack>\n  );\n}\n"],"names":["Button","Divider","Stack","Typography","Grid2","Grid","AddIcon","CellEditor","CellsEditor","cellSettings","onChange","handleCellChange","index","cell","updatedCells","handleAddCellEditor","push","condition","kind","spec","value","handleCellDelete","splice","spacing","container","size","xs","variant","textAlign","gap","divider","flexItem","orientation","map","i","updatedCell","onDelete","startIcon","sx","marginTop","onClick"],"mappings":"AAAA,oCAAoC;AACpC,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,6CAA6C;AAC7C,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;AAEjC,SAASA,MAAM,EAAEC,OAAO,EAAEC,KAAK,EAAEC,UAAU,EAAEC,SAASC,IAAI,QAAQ,gBAAgB;AAElF,OAAOC,aAAa,uBAAuB;AAG3C,SAASC,UAAU,QAAQ,eAAe;AAO1C,OAAO,SAASC,YAAY,EAAEC,YAAY,EAAEC,QAAQ,EAAoB;IACtE,SAASC,iBAAiBC,KAAa,EAAEC,IAAkB;QACzD,MAAMC,eAAe;eAAIL;SAAa;QACtCK,YAAY,CAACF,MAAM,GAAGC;QACtBH,SAASI;IACX;IAEA,SAASC;QACP,MAAMD,eAAe;eAAIL;SAAa;QACtCK,aAAaE,IAAI,CAAC;YAAEC,WAAW;gBAAEC,MAAM;gBAASC,MAAM;oBAAEC,OAAO;gBAAG;YAAE;QAAE;QACtEV,SAASI;IACX;IAEA,SAASO,iBAAiBT,KAAa;QACrC,MAAME,eAAe;eAAIL;SAAa;QACtCK,aAAaQ,MAAM,CAACV,OAAO;QAC3BF,SAASI;IACX;IAEA,qBACE,MAACZ;QAAMqB,SAAS;;0BACd,MAAClB;gBAAKmB,SAAS;gBAACD,SAAS;;kCACvB,KAAClB;wBAAKoB,MAAM;4BAAEC,IAAI;wBAAE;kCAClB,cAAA,KAACvB;4BAAWwB,SAAQ;sCAAY;;;kCAElC,KAACtB;wBAAKoB,MAAM;4BAAEC,IAAI;wBAAE;kCAClB,cAAA,KAACvB;4BAAWwB,SAAQ;sCAAY;;;kCAElC,KAACtB;wBAAKoB,MAAM;4BAAEC,IAAI;wBAAE;wBAAGE,WAAU;kCAC/B,cAAA,KAACzB;4BAAWwB,SAAQ;sCAAY;;;kCAElC,KAACtB;wBAAKoB,MAAM;4BAAEC,IAAI;wBAAE;wBAAGE,WAAU;kCAC/B,cAAA,KAACzB;4BAAWwB,SAAQ;sCAAY;;;kCAElC,KAACtB;wBAAKoB,MAAM;4BAAEC,IAAI;wBAAE;;;;0BAEtB,KAACxB;gBAAM2B,KAAK;gBAAKC,uBAAS,KAAC7B;oBAAQ8B,QAAQ;oBAACC,aAAY;;0BACrDvB,aAAawB,GAAG,CAAC,CAACpB,MAAMqB,kBACvB,KAAC3B;wBAECM,MAAMA;wBACNH,UAAU,CAACyB,cAA8BxB,iBAAiBuB,GAAGC;wBAC7DC,UAAU,IAAMf,iBAAiBa;uBAH5BA;;0BAQX,KAAClC;gBAAO2B,SAAQ;gBAAYU,yBAAW,KAAC/B;gBAAYgC,IAAI;oBAAEC,WAAW;gBAAE;gBAAGC,SAASzB;0BAAqB;;;;AAK9G"}