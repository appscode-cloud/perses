{"version":3,"sources":["../../../../src/TracingGanttChart/DetailPane/SpanEvents.tsx"],"sourcesContent":["// Copyright 2024 The Perses Authors\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Accordion, AccordionDetails, AccordionSummary, Typography } from '@mui/material';\nimport ExpandMoreIcon from 'mdi-material-ui/ChevronDown';\nimport { ReactElement } from 'react';\nimport { formatDuration } from '../utils';\nimport { Trace, Span, Event } from '../trace';\nimport { AttributeList } from './Attributes';\n\nexport interface SpanEventListProps {\n  trace: Trace;\n  span: Span;\n}\n\nexport function SpanEventList(props: SpanEventListProps): ReactElement {\n  const { trace, span } = props;\n\n  return (\n    <>\n      {span.events\n        .sort((a, b) => a.timeUnixMs - b.timeUnixMs)\n        .map((event, i) => (\n          <SpanEventItem key={i} trace={trace} event={event} />\n        ))}\n    </>\n  );\n}\n\ninterface SpanEventItemProps {\n  trace: Trace;\n  event: Event;\n}\n\nfunction SpanEventItem(props: SpanEventItemProps): ReactElement {\n  const { trace, event } = props;\n  const relativeTime = event.timeUnixMs - trace.startTimeUnixMs;\n\n  return (\n    <Accordion disableGutters>\n      <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n        <Typography>{formatDuration(relativeTime)}</Typography>\n      </AccordionSummary>\n      <AccordionDetails>\n        <Typography variant=\"subtitle1\">{event.name}</Typography>\n        <AttributeList attributes={event.attributes} />\n      </AccordionDetails>\n    </Accordion>\n  );\n}\n"],"names":["Accordion","AccordionDetails","AccordionSummary","Typography","ExpandMoreIcon","formatDuration","AttributeList","SpanEventList","props","trace","span","events","sort","a","b","timeUnixMs","map","event","i","SpanEventItem","relativeTime","startTimeUnixMs","disableGutters","expandIcon","variant","name","attributes"],"mappings":"AAAA,oCAAoC;AACpC,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,6CAA6C;AAC7C,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;AAEjC,SAASA,SAAS,EAAEC,gBAAgB,EAAEC,gBAAgB,EAAEC,UAAU,QAAQ,gBAAgB;AAC1F,OAAOC,oBAAoB,8BAA8B;AAEzD,SAASC,cAAc,QAAQ,WAAW;AAE1C,SAASC,aAAa,QAAQ,eAAe;AAO7C,OAAO,SAASC,cAAcC,KAAyB;IACrD,MAAM,EAAEC,KAAK,EAAEC,IAAI,EAAE,GAAGF;IAExB,qBACE;kBACGE,KAAKC,MAAM,CACTC,IAAI,CAAC,CAACC,GAAGC,IAAMD,EAAEE,UAAU,GAAGD,EAAEC,UAAU,EAC1CC,GAAG,CAAC,CAACC,OAAOC,kBACX,KAACC;gBAAsBV,OAAOA;gBAAOQ,OAAOA;eAAxBC;;AAI9B;AAOA,SAASC,cAAcX,KAAyB;IAC9C,MAAM,EAAEC,KAAK,EAAEQ,KAAK,EAAE,GAAGT;IACzB,MAAMY,eAAeH,MAAMF,UAAU,GAAGN,MAAMY,eAAe;IAE7D,qBACE,MAACrB;QAAUsB,cAAc;;0BACvB,KAACpB;gBAAiBqB,0BAAY,KAACnB;0BAC7B,cAAA,KAACD;8BAAYE,eAAee;;;0BAE9B,MAACnB;;kCACC,KAACE;wBAAWqB,SAAQ;kCAAaP,MAAMQ,IAAI;;kCAC3C,KAACnB;wBAAcoB,YAAYT,MAAMS,UAAU;;;;;;AAInD"}