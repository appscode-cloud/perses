/*! For license information please see 845.7d81dd14.js.LICENSE.txt */
(self.webpackChunkBarChart=self.webpackChunkBarChart||[]).push([["845"],{22538:function(t,r,n){var i=n(84275),a=n(42192),o=function(t,r){for(var n={};t.length;){var i=t[0],o=i.code,s=i.message,l=i.path.join(".");if(!n[l]){if("unionErrors"in i){var u=i.unionErrors[0].errors[0];n[l]={message:u.message,type:u.code}}else n[l]={message:s,type:o}}if("unionErrors"in i&&i.unionErrors.forEach(function(r){return r.errors.forEach(function(r){return t.push(r)})}),r){var d=n[l].types,c=d&&d[i.code];n[l]=a.appendErrors(l,r,n,o,c?[].concat(c,i.message):i.message)}t.shift()}return n};r.zodResolver=function(t,r,n){return void 0===n&&(n={}),function(a,s,l){try{return Promise.resolve(function(o,s){try{var u=Promise.resolve(t["sync"===n.mode?"parse":"parseAsync"](a,r)).then(function(t){return l.shouldUseNativeValidation&&i.validateFieldsNatively({},l),{errors:{},values:n.raw?a:t}})}catch(t){return s(t)}return u&&u.then?u.then(void 0,s):u}(0,function(t){if(Array.isArray(null==t?void 0:t.errors))return{values:{},errors:i.toNestErrors(o(t.errors,!l.shouldUseNativeValidation&&"all"===l.criteriaMode),l)};throw t}))}catch(t){return Promise.reject(t)}}}},84954:function(t,r,n){"use strict";n.d(r,{Z:()=>g});var i=n(8218),a=n(90496),o=n(82267),s=n(12709),l=n(51751),u=n(28866),d=n(44124),c=n(6749);function p(t){return(0,c.ZP)("MuiCard",t)}(0,d.Z)("MuiCard",["root"]);var f=n(24246);let h=t=>{let{classes:r}=t;return(0,o.Z)({root:["root"]},p,r)},m=(0,s.ZP)(u.Z,{name:"MuiCard",slot:"Root",overridesResolver:(t,r)=>r.root})({overflow:"hidden"}),g=i.forwardRef(function(t,r){let n=(0,l.i)({props:t,name:"MuiCard"}),{className:i,raised:o=!1,...s}=n,u={...n,raised:o},d=h(u);return(0,f.jsx)(m,{className:(0,a.Z)(d.root,i),elevation:o?8:void 0,ref:r,ownerState:u,...s})})},70313:function(t,r,n){"use strict";n.d(r,{d:()=>d});var i=n(8218),a=n(97048),o=n(81925),s=n(80668),l=n(94680);function u(t){return t.substring(2).toLowerCase()}function d(t){let{children:r,disableReactTree:n=!1,mouseEvent:d="onClick",onClickAway:c,touchEvent:p="onTouchEnd"}=t,f=i.useRef(!1),h=i.useRef(null),m=i.useRef(!1),g=i.useRef(!1);i.useEffect(()=>(setTimeout(()=>{m.current=!0},0),()=>{m.current=!1}),[]);let y=(0,a.Z)((0,l.Z)(r),h),v=(0,o.Z)(t=>{let r;let i=g.current;g.current=!1;let a=(0,s.Z)(h.current);if(m.current&&h.current&&(!("clientX"in t)||!(a.documentElement.clientWidth<t.clientX)&&!(a.documentElement.clientHeight<t.clientY))){if(f.current){f.current=!1;return}(t.composedPath?t.composedPath().includes(h.current):!a.documentElement.contains(t.target)||h.current.contains(t.target))||!n&&i||c(t)}}),b=t=>n=>{g.current=!0;let i=r.props[t];i&&i(n)},x={ref:y};return!1!==p&&(x[p]=b(p)),i.useEffect(()=>{if(!1!==p){let t=u(p),r=(0,s.Z)(h.current),n=()=>{f.current=!0};return r.addEventListener(t,v),r.addEventListener("touchmove",n),()=>{r.removeEventListener(t,v),r.removeEventListener("touchmove",n)}}},[v,p]),!1!==d&&(x[d]=b(d)),i.useEffect(()=>{if(!1!==d){let t=u(d),r=(0,s.Z)(h.current);return r.addEventListener(t,v),()=>{r.removeEventListener(t,v)}}},[v,d]),i.cloneElement(r,x)}},85843:function(t,r,n){"use strict";n.d(r,{Z:()=>y});var i=n(8218),a=n(90496),o=n(82267),s=n(12709),l=n(51751),u=n(44124),d=n(6749);function c(t){return(0,d.ZP)("MuiFormGroup",t)}(0,u.Z)("MuiFormGroup",["root","row","error"]);var p=n(36683),f=n(33567),h=n(24246);let m=t=>{let{classes:r,row:n,error:i}=t;return(0,o.Z)({root:["root",n&&"row",i&&"error"]},c,r)},g=(0,s.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,r)=>{let{ownerState:n}=t;return[r.root,n.row&&r.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),y=i.forwardRef(function(t,r){let n=(0,l.i)({props:t,name:"MuiFormGroup"}),{className:i,row:o=!1,...s}=n,u=(0,p.Z)(),d=(0,f.Z)({props:n,muiFormControl:u,states:["error"]}),c={...n,row:o,error:d.error},y=m(c);return(0,h.jsx)(g,{className:(0,a.Z)(y.root,i),ownerState:c,ref:r,...s})})},66694:function(t,r,n){"use strict";n.d(r,{Q:()=>a,U:()=>i});let i="1h",a="0s"},22410:function(t,r,n){"use strict";n.d(r,{x:()=>i});let i="$__all"},67469:function(t,r,n){"use strict";n.d(r,{z:()=>a});var i=n(8218);function a(t){let r=(0,i.useRef)(t);return(0,i.useLayoutEffect)(()=>{r.current=t}),(0,i.useCallback)((...t)=>r.current(...t),[])}},29558:function(t,r,n){"use strict";n.d(r,{_:()=>l});var i=n(24246),a=n(8218),o=n(67469),s=n(71141);function l(t){let{projectName:r,datasourceApi:n,onCreate:l,children:d}=t,[c,p]=(0,a.useState)(t.dashboardResource),[f,h]=(0,a.useState)(t.savedDatasources??{}),m=r??c?.metadata.project,{getPlugin:g,listPluginMetadata:y}=(0,s.usePluginRegistry)(),v=(0,o.z)(async t=>{if(c){let{datasources:r}=c.spec,i=function(t,r){if(void 0===t)return;if(void 0!==r.name){let n=t[r.name];if(void 0===n)return;return n.plugin.kind===r.kind?{name:r.name,spec:n}:void 0}let n=Object.entries(t).find(t=>t[1].plugin.kind===r.kind&&t[1].default);if(n)return{name:n[0],spec:n[1]}}(r,t);if(void 0!==i)return{spec:i.spec,proxyUrl:u(n,{project:c.metadata.project,dashboard:c.metadata.name,name:i.name})}}if(m){let r=await n.getDatasource(m,t);if(void 0!==r)return{spec:r.spec,proxyUrl:u(n,{project:r.metadata.project,name:r.metadata.name})}}let r=await n.getGlobalDatasource(t);if(void 0!==r)return{spec:r.spec,proxyUrl:u(n,{name:r.metadata.name})};throw Error(`No datasource found for kind '${t.kind}' and name '${t.name}'`)}),b=(0,a.useCallback)(async t=>{let{spec:r}=await v(t);return r},[v]),x=(0,a.useCallback)(async function(t){let{kind:r}=t,[{spec:n,proxyUrl:i},a]=await Promise.all([v(t),g("Datasource",r)]),o=a.createClient(n.plugin.spec,{proxyUrl:i});return void 0!==l?l(o):o},[v,g,l]),w=(0,o.z)(async t=>{let[r,i,a]=await Promise.all([y(["Datasource"]),m?n.listDatasources(m,t):[],n.listGlobalDatasources(t)]),o=r.find(r=>r.spec.name===t);if(void 0===o)throw Error(`Could not find a Datasource plugin with kind '${t}'`);let{results:s,addItem:l}=function(t){let r=[],n=new Set,i=!0,a=!1,o={},s=1;return{results:r,addItem:({spec:l,selectorName:u,selectorGroup:d,editLink:c,saved:p})=>{d=d??"",i&&r.push({group:`Default ${t}`,items:[]});let f=r[o[d]??-1];!f&&(o[d]=s,f={items:[],group:d,editLink:c},r[s]=f,s++);let h=n.has(u);f.items.push({name:l.display?.name??u,overridden:h,saved:p,selector:{kind:l.plugin.kind,name:u,group:d}}),n.add(u);let m=!h&&l.default&&!a;if(r[0]&&(i||m)&&(r[0].items=[{name:`Default (${u} from ${d})`,selector:{kind:l.plugin.kind}}],a=m),h)for(let t=+!!a;t<s;t++)(r[t]?.items??[]).filter(t=>t.selector.name===u).forEach(t=>{t.overriding=!0});i=!1}}}(o.spec.display.name);if(c?.spec.datasources)for(let r in c.spec.datasources){let n=c.spec.datasources[r];if(void 0===n||n.plugin.kind!==t)continue;let i=r in f;l({spec:n,selectorName:r,selectorGroup:"dashboard",saved:i})}for(let t of i){let r=t.metadata.name;l({spec:t.spec,selectorName:r,selectorGroup:"project",editLink:`/projects/${m}/datasources`})}for(let t of a){let r=t.metadata.name;l({spec:t.spec,selectorName:r,selectorGroup:"global",editLink:"/admin/datasources"})}return s}),j=(0,a.useCallback)(()=>c?.spec.datasources??{},[c]),S=(0,a.useCallback)(()=>f,[f]),C=(0,a.useCallback)(t=>{c&&p((c.kind,{...c,spec:{...c.spec,datasources:t}}))},[c]),_=(0,a.useMemo)(()=>({getDatasource:b,getDatasourceClient:x,getLocalDatasources:j,setLocalDatasources:C,setSavedDatasources:h,getSavedDatasources:S,listDatasourceSelectItems:w}),[b,x,j,C,w,h,S]);return(0,i.jsx)(s.DatasourceStoreContext.Provider,{value:_,children:d})}function u(t,r){return t.buildProxyUrl?t.buildProxyUrl(r):""}},21131:function(t,r,n){"use strict";n.d(r,{qz:()=>R,Yz:()=>E,lR:()=>k,hK:()=>D,lt:()=>I,vB:()=>P,OF:()=>Z,mo:()=>A});var i=n(24246),a=n(8218),o=n(60626);let{useDebugValue:s}=a,{useSyncExternalStoreWithSelector:l}=o,u=!1,d=t=>t;function c(t,r=d,n){n&&!u&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),u=!0);let i=l(t.subscribe,t.getState,t.getServerState||t.getInitialState,r,n);return s(i),i}var p=n(40330),f=n(8785),h=n(48639),m=n(56569),g=n(65447),y=n(96494),v=n(71141),b=n(22410),x=n(29085);function w(t,r){var n,i,a;let o={},s=[];return n=t,i=r,a=(t,r)=>{o[r]||(s.push(t),o[r]=!0)},n.forEach(t=>a(t,t.spec.name)),i.forEach(t=>t.definitions.forEach(r=>a(r,r.spec.name,t.source))),s}var j=n(30221),S=n(51564);let C="var-",_={encode:function(t){return Array.isArray(t)?t.join(","):t},decode:t=>"string"==typeof t?function(t){if(!t)return null;let r=t.split(",");return 1===r.length?r[0]:r}(t):""},O=(0,a.createContext)(void 0);function k(){let t=(0,a.useContext)(O);if(!t)throw Error("VariableStoreContext not initialized");return t}function P(t){let r=k();return(0,f.s)(r,r=>{let n={};return(t??r.variableDefinitions.map(t=>t.spec.name)).forEach(t=>{let i=r.variableState.get({name:t});i&&!i.overridden&&(n[t]=i)}),r.externalVariableDefinitions.forEach(t=>{let i=t.source;t.definitions.forEach(t=>{let a=t.spec.name,o=r.variableState.get({name:a,source:i});o&&!o.overridden&&(n[a]=o)})}),n},(t,r)=>JSON.stringify(t)===JSON.stringify(r))}function E(t,r){return c(k(),n=>({state:n.variableState.get({name:t,source:r}),definition:((r?n.externalVariableDefinitions.find(t=>t.source===r)?.definitions:n.variableDefinitions)||[]).find(r=>r.spec.name===t)}))}function D(){let t=k();return(0,f.s)(t,t=>({setVariableValue:t.setVariableValue,setVariableLoading:t.setVariableLoading,setVariableOptions:t.setVariableOptions,setVariableDefinitions:t.setVariableDefinitions,setVariableDefaultValues:t.setVariableDefaultValues,getSavedVariablesStatus:t.getSavedVariablesStatus}),g.X)}function A(){return c(k(),t=>t.variableDefinitions)}function R(){return c(k(),t=>t.externalVariableDefinitions)}function M({children:t,builtinVariables:r}){let n=P(),o=A(),s=R(),{absoluteTimeRange:l}=(0,v.useTimeRange)(),u=(0,a.useMemo)(()=>{let t={};return Object.keys(n).forEach(r=>{let i={...n[r]};if(i.value===b.x){let t=w(o,s).find(t=>t.spec.name===r);t?.kind==="ListVariable"&&t.spec.customAllValue?i.value=t.spec.customAllValue:i.value=i.options?.map(t=>t.value)??null}t[r]=i}),t},[n,o,s]),d=(0,a.useMemo)(()=>{let t=[{kind:"BuiltinVariable",spec:{name:"__from",value:()=>l.start.valueOf().toString(),source:"Dashboard",display:{name:"__from",description:"Start time of the current time range in unix millisecond epoch",hidden:!0}}},{kind:"BuiltinVariable",spec:{name:"__to",value:()=>l.end.valueOf().toString(),source:"Dashboard",display:{name:"__to",description:"End time of the current time range in unix millisecond epoch",hidden:!0}}},{kind:"BuiltinVariable",spec:{name:"__range",value:()=>(0,x.LU)((0,x.Gt)(l)),source:"Dashboard",display:{name:"__range",description:"The range for the current dashboard in human readable format",hidden:!0}}},{kind:"BuiltinVariable",spec:{name:"__range_s",value:()=>((l.end.valueOf()-l.start.valueOf())/1e3).toString(),source:"Dashboard",display:{name:"__range_s",description:"The range for the current dashboard in second",hidden:!0}}},{kind:"BuiltinVariable",spec:{name:"__range_ms",value:()=>(l.end.valueOf()-l.start.valueOf()).toString(),source:"Dashboard",display:{name:"__range_ms",description:"The range for the current dashboard in millisecond",hidden:!0}}}];return r?.forEach(r=>t.push(r)),t},[l,r]);return(0,i.jsx)(v.BuiltinVariableContext.Provider,{value:{variables:d},children:(0,i.jsx)(v.VariableContext.Provider,{value:{state:u},children:t})})}function T({initialVariableDefinitions:t=[],externalVariableDefinitions:r=[],queryParams:n}){let i=function(t){let r={};return Object.keys(t).forEach(n=>{let i=t[n];i&&(r[n.replace(C,"")]=i)}),r}(n?n[0]:{});return(0,p.M)()((0,m.mW)((0,h.n)((a,o)=>({variableState:(0,j.D)(t,i,r),variableDefinitions:t,externalVariableDefinitions:r,setVariableDefinitions(t){a(n=>{n.variableDefinitions=t,n.variableState=(0,j.D)(t,i,r)},!1,"[Variables] setVariableDefinitions")},setVariableOptions(t,r,n){a(i=>{let a=i.variableState.get({name:t,source:n});a&&(a.options=r)},!1,"[Variables] setVariableOptions")},setVariableLoading(t,r,n){a(i=>{let a=i.variableState.get({name:t,source:n});a&&(a.loading=r)},!1,"[Variables] setVariableLoading")},setVariableValue:(t,r,i)=>a(a=>{let o=r,s=a.variableState.get({name:t,source:i});if(s){if(Array.isArray(o)&&o.includes(b.x)&&(o=o.at(-1)===b.x?b.x:o.filter(t=>t!==b.x)),n)(0,n[1])({[`${C}${t}`]:o});s.value=o}},!1,"[Variables] setVariableValue"),setVariableDefaultValues:()=>{let t=o().variableDefinitions,r=o().variableState,n=(0,y.produce)(t,t=>{t.forEach((n,i)=>{let a=n.spec.name;if("ListVariable"===n.kind){let o=r.get({name:a});o?.value!==void 0&&(t[i]={kind:"ListVariable",spec:(0,y.produce)(n.spec,t=>{t.defaultValue=o.value})})}else if("TextVariable"===n.kind){let o=r.get({name:a}),s="string"==typeof o?.value?o.value:"";o?.value!==void 0&&(t[i]={kind:"TextVariable",spec:(0,y.produce)(n.spec,t=>{t.value=s})})}})});return a(t=>{t.variableDefinitions=n},!1,"[Variables] setVariableDefaultValues"),n},getSavedVariablesStatus:()=>(function(t,r){let n=!1,i=[];for(let a of t){let t=a.spec.name;if("ListVariable"===a.kind){let o=r.get({name:t});o?.value!==null&&o?.value!==a.spec.defaultValue&&(i.push(t),n=!0)}else if("TextVariable"===a.kind){let o=r.get({name:t}),s="string"==typeof o?.value?o.value:"";a.spec.value!==s&&(i.push(t),n=!0)}}return{isSavedVariableModified:n,modifiedVariableNames:i}})(o().variableDefinitions,o().variableState)}))))}function Z({children:t,initialVariableDefinitions:r=[],externalVariableDefinitions:n=[],builtinVariableDefinitions:o=[]}){let[s]=(0,a.useState)(()=>T({initialVariableDefinitions:r,externalVariableDefinitions:n}));return(0,i.jsx)(O.Provider,{value:s,children:(0,i.jsx)(M,{builtinVariables:o,children:t})})}function I({children:t,initialVariableDefinitions:r=[],externalVariableDefinitions:n=[],builtinVariableDefinitions:o=[]}){let s=function(t){let r={};return t.forEach(t=>{var n;r[n=t.spec.name,`${C}${n}`]=_}),(0,S.useQueryParams)(r,{updateType:"replaceIn"})}(w(r,n)),[l]=(0,a.useState)(()=>T({initialVariableDefinitions:r,externalVariableDefinitions:n,queryParams:s}));return(0,i.jsx)(O.Provider,{value:l,children:(0,i.jsx)(M,{builtinVariables:o,children:t})})}},30221:function(t,r,n){"use strict";n.d(r,{D:()=>s});var i=n(22410),a=n(71141);function o(t,r){let n={value:null,loading:!1,overriding:!1,overridden:!1};switch(t.kind){case"TextVariable":n.value=r??t.spec.value;break;case"ListVariable":if(n.options=[],n.value=r??t.spec.defaultValue??null,n.options.length>0&&!n.value){let r=n.options[0]?.value??null;null!==r&&(n.value=t.spec.allowMultiple?[r]:r)}Array.isArray(n.value)&&1===n.value.length&&n.value[0]===i.x&&(n.value=i.x)}return n}function s(t,r,n=[]){let i=new a.VariableStoreStateMap,l={};t.forEach(t=>{l[t.spec.name]=!0},{});let u={};return n.forEach(t=>{let n=t.source;t.definitions.forEach(t=>{let a=t.spec.name,s=r[a];i.set({source:n,name:a},{...o(t,s||null),overridden:!!l[a]}),l[a]=!0,u[t.spec.name]=!0})},{}),t.forEach(t=>{let n=t.spec.name,a=r[n];i.set({name:n},{...o(t,a||null),overriding:!!u[n]})}),l={},n.slice().reverse().forEach(t=>{let r=t.source;t.definitions.forEach(t=>{let n=t.spec.name,a=i.get({source:r,name:n});a&&(a.overriding=!!l[n]),l[n]=!0})}),i}},27284:function(t,r,n){"use strict";let i;n.r(r),n.d(r,{useListPanelGroups:()=>Q,useVariableDefinitionAndState:()=>t3.Yz,usePanelGroupEditor:()=>er,VariableProviderWithQueryParams:()=>t3.lt,DashboardContext:()=>N,SaveDashboardButton:()=>i4,useDeletePanelGroupDialog:()=>ei,DashboardDiscardChangesConfirmationDialog:()=>a$,useVariableDefinitionStoreCtx:()=>t3.lR,useDashboardDuration:()=>ef,useDashboardStore:()=>L,useDiscardChangesConfirmationDialog:()=>ew,PanelPluginLoader:()=>tl,useDashboardActions:()=>q,useVariableDefinitions:()=>t3.mo,VariableEditor:()=>rV,ViewDashboard:()=>oi,generateId:()=>j,EditJsonDialog:()=>aH,VariableList:()=>aE,DashboardToolbar:()=>aR,VariableListItem:()=>aD,DeletePanelDialog:()=>aM,Panel:()=>tX,createPanelDefinition:()=>S,useEditMode:()=>H,usePanelGroupActions:()=>Y,useVariableDefinitionActions:()=>t3.hK,usePanel:()=>ea,PanelGroupDialog:()=>a4,useViewPanel:()=>em,QuerySummaryTable:()=>a3,GridContainer:()=>t1,Variable:()=>aS,GridItemContent:()=>t0,GridLayout:()=>t4,useSaveChangesConfirmationDialog:()=>eb,usePanelGroup:()=>K,VariableName:()=>rL,EmptyDashboard:()=>rW,GridTitle:()=>e4,DeletePanelGroupDialog:()=>aF,useViewPanelGroup:()=>ey,AddGroupButton:()=>eC,PanelDrawer:()=>aY,DownloadButton:()=>iJ,BuiltinVariableAccordions:()=>rZ,EditVariablesButton:()=>rF,useDeletePanelDialog:()=>ec,useEditJsonDialog:()=>eS,usePanelEditor:()=>eu,DashboardProvider:()=>F,DatasourceStoreProvider:()=>oe._,EditDatasourcesButton:()=>iX,SaveChangesConfirmationDialog:()=>a7,DatasourceEditor:()=>iY,VariableProvider:()=>t3.OF,useExternalVariableDefinitions:()=>t3.qz,EditJsonButton:()=>i1,useListVariableState:()=>aC,usePanelActions:()=>es,usePanelGroupIds:()=>U,AddPanelButton:()=>eO,useVariableDefinitionStates:()=>t3.vB,PanelPreview:()=>aG,useDashboard:()=>iK,DashboardStickyToolbar:()=>aA,Dashboard:()=>rU});var a=n(24246),o=n(48565),s=n(69472),l=n(20370);let u={addPanel:"Add panel",addGroup:"Add panel group",editDatasources:"Edit datasources",editJson:"Edit JSON",editVariables:"Edit variables",viewJson:"View JSON",addPanelToGroup:"Add panel to group",deleteGroup:"Delete group",editGroup:"Edit group",moveGroupDown:"Move group down",moveGroupUp:"Move group up",viewPanel:"Toggle View Mode",editPanel:"Edit",duplicatePanel:"Duplicate",deletePanel:"Delete",movePanel:"Move"},d={addPanelToGroup:t=>`add panel to group ${t}`,deleteGroup:t=>`delete group ${t}`,editGroup:t=>`edit group ${t}`,moveGroupDown:t=>`move group ${t} down`,moveGroupUp:t=>`move group ${t} up`,viewPanel:t=>`toggle panel ${t} view mode`,editPanel:t=>`edit panel ${t}`,duplicatePanel:t=>`duplicate panel ${t}`,deletePanel:t=>`delete panel ${t}`,showPanelActions:t=>`show panel actions for ${t}`,movePanel:t=>`move panel ${t}`},c={whiteSpace:"nowrap",minWidth:"auto","& .MuiButton-startIcon":{marginRight:.5}},p="header-actions-container";var f=n(8218),h=n.n(f),m=n(40330),g=n(8785),y=n(56569),v=n(48639),b=n(65447),x=n(66694),w=n(71141);function j(){return void 0===globalThis.dashboardStoreId&&(globalThis.dashboardStoreId=0),globalThis.dashboardStoreId++}function S(t,r){return{kind:"Panel",spec:{display:{name:"",description:void 0},plugin:{kind:t??"",spec:r??{}},queries:[]}}}function C(t){let r={},n=[];for(let i of t){let t=[],a={};for(let r of i.spec.items){let n=j().toString();t.push({i:n,w:r.width,h:r.height,x:r.x,y:r.y}),a[n]=r.content.$ref.substring(14)}let o=j();r[o]={id:o,isCollapsed:i.spec.display?.collapse?.open===!1,title:i.spec.display?.title,itemLayouts:t,itemPanelKeys:a},n.push(o)}return{panelGroups:r,panelGroupOrder:n}}function _(){return{id:j(),title:void 0,isCollapsed:!1,itemLayouts:[],itemPanelKeys:{}}}function O(t,r){t.panelGroups[r.id]=r,t.panelGroupOrder.unshift(r.id)}let k=(t,r)=>({panelGroupEditor:void 0,openAddPanelGroup:()=>{let r={mode:"Add",initialValues:{title:"",isCollapsed:!1},applyChanges(r){let n=_();n.title=r.title,n.isCollapsed=r.isCollapsed,t(t=>{O(t,n)})},close(){t(t=>{t.panelGroupEditor=void 0})}};t(t=>{t.panelGroupEditor=r})},openEditPanelGroup:n=>{let i=r().panelGroups[n];if(void 0===i)throw Error(`Panel group with Id ${n} does not exist`);let a={mode:"Edit",initialValues:{title:i.title??"",isCollapsed:i.isCollapsed},applyChanges(r){t(t=>{let i=t.panelGroups[n];if(void 0===i)throw Error(`Panel group with Id ${n} does not exist`);i.title=r.title,i.isCollapsed=r.isCollapsed})},close(){t(t=>{t.panelGroupEditor=void 0})}};t(t=>{t.panelGroupEditor=a})}}),P={sm:24,xxs:2};function E(t){let r=0;for(let n of t.itemLayouts){let t=n.y+n.h;t>r&&(r=t)}return r}function D({x:t,y:r,w:n,h:i}){return{x1:t,x2:t+n,y1:r,y2:r+i}}function A(t,r){let n=function(t){let r={};return Object.keys(t).forEach(t=>{let{name:n,number:i}=M(t);void 0===r[n]&&(r[n]=0);let a=r[n];"number"==typeof a&&i&&(r[n]=Math.max(a,i))}),r}(r),i=M(R(t)).name,a=n[i];return"number"==typeof a&&(i+=`-${a+1}`),i}let R=t=>t.replace(/\s+/g,"");function M(t){let r=t.match(/(.+)-([0-9]+)/);return r&&r[1]&&r[2]?{name:r[1],number:parseInt(r[2],10)}:{name:t}}let T=(t,r)=>({deletePanelGroup(n){let{panelGroups:i,panelGroupOrder:a}=r(),o=i[n],s=a.findIndex(t=>t===n);if(void 0===o||-1===s)throw Error(`Panel group ${n} not found`);let l=Object.values(o.itemPanelKeys);t(t=>{delete t.panelGroups[n],t.panelGroupOrder.splice(s,1);let r=function(t){let r=new Set;for(let n of Object.values(t))for(let t of Object.values(n.itemPanelKeys))r.add(t);return r}(t.panelGroups);for(let n of l)r.has(n)||delete t.panels[n]})},openDeletePanelGroupDialog:n=>{let i=r().panelGroups[n];if(void 0===i)throw Error(`Panel group with Id ${n} not found`);t(t=>{t.deletePanelGroupDialog={panelGroupId:n,panelGroupName:i.title}})},closeDeletePanelGroupDialog:()=>t(t=>{t.deletePanelGroupDialog=void 0})}),Z=t=>({isOpen:!1,openDiscardChangesConfirmationDialog(r){t(t=>{t.discardChangesConfirmationDialog=r})},closeDiscardChangesConfirmationDialog(){t(t=>{t.discardChangesConfirmationDialog=void 0})}}),I=t=>({isOpen:!1,openSaveChangesConfirmationDialog(r){t(t=>{t.saveChangesConfirmationDialog=r},!1,"openSaveChangesConfirmationDialog")},closeSaveChangesConfirmationDialog(){t(t=>{t.saveChangesConfirmationDialog=void 0},!1,"closeSaveChangesConfirmationDialog")}}),V=t=>({openEditJsonDialog(){t(t=>{t.editJsonDialog={isOpen:!0}})},closeEditJsonDialog(){t(t=>{t.editJsonDialog={isOpen:!1}})}}),N=(0,f.createContext)(void 0);function L(t){let r=(0,f.useContext)(N);if(void 0===r)throw Error("No DashboardContext found. Did you forget a Provider?");return(0,g.s)(r,t,b.X)}function F(t){let r=(0,f.useCallback)($,[t]),{defaultPluginKinds:n}=(0,w.usePluginRegistry)(),i=n?.Panel??"",{data:o}=(0,w.usePlugin)("Panel",i),[s]=(0,f.useState)(r(t));return(0,f.useEffect)(()=>{if(void 0===o)return;let t=o.createInitialOptions?o.createInitialOptions():{};s.setState({initialValues:{panelDefinition:S(i,t)}})},[o,s,i]),(0,a.jsx)(N.Provider,{value:s,children:t.children})}function $(t){let{initialState:{dashboardResource:r,isEditMode:n,viewPanelRef:i,setViewPanelRef:a}}=t,{kind:o,metadata:s,spec:{display:l,duration:u,refreshInterval:d=x.Q,datasources:c}}=r,p="ttl"in r.spec?r.spec.ttl:void 0,{spec:{layouts:f,panels:h}}=r;return f=f??[],h=h??{},(0,m.M)()((0,v.n)((0,y.mW)((...t)=>{var r;let m,g,y,v;let[b]=t;return{...(function(t){let{panelGroups:r,panelGroupOrder:n}=C(t);return t=>({panelGroups:r,panelGroupOrder:n,swapPanelGroups(r,n){t(t=>{if(r<0||r>=t.panelGroupOrder.length||n<0||n>=t.panelGroupOrder.length)throw Error("index out of bound");let i=t.panelGroupOrder[r],a=t.panelGroupOrder[n];if(void 0===i||void 0===a)throw Error("panel group is undefined");[t.panelGroupOrder[r],t.panelGroupOrder[n]]=[a,i]})},updatePanelGroupLayouts(r,n){t(t=>{let i=t.panelGroups[r];if(void 0===i)throw Error(`Cannot find panel group ${r}`);i.itemLayouts=n})}})})(f)(...t),...k(...t),...T(...t),...(r=h,()=>({panels:r}))(...t),panelEditor:void 0,openEditPanel(r){let{panels:n,panelGroups:i}=m(),{panelGroupId:a,panelGroupItemLayoutId:o}=r,s=i[a]?.itemPanelKeys[o];if(void 0===s)throw Error(`Could not find Panel Group item ${r}`);let l=n[s];if(void 0===l)throw Error(`Cannot find Panel with key '${s}'`);let u={mode:"update",initialValues:{groupId:r.panelGroupId,panelDefinition:l},applyChanges:r=>{t(t=>{if(t.panels[s]=r.panelDefinition,r.groupId===a)return;let n=t.panelGroups[a];if(void 0===n)throw Error(`Missing panel group ${a}`);let i=n.itemLayouts.findIndex(t=>t.i===o),l=n.itemLayouts[i],u=n.itemPanelKeys[o];if(-1===i||void 0===l||void 0===u)throw Error(`Missing panel group item ${o}`);n.itemLayouts.splice(i,1),delete n.itemPanelKeys[o];let d=t.panelGroups[r.groupId];if(void 0===d)throw Error(`Could not find new group ${r.groupId}`);d.itemLayouts.push({i:l.i,x:0,y:E(d),w:l.w,h:l.h}),d.itemPanelKeys[l.i]=u})},close:()=>{t(t=>{t.panelEditor=void 0})}};t(t=>{t.panelEditor=u})},openAddPanel(r){let n;void 0===(r??=m().panelGroupOrder[0])&&((n=_()).title="Panel Group",r=n.id);let i={mode:"create",initialValues:{groupId:r,panelDefinition:m().initialValues?.panelDefinition??S()},applyChanges:r=>{let n=A(r.panelDefinition.spec.display.name,m().panels);t(t=>{t.panels[n]=r.panelDefinition;let i=t.panelGroups[r.groupId];if(void 0===i)throw Error(`Missing panel group ${r.groupId}`);let a={i:j().toString(),x:0,y:E(i),w:12,h:6};i.itemLayouts.push(a),i.itemPanelKeys[a.i]=n})},close:()=>{t(t=>{t.panelEditor=void 0})}};t(t=>{void 0!==n&&O(t,n),t.panelEditor=i})},deletePanel(r){t(t=>{let{panelGroupId:n,panelGroupItemLayoutId:i}=r,a=t.panelGroups[n];if(void 0===a)throw Error(`Missing panel group ${n}`);let o=a.itemLayouts.findIndex(t=>t.i===i),s=a.itemPanelKeys[i];if(-1===o||void 0===s)throw Error(`Missing panel group item ${i}`);a.itemLayouts.splice(o,1),delete a.itemPanelKeys[i],!1===function(t,r){for(let n of Object.values(t))if(void 0!==Object.values(n.itemPanelKeys).find(t=>t===r))return!0;return!1}(t.panelGroups,s)&&delete t.panels[s]})},openDeletePanelDialog(r){let{panelGroupId:n,panelGroupItemLayoutId:i}=r,{panels:a,panelGroups:o}=g(),s=o[n];if(void 0===s)throw Error(`Panel group not found ${n}`);let l=s.itemPanelKeys[i];if(void 0===l)throw Error(`Could not find Panel Group item ${i}`);let u=a[l];if(void 0===u)throw Error(`Could not find panel ${l}`);t(t=>{t.deletePanelDialog={panelGroupItemId:r,panelName:u.spec.display.name,panelGroupName:s.title??""}})},closeDeletePanelDialog(){t(t=>{t.deletePanelDialog=void 0})},duplicatePanel(r){t(t=>{let n=t.panels,{panelGroupId:i,panelGroupItemLayoutId:a}=r,o=t.panelGroups[i];if(void 0===o)throw Error(`Missing panel group ${i}`);let s=o.itemPanelKeys[a];if(void 0===s)throw Error(`Could not find Panel Group item ${r}`);let l=n[s];if(void 0===l)throw Error(`Cannot find Panel with key '${s}'`);let u=o.itemLayouts.find(t=>t.i===a);if(void 0===u)throw Error(`Cannot find layout for Panel with key '${s}'`);let d=A(s,n);t.panels[d]=l;let c={i:j().toString(),w:u.w,h:u.h};o.itemLayouts=function(t,r,n){let i=P.sm,a=D(r),o=[],s=[],l=[];n.forEach(t=>{let r=D(t);r.y2<=a.y1?o.push(t):r.y1>=a.y2?l.push(t):s.push(t)}),s.sort((t,r)=>t.x-r.x);let u=s.findIndex(t=>t.i===r.i);if(u===s.length-1){if(a.x2+t.w<=i)return[...o,...s,{...t,x:a.x2,y:a.y1},...l]}else if(u>=0){let r=s[u+1];if(r&&D(r).x1-a.x2>=t.w)return s.splice(u+1,0,{...t,x:a.x2,y:a.y1}),[...o,...s,...l]}return[...o,...s,{x:a.x1,y:a.y2,...t},...l.map(r=>({...r,y:r.y+t.h}))]}(c,u,o.itemLayouts),o.itemPanelKeys[c.i]=d})},...(y=t,{viewPanel:{panelGroupItemId:void 0,panelRef:i},getViewPanel:()=>{var t,r,n;return t=v().panelGroups,r=v().viewPanel.panelGroupItemId,n=v().viewPanel.panelRef,r||(n?function(t,r){for(let n of Object.values(t)){let t=Object.entries(n.itemPanelKeys??[]).find(([t,n])=>n===r);if(t){let[r]=t;return{panelGroupId:n.id,panelGroupItemLayoutId:r}}}}(t,n):void 0)},setViewPanel(t){y(r=>{r.viewPanel={panelRef:void 0,panelGroupItemId:t};let n=function(t,r){if(!r)return;let n=t[r.panelGroupId];if(n)return n.itemPanelKeys[r.panelGroupItemLayoutId]}(v().panelGroups,t);a&&a(n)})}}),...Z(...t),...V(...t),...I(...t),kind:o,metadata:s,display:l,duration:u,refreshInterval:d,datasources:c,ttl:p,isEditMode:!!n,setEditMode:t=>b({isEditMode:t}),setDashboard:({kind:t,metadata:r,spec:{display:n,panels:i={},layouts:a=[],duration:o,refreshInterval:s,datasources:l={}}})=>{b(u=>{u.kind=t,u.metadata=r,u.display=n,u.panels=i;let{panelGroups:d,panelGroupOrder:c}=C(a);u.panelGroups=d,u.panelGroupOrder=c,u.duration=o,u.refreshInterval=s??x.Q,u.datasources=l})}}})))}let z=({isEditMode:t,setEditMode:r})=>({isEditMode:t,setEditMode:r});function H(){return L(z)}let B=({setDashboard:t,openAddPanelGroup:r,openAddPanel:n})=>({setDashboard:t,openAddPanelGroup:r,openAddPanel:n});function q(){let{setDashboard:t,openAddPanelGroup:r,openAddPanel:n}=L(B);return{setDashboard:t,openAddPanelGroup:()=>r(),openAddPanel:()=>n()}}let W=t=>t.panelGroupOrder;function U(){return L(W)}let G=t=>t.panelGroups;function Q(){let t=U(),r=L(G);return(0,f.useMemo)(()=>t.map(t=>{let n=r[t];if(void 0===n)throw Error(`Invalid panel group Id found ${t}`);return n}),[t,r])}function K(t){let r=L((0,f.useCallback)(r=>r.panelGroups[t],[t]));if(void 0===r)throw Error(`Panel group with Id ${t} was not found`);return r}let J=({openEditPanelGroup:t,deletePanelGroup:r,openAddPanel:n,updatePanelGroupLayouts:i})=>({openEditPanelGroup:t,deletePanelGroup:r,openAddPanel:n,updatePanelGroupLayouts:i});function Y(t){let{moveUp:r,moveDown:n}=function(t){let r=L((0,f.useCallback)(r=>r.panelGroupOrder.findIndex(r=>r===t),[t])),n=L(ee),i=L(X);if(r<0)throw Error(`Could not find panel group with Id ${t} in order array`);return{moveUp:r>0?()=>i(r,r-1):void 0,moveDown:r<n-1?()=>i(r,r+1):void 0}}(t),{openEditPanelGroup:i,deletePanelGroup:a,openAddPanel:o,updatePanelGroupLayouts:s}=L(J);return{openEditPanelGroup:()=>i(t),deletePanelGroup:()=>a(t),openAddPanel:()=>o(t),moveUp:r,moveDown:n,updatePanelGroupLayouts:r=>s(t,r)}}let X=t=>t.swapPanelGroups,ee=t=>t.panelGroupOrder.length,et=t=>t.panelGroupEditor;function er(){return L(et)}let en=({deletePanelGroupDialog:t,openDeletePanelGroupDialog:r,closeDeletePanelGroupDialog:n,deletePanelGroup:i})=>({deletePanelGroupDialog:t,openDeletePanelGroupDialog:r,closeDeletePanelGroupDialog:n,deletePanelGroup:i});function ei(){let{deletePanelGroupDialog:t,openDeletePanelGroupDialog:r,closeDeletePanelGroupDialog:n,deletePanelGroup:i}=L(en);return{deletePanelGroupDialog:t,deletePanelGroup:i,openDeletePanelGroupDialog:r,closeDeletePanelGroupDialog:()=>n()}}function ea(t){let{panelGroupId:r,panelGroupItemLayoutId:n}=t,i=L((0,f.useCallback)(t=>{let i=t.panelGroups[r]?.itemPanelKeys[n];if(void 0!==i)return t.panels[i]},[r,n]));if(void 0===i)throw Error(`Could not find panel for Id ${t}`);return i}let eo=({openEditPanel:t,openDeletePanelDialog:r,duplicatePanel:n,setViewPanel:i})=>({openEditPanel:t,openDeletePanelDialog:r,duplicatePanel:n,setViewPanel:i});function es(t){let{openEditPanel:r,openDeletePanelDialog:n,duplicatePanel:i,setViewPanel:a}=L(eo);return{openEditPanel:()=>r(t),openDeletePanelDialog:()=>n(t),duplicatePanel:()=>i(t),viewPanel:t=>a(t)}}let el=t=>t.panelEditor;function eu(){return L(el)}let ed=({deletePanelDialog:t,deletePanel:r,closeDeletePanelDialog:n})=>({deletePanelDialog:t,deletePanel:r,closeDeletePanelDialog:n});function ec(){return L(ed)}let ep=t=>t.duration;function ef(){return L(ep)}let eh=t=>({setViewPanel:t.setViewPanel,getViewPanel:t.getViewPanel,viewPanelId:t.getViewPanel()});function em(){return L(eh)}let eg=t=>t.getViewPanel();function ey(){return L(eg)}let ev=({saveChangesConfirmationDialog:t,openSaveChangesConfirmationDialog:r,closeSaveChangesConfirmationDialog:n})=>({saveChangesConfirmationDialog:t,openSaveChangesConfirmationDialog:r,closeSaveChangesConfirmationDialog:n});function eb(){return L(ev)}let ex=({discardChangesConfirmationDialog:t,openDiscardChangesConfirmationDialog:r,closeDiscardChangesConfirmationDialog:n})=>({discardChangesConfirmationDialog:t,openDiscardChangesConfirmationDialog:r,closeDiscardChangesConfirmationDialog:n});function ew(){return L(ex)}let ej=({editJsonDialog:t,openEditJsonDialog:r,closeEditJsonDialog:n})=>({editJsonDialog:t,openEditJsonDialog:r,closeEditJsonDialog:n});function eS(){return L(ej)}let eC=()=>{let{openAddPanelGroup:t}=q();return(0,a.jsx)(l.InfoTooltip,{description:u.addGroup,children:(0,a.jsx)(o.Z,{startIcon:(0,a.jsx)(s.default,{}),onClick:t,"aria-label":u.addGroup,sx:c,children:"Panel Group"})})};var e_=n(31243);let eO=({variant:t="text",color:r="primary",label:n="Panel",fullWidth:i})=>{let{openAddPanel:s}=q();return(0,a.jsx)(l.InfoTooltip,{description:u.addPanel,children:(0,a.jsx)(o.Z,{startIcon:(0,a.jsx)(e_.default,{}),onClick:s,"aria-label":u.addPanel,variant:t,color:r,fullWidth:i,sx:c,children:n})})};var ek=n(36372),eP=n(30788),eE=n(94776),eD=n(90496),eA=n(41825),eR=n(47126),eM=n(82267),eT=n(12709),eZ=n(82319),eI=n(51751),eV=n(39508),eN=n(42777),eL=n(51183),eF=n(44124),e$=n(6749);function ez(t){return(0,e$.ZP)("MuiCollapse",t)}(0,eF.Z)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);let eH=t=>{let{orientation:r,classes:n}=t,i={root:["root",`${r}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${r}`],wrapperInner:["wrapperInner",`${r}`]};return(0,eM.Z)(i,ez,n)},eB=(0,eT.ZP)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,r)=>{let{ownerState:n}=t;return[r.root,r[n.orientation],"entered"===n.state&&r.entered,"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&r.hidden]}})((0,eZ.Z)(({theme:t})=>({height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>"exited"===t.state&&!t.in&&"0px"===t.collapsedSize,style:{visibility:"hidden"}}]}))),eq=(0,eT.ZP)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,r)=>r.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),eW=(0,eT.ZP)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,r)=>r.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),eU=f.forwardRef(function(t,r){let n=(0,eI.i)({props:t,name:"MuiCollapse"}),{addEndListener:i,children:o,className:s,collapsedSize:l="0px",component:u,easing:d,in:c,onEnter:p,onEntered:h,onEntering:m,onExit:g,onExited:y,onExiting:v,orientation:b="vertical",style:x,timeout:w=eV.x9.standard,TransitionComponent:j=eA.ZP,...S}=n,C={...n,orientation:b,collapsedSize:l},_=eH(C),O=(0,eE.Z)(),k=(0,eR.Z)(),P=f.useRef(null),E=f.useRef(),D="number"==typeof l?`${l}px`:l,A="horizontal"===b,R=A?"width":"height",M=f.useRef(null),T=(0,eL.Z)(r,M),Z=t=>r=>{if(t){let n=M.current;void 0===r?t(n):t(n,r)}},I=()=>P.current?P.current[A?"clientWidth":"clientHeight"]:0,V=Z((t,r)=>{P.current&&A&&(P.current.style.position="absolute"),t.style[R]=D,p&&p(t,r)}),N=Z((t,r)=>{let n=I();P.current&&A&&(P.current.style.position="");let{duration:i,easing:a}=(0,eN.C)({style:x,timeout:w,easing:d},{mode:"enter"});if("auto"===w){let r=O.transitions.getAutoHeightDuration(n);t.style.transitionDuration=`${r}ms`,E.current=r}else t.style.transitionDuration="string"==typeof i?i:`${i}ms`;t.style[R]=`${n}px`,t.style.transitionTimingFunction=a,m&&m(t,r)}),L=Z((t,r)=>{t.style[R]="auto",h&&h(t,r)}),F=Z(t=>{t.style[R]=`${I()}px`,g&&g(t)}),$=Z(y),z=Z(t=>{let r=I(),{duration:n,easing:i}=(0,eN.C)({style:x,timeout:w,easing:d},{mode:"exit"});if("auto"===w){let n=O.transitions.getAutoHeightDuration(r);t.style.transitionDuration=`${n}ms`,E.current=n}else t.style.transitionDuration="string"==typeof n?n:`${n}ms`;t.style[R]=D,t.style.transitionTimingFunction=i,v&&v(t)});return(0,a.jsx)(j,{in:c,onEnter:V,onEntered:L,onEntering:N,onExit:F,onExited:$,onExiting:z,addEndListener:t=>{"auto"===w&&k.start(E.current||0,t),i&&i(M.current,t)},nodeRef:M,timeout:"auto"===w?null:w,...S,children:(t,{ownerState:r,...n})=>(0,a.jsx)(eB,{as:u,className:(0,eD.Z)(_.root,s,{entered:_.entered,exited:!c&&"0px"===D&&_.hidden}[t]),style:{[A?"minWidth":"minHeight"]:D,...x},ref:T,ownerState:{...C,state:t},...n,children:(0,a.jsx)(eq,{ownerState:{...C,state:t},className:_.wrapper,ref:P,children:(0,a.jsx)(eW,{ownerState:{...C,state:t},className:_.wrapperInner,children:o})})})})});eU&&(eU.muiSupportAuto=!0);var eG=n(52054),eQ=n(75094),eK=n(25283),eJ=n(12449),eY=n(84974),eX=n(57739),e0=n(47501),e1=n(61679),e2=n(22446);function e4(t){let{panelGroupId:r,title:n,collapse:i}=t,o=(0,w.useReplaceVariablesInString)(n),{openAddPanel:s,openEditPanelGroup:c,moveUp:p,moveDown:f}=Y(r),{openDeletePanelGroupDialog:h}=ei(),{isEditMode:m}=H(),g=(0,a.jsx)(eG.Z,{variant:"h2",children:o});return(0,a.jsx)(ek.Z,{onClick:i?.onToggleOpen,sx:{display:"flex",justifyContent:"start",alignItems:"center",cursor:i?"pointer":"auto",backgroundColor:({palette:t})=>t.background.paper},"data-testid":"panel-group-header",children:i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eQ.Z,{sx:{marginRight:1},"aria-label":`${i.isOpen?"collapse":"expand"} group ${o}`,children:i.isOpen?(0,a.jsx)(eJ.default,{}):(0,a.jsx)(eY.default,{})}),g,m&&(0,a.jsxs)(eK.Z,{direction:"row",marginLeft:"auto",children:[(0,a.jsx)(l.InfoTooltip,{description:u.addPanelToGroup,children:(0,a.jsx)(eQ.Z,{"aria-label":d.addPanelToGroup(o),onClick:t=>{t.stopPropagation(),s()},children:(0,a.jsx)(e_.default,{})})}),(0,a.jsx)(l.InfoTooltip,{description:u.editGroup,children:(0,a.jsx)(eQ.Z,{"aria-label":d.editGroup(o),onClick:t=>{t.stopPropagation(),c()},children:(0,a.jsx)(eX.default,{})})}),(0,a.jsx)(l.InfoTooltip,{description:u.deleteGroup,children:(0,a.jsx)(eQ.Z,{"aria-label":d.deleteGroup(o),onClick:t=>{t.stopPropagation(),h(r)},children:(0,a.jsx)(e2.default,{})})}),(0,a.jsx)(l.InfoTooltip,{description:u.moveGroupDown,children:(0,a.jsx)(eQ.Z,{"aria-label":d.moveGroupDown(o),disabled:void 0===f,onClick:t=>{t.stopPropagation(),f?.()},children:(0,a.jsx)(e1.default,{})})}),(0,a.jsx)(l.InfoTooltip,{description:u.moveGroupUp,children:(0,a.jsx)(eQ.Z,{"aria-label":d.moveGroupUp(o),disabled:void 0===p,onClick:t=>{t.stopPropagation(),p?.()},children:(0,a.jsx)(e0.default,{})})})]})]}):g})}var e9=Object.defineProperty,e3=(t,r,n)=>r in t?e9(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,e5=new Map,e8=new WeakMap,e6=0,e7=void 0;f.Component;var te=n(84954);function tt(t){return(0,e$.ZP)("MuiCardContent",t)}(0,eF.Z)("MuiCardContent",["root"]);let tr=t=>{let{classes:r}=t;return(0,eM.Z)({root:["root"]},tt,r)},tn=(0,eT.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,r)=>r.root})({padding:16,"&:last-child":{paddingBottom:24}}),ti=f.forwardRef(function(t,r){let n=(0,eI.i)({props:t,name:"MuiCardContent"}),{className:i,component:o="div",...s}=n,l={...n,component:o},u=tr(l);return(0,a.jsx)(tn,{as:o,className:(0,eD.Z)(u.root,i),ownerState:l,ref:r,...s})});var ta=n(4338),to=n.n(ta),ts=n(66224);function tl(t){let{kind:r,spec:n,contentDimensions:i,definition:o,queryResults:s}=t,{data:l,isLoading:u}=(0,w.usePlugin)("Panel",r,{useErrorBoundary:!0}),d=l?.PanelComponent,c=l?.supportedQueryTypes||[];if(u)return(0,a.jsx)(ts.Z,{variant:"rectangular",width:i?.width,height:i?.height,"aria-label":"Loading..."});if(void 0===d)throw Error(`Missing PanelComponent from panel plugin for kind '${r}'`);for(let t of s)if(!c.includes(t.definition.kind))throw Error(`This panel does not support queries of type '${t.definition.kind}'. Supported query types: ${c.join(", ")}.`);return(0,a.jsx)(d,{spec:n,contentDimensions:i,definition:o,queryResults:s})}function tu(t){let{panelPluginKind:r,definition:n,queryResults:i,spec:o,contentDimensions:s}=t,{data:l,isLoading:u}=(0,w.usePlugin)("Panel",r,{useErrorBoundary:!0});if(u)return(0,a.jsx)(ts.Z,{variant:"rectangular",width:s?.width,height:s?.height,"aria-label":"Loading..."});let d=i.flatMap(t=>t.data?[{data:t.data,definition:t.definition}]:[]);if(d.length>0||0===i.length)return(0,a.jsx)(tl,{kind:r,spec:o,contentDimensions:s,definition:n,queryResults:d});if(i.some(t=>t.isFetching))return(0,a.jsx)(td,{plugin:l,spec:o,definition:n,contentDimensions:s});let c=i.find(t=>t.error);if(c)throw c.error;return(0,a.jsx)(td,{plugin:l,spec:o,definition:n,contentDimensions:s})}function td({plugin:t,spec:r,definition:n,contentDimensions:i}){return t?.LoadingComponent?(0,a.jsx)(t.LoadingComponent,{spec:r,contentDimensions:i,definition:n,queryResults:[]}):(0,a.jsx)(l.LoadingOverlay,{})}var tc=n(67488);function tp(t){return(0,e$.ZP)("MuiCardHeader",t)}let tf=(0,eF.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var th=n(16351);let tm=t=>{let{classes:r}=t;return(0,eM.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},tp,r)},tg=(0,eT.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(t,r)=>[{[`& .${tf.title}`]:r.title},{[`& .${tf.subheader}`]:r.subheader},r.root]})({display:"flex",alignItems:"center",padding:16}),ty=(0,eT.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(t,r)=>r.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),tv=(0,eT.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(t,r)=>r.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),tb=(0,eT.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(t,r)=>r.content})({flex:"1 1 auto",[`.${tc.Z.root}:where(& .${tf.title})`]:{display:"block"},[`.${tc.Z.root}:where(& .${tf.subheader})`]:{display:"block"}}),tx=f.forwardRef(function(t,r){let n=(0,eI.i)({props:t,name:"MuiCardHeader"}),{action:i,avatar:o,component:s="div",disableTypography:l=!1,subheader:u,subheaderTypographyProps:d,title:c,titleTypographyProps:p,slots:f={},slotProps:h={},...m}=n,g={...n,component:s,disableTypography:l},y=tm(g),v={slots:f,slotProps:{title:p,subheader:d,...h}},b=c,[x,w]=(0,th.Z)("title",{className:y.title,elementType:eG.Z,externalForwardedProps:v,ownerState:g,additionalProps:{variant:o?"body2":"h5",component:"span"}});null==b||b.type===eG.Z||l||(b=(0,a.jsx)(x,{...w,children:b}));let j=u,[S,C]=(0,th.Z)("subheader",{className:y.subheader,elementType:eG.Z,externalForwardedProps:v,ownerState:g,additionalProps:{variant:o?"body2":"body1",color:"textSecondary",component:"span"}});null==j||j.type===eG.Z||l||(j=(0,a.jsx)(S,{...C,children:j}));let[_,O]=(0,th.Z)("root",{ref:r,className:y.root,elementType:tg,externalForwardedProps:{...v,...m,component:s},ownerState:g}),[k,P]=(0,th.Z)("avatar",{className:y.avatar,elementType:ty,externalForwardedProps:v,ownerState:g}),[E,D]=(0,th.Z)("content",{className:y.content,elementType:tb,externalForwardedProps:v,ownerState:g}),[A,R]=(0,th.Z)("action",{className:y.action,elementType:tv,externalForwardedProps:v,ownerState:g});return(0,a.jsxs)(_,{...O,children:[o&&(0,a.jsx)(k,{...P,children:o}),(0,a.jsxs)(E,{...D,children:[b,j]}),i&&(0,a.jsx)(A,{...R,children:i})]})});var tw=n(50898),tj=n(6714),tS=n(15758),tC=n(13801),t_=n(18979),tO=n(50345),tk=n(93051),tP=n(47512),tE=n(39398);let tD=(0,eT.ZP)(eQ.Z)(({theme:t})=>({borderRadius:t.shape.borderRadius,padding:"4px"}));var tA=n(5549),tR=n(10517),tM=n(16838),tT=n(74111),tZ=n(51640),tI=n(90433),tV=n(757),tN=n(33160);let tL=({theme:t,ownerState:r})=>{let n=r.color,i=(0,tN.DW)(t,`palette.${n}.main`,!1)||(0,tN.DW)(t,`palette.${n}`,!1)||r.color,a=(0,tN.DW)(t,`palette.${n}.mainChannel`)||(0,tN.DW)(t,`palette.${n}Channel`);return"vars"in t&&a?`rgba(${a} / 0.4)`:(0,tM.Fq)(i,.4)},tF={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},t$=t=>{let{classes:r,component:n,focusVisible:i,underline:a}=t,o={root:["root",`underline${(0,tZ.Z)(a)}`,"button"===n&&"button",i&&"focusVisible"]};return(0,eM.Z)(o,tV.w,r)},tz=(0,eT.ZP)(eG.Z,{name:"MuiLink",slot:"Root",overridesResolver:(t,r)=>{let{ownerState:n}=t;return[r.root,r[`underline${(0,tZ.Z)(n.underline)}`],"button"===n.component&&r.button]}})((0,eZ.Z)(({theme:t})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:t,ownerState:r})=>"always"===t&&"inherit"!==r.color,style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(t.palette).filter((0,tI.Z)()).map(([r])=>({props:{underline:"always",color:r},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.4)`:(0,tM.Fq)(t.palette[r].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:(0,tM.Fq)(t.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.secondaryChannel} / 0.4)`:(0,tM.Fq)(t.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(t.vars||t).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${tV.Z.focusVisible}`]:{outline:"auto"}}}]}))),tH=f.forwardRef(function(t,r){let n=(0,eI.i)({props:t,name:"MuiLink"}),i=(0,eE.Z)(),{className:o,color:s="primary",component:l="a",onBlur:u,onFocus:d,TypographyClasses:c,underline:p="always",variant:h="inherit",sx:m,...g}=n,[y,v]=f.useState(!1),b={...n,color:s,component:l,focusVisible:y,underline:p,variant:h},x=t$(b);return(0,a.jsx)(tz,{color:s,className:(0,eD.Z)(x.root,o),classes:c,component:l,onBlur:t=>{(0,tT.Z)(t.target)||v(!1),u&&u(t)},onFocus:t=>{(0,tT.Z)(t.target)&&v(!0),d&&d(t)},ref:r,ownerState:b,variant:h,...g,sx:[...void 0===tF[s]?[{color:s}]:[],...Array.isArray(m)?m:[m]],style:{...g.style,..."always"===p&&"inherit"!==s&&!tF[s]&&{"--Link-underlineColor":tL({theme:i,ownerState:b})}}})});var tB=n(14434);function tq({links:t}){let[r,n]=(0,f.useState)(null);if(1===t.length&&t[0]){let r=t[0];return(0,a.jsx)(tW,{link:r})}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.InfoTooltip,{description:`${t.length} links`,enterDelay:100,children:(0,a.jsx)(eQ.Z,{"aria-label":"Panel links",size:"small",onClick:t=>{n(t.currentTarget)},sx:t=>({borderRadius:t.shape.borderRadius,padding:"4px"}),children:(0,a.jsx)(tB.default,{"aria-describedby":"links-icon",fontSize:"inherit",sx:{color:t=>t.palette.text.secondary}})})}),(0,a.jsx)(tA.Z,{anchorEl:r,open:!!r,onClose:()=>{n(null)},MenuListProps:{"aria-labelledby":"panel-links"},children:t.map(t=>(0,a.jsx)(tU,{link:t},t.url))})]})}function tW({link:t}){let{url:r,name:n,tooltip:i,targetBlank:o}=tG(t);return(0,a.jsx)(l.InfoTooltip,{description:i??r,enterDelay:100,children:(0,a.jsx)(eQ.Z,{"aria-label":n??r,size:"small",href:r,target:o?"_blank":"_self",sx:t=>({borderRadius:t.shape.borderRadius,padding:"4px"}),children:(0,a.jsx)(tB.default,{fontSize:"inherit",sx:{color:t=>t.palette.text.secondary}})})})}function tU({link:t}){let{url:r,name:n,tooltip:i,targetBlank:o}=tG(t);return(0,a.jsx)(l.InfoTooltip,{description:i??r,enterDelay:100,children:(0,a.jsx)(tR.Z,{component:tH,href:r,target:o?"_blank":"_self",children:n??r})})}function tG(t){let r=(0,w.useReplaceVariablesInString)(t.url)??t.url,n=(0,w.useReplaceVariablesInString)(t.name),i=(0,w.useReplaceVariablesInString)(t.tooltip);return!1===t.renderVariables?t:{...t,url:r,name:n,tooltip:i}}let tQ=(0,eT.ZP)(ek.Z)({display:"none",alignItems:"center",flexGrow:1,justifyContent:"flex-end"}),tK=({editHandlers:t,readHandlers:r,extra:n,title:i,description:o,descriptionTooltipId:s,links:c,queryResults:h})=>{let m=(0,f.useMemo)(()=>{if(o&&o.trim().length>0)return(0,a.jsx)(l.InfoTooltip,{id:s,description:o,enterDelay:100,children:(0,a.jsx)(tD,{"aria-label":"panel description",size:"small",children:(0,a.jsx)(tE.default,{"aria-describedby":"info-tooltip","aria-hidden":!1,fontSize:"inherit",sx:{color:t=>t.palette.text.secondary}})})})},[s,o]),g=c&&c.length>0&&(0,a.jsx)(tq,{links:c}),y=void 0===t&&n,v=(0,f.useMemo)(()=>{let t=h.some(t=>t.data),r=h.some(t=>t.isFetching),n=h.filter(t=>t.error);if(r&&t)return(0,a.jsx)(tw.Z,{"aria-label":"loading",size:"1.125rem"});if(n.length>0){let t=n.map(t=>t.error).map(t=>t?.message??t?.toString()??"Unknown error").join("\n");return(0,a.jsx)(l.InfoTooltip,{description:t,children:(0,a.jsx)(tD,{"aria-label":"panel errors",size:"small",children:(0,a.jsx)(tP.default,{fontSize:"inherit"})})})}},[h]),b=(0,f.useMemo)(()=>{if(void 0!==r)return(0,a.jsx)(l.InfoTooltip,{description:u.viewPanel,children:(0,a.jsx)(tD,{"aria-label":d.viewPanel(i),size:"small",onClick:r.onViewPanelClick,children:r.isPanelViewed?(0,a.jsx)(tS.default,{fontSize:"inherit"}):(0,a.jsx)(tC.default,{fontSize:"inherit"})})})},[r,i]),x=(0,f.useMemo)(()=>{if(void 0!==t)return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.InfoTooltip,{description:u.editPanel,children:(0,a.jsx)(tD,{"aria-label":d.editPanel(i),size:"small",onClick:t.onEditPanelClick,children:(0,a.jsx)(eX.default,{fontSize:"inherit"})})}),(0,a.jsx)(l.InfoTooltip,{description:u.duplicatePanel,children:(0,a.jsx)(tD,{"aria-label":d.duplicatePanel(i),size:"small",onClick:t.onDuplicatePanelClick,children:(0,a.jsx)(tO.default,{fontSize:"inherit",sx:{transform:"scale(0.925)"}})})}),(0,a.jsx)(l.InfoTooltip,{description:u.deletePanel,children:(0,a.jsx)(tD,{"aria-label":d.deletePanel(i),size:"small",onClick:t.onDeletePanelClick,children:(0,a.jsx)(e2.default,{fontSize:"inherit"})})})]})},[t,i]),w=(0,f.useMemo)(()=>{if(x&&!r?.isPanelViewed)return(0,a.jsx)(l.InfoTooltip,{description:u.movePanel,children:(0,a.jsx)(tD,{"aria-label":d.movePanel(i),size:"small",children:(0,a.jsx)(t_.default,{className:"drag-handle",sx:{cursor:"grab"},fontSize:"inherit"})})})},[x,r,i]),j=(0,a.jsx)(ek.Z,{sx:{flexGrow:1}}),S=({children:n})=>void 0!==t||r?.isPanelViewed?(0,a.jsx)(a.Fragment,{children:n}):(0,a.jsx)(ek.Z,{sx:{display:"var(--panel-hover, none)"},children:n});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(tQ,{sx:t=>({[t.containerQueries(p).between(0,170)]:{display:"flex"}}),children:[j,(0,a.jsxs)(S,{children:[(0,a.jsxs)(tJ,{title:i,children:[m," ",g," ",v," ",y," ",b," ",x]}),w]})]}),(0,a.jsxs)(tQ,{sx:t=>({[t.containerQueries(p).between(170,220)]:{display:"flex"}}),children:[(0,a.jsxs)(S,{children:[m," ",g]}),j," ",v,(0,a.jsxs)(S,{children:[y," ",b,(0,a.jsx)(tJ,{title:i,children:x}),w]})]}),(0,a.jsxs)(tQ,{sx:t=>({display:"flex",[t.containerQueries(p).down(220)]:{display:"none"}}),children:[(0,a.jsxs)(S,{children:[m," ",g]}),j," ",v,(0,a.jsxs)(S,{children:[y," ",b," ",x," ",w]})]})]})},tJ=({children:t,title:r})=>{let[n,i]=(0,f.useState)();if(!((0,f.isValidElement)(t)||Array.isArray(t)&&t.some(f.isValidElement)))return;let o=()=>{i(void 0)},s=!!n,l=s?"actions-menu":void 0;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tD,{className:"show-actions","aria-describedby":l,onClick:t=>{i(t.currentTarget.getBoundingClientRect())},"aria-label":d.showPanelActions(r),size:"small",children:(0,a.jsx)(tk.default,{fontSize:"inherit"})}),(0,a.jsx)(tj.ZP,{id:l,open:s,anchorReference:"anchorPosition",anchorPosition:n,onClose:o,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,a.jsx)(eK.Z,{direction:"row",alignItems:"center",sx:{padding:1},onClick:o,children:t})})]})};function tY({id:t,title:r,description:n,links:i,queryResults:o,readHandlers:s,editHandlers:u,sx:d,extra:c,...f}){let h=`${t}-title`,m=`${t}-description`,g=(0,w.useReplaceVariablesInString)(r),y=(0,w.useReplaceVariablesInString)(n);return(0,a.jsx)(tx,{id:t,component:"header","aria-labelledby":h,"aria-describedby":m,disableTypography:!0,title:(0,a.jsxs)(eK.Z,{direction:"row",children:[(0,a.jsx)(eG.Z,{id:h,variant:"subtitle1",sx:{lineHeight:"24px",minHeight:"26px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:g}),(0,a.jsx)(tK,{title:g,description:y,descriptionTooltipId:m,links:i,queryResults:o,readHandlers:s,editHandlers:u,extra:c})]}),sx:(0,l.combineSx)(t=>({containerType:"inline-size",containerName:p,padding:t.spacing(1),borderBottom:`solid 1px ${t.palette.divider}`,".MuiCardHeader-content":{overflow:"hidden"}}),d),...f})}let tX=(0,f.memo)(function(t){let{definition:r,readHandlers:n,editHandlers:i,onMouseEnter:o,onMouseLeave:s,sx:u,panelOptions:d,panelGroupItemId:c,...p}=t,h=(0,l.useId)("Panel"),m=`${h}-header`,[g,y]=(0,f.useState)(null),{width:v,height:b}=to()({ref:g}),x=(0,f.useMemo)(()=>{if(void 0!==v&&void 0!==b)return{width:v,height:b}},[v,b]),j=(0,l.useChartsTheme)(),{queryResults:S}=(0,w.useDataQueriesContext)();return(0,a.jsxs)(te.Z,{component:"section",sx:(0,l.combineSx)({width:"100%",height:"100%",display:"flex",flexFlow:"column nowrap",":hover":{"--panel-hover":"block"}},u),variant:"outlined",onMouseEnter:t=>{o?.(t)},onMouseLeave:t=>{s?.(t)},"aria-labelledby":m,"aria-describedby":m,"data-testid":"panel",...p,children:[!d?.hideHeader&&(0,a.jsx)(tY,{extra:d?.extra?.({panelDefinition:r,panelGroupItemId:c}),id:m,title:r.spec.display.name,description:r.spec.display.description,queryResults:S,readHandlers:n,editHandlers:i,links:r.spec.links,sx:{paddingX:`${j.container.padding.default}px`}}),(0,a.jsx)(ti,{component:"figure",sx:{position:"relative",overflow:"hidden",flexGrow:1,margin:0,padding:0,":last-child":{padding:0}},ref:y,children:(0,a.jsx)(l.ErrorBoundary,{FallbackComponent:l.ErrorAlert,resetKeys:[r.spec],children:(0,a.jsx)(tu,{definition:r,panelPluginKind:r.spec.plugin.kind,spec:r.spec.plugin.spec,contentDimensions:x,queryResults:S})})})]})});function t0(t){let r;let{panelGroupItemId:n,width:i}=t,o=ea(n),{spec:{queries:s}}=o,{isEditMode:l}=H(),{openEditPanel:u,openDeletePanelDialog:d,duplicatePanel:c,viewPanel:p}=es(n),h=ey(),{ref:m,inView:g}=function({threshold:t,delay:r,trackVisibility:n,rootMargin:i,root:a,triggerOnce:o,skip:s,initialInView:l,fallbackInView:u,onChange:d}={}){var c;let[p,h]=f.useState(null),m=f.useRef(d),[g,y]=f.useState({inView:!!l,entry:void 0});m.current=d,f.useEffect(()=>{let l;if(!s&&p)return l=function(t,r,n={},i=e7){if(void 0===window.IntersectionObserver&&void 0!==i){let a=t.getBoundingClientRect();return r(i,{isIntersecting:i,target:t,intersectionRatio:"number"==typeof n.threshold?n.threshold:0,time:0,boundingClientRect:a,intersectionRect:a,rootBounds:a}),()=>{}}let{id:a,observer:o,elements:s}=function(t){let r=Object.keys(t).sort().filter(r=>void 0!==t[r]).map(r=>{var n;return`${r}_${"root"===r?(n=t.root)?(e8.has(n)||(e6+=1,e8.set(n,e6.toString())),e8.get(n)):"0":t[r]}`}).toString(),n=e5.get(r);if(!n){let i;let a=new Map,o=new IntersectionObserver(r=>{r.forEach(r=>{var n;let o=r.isIntersecting&&i.some(t=>r.intersectionRatio>=t);t.trackVisibility&&void 0===r.isVisible&&(r.isVisible=o),null==(n=a.get(r.target))||n.forEach(t=>{t(o,r)})})},t);i=o.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:r,observer:o,elements:a},e5.set(r,n)}return n}(n),l=s.get(t)||[];return s.has(t)||s.set(t,l),l.push(r),o.observe(t),function(){l.splice(l.indexOf(r),1),0===l.length&&(s.delete(t),o.unobserve(t)),0===s.size&&(o.disconnect(),e5.delete(a))}}(p,(t,r)=>{y({inView:t,entry:r}),m.current&&m.current(t,r),r.isIntersecting&&o&&l&&(l(),l=void 0)},{root:a,rootMargin:i,threshold:t,trackVisibility:n,delay:r},u),()=>{l&&l()}},[Array.isArray(t)?t.toString():t,p,a,i,o,s,n,u,r]);let v=null==(c=g.entry)?void 0:c.target,b=f.useRef(void 0);p||!v||o||s||b.current===v||(b.current=v,y({inView:!!l,entry:void 0}));let x=[h,g.inView,g.entry];return x.ref=x[0],x.inView=x[1],x.entry=x[2],x}({threshold:.2,initialInView:!1,triggerOnce:!0}),y={isPanelViewed:h?.panelGroupId===n?.panelGroupId&&h?.panelGroupItemLayoutId===n?.panelGroupItemLayoutId,onViewPanelClick:function(){void 0===h?p(n):p(void 0)}};l&&(r={onEditPanelClick:u,onDuplicatePanelClick:c,onDeletePanelClick:d});let v=(0,w.useSuggestedStepMs)(i),{data:b}=(0,w.usePlugin)("Panel",o.spec.plugin.kind),x=(s??[]).map(t=>({kind:t.spec.plugin.kind,spec:t.spec.plugin.spec})),j="function"==typeof b?.queryOptions?b?.queryOptions(o.spec.plugin.spec):b?.queryOptions;return(0,a.jsx)(ek.Z,{ref:m,sx:{width:"100%",height:"100%"},children:(0,a.jsx)(w.DataQueriesProvider,{definitions:x,options:{suggestedStepMs:v,...j},queryOptions:{enabled:g},children:g&&(0,a.jsx)(tX,{definition:o,readHandlers:y,editHandlers:r,panelOptions:t.panelOptions,panelGroupItemId:n})})})}function t1(t){let[r,n]=(0,f.useState)(!0);return(0,f.useEffect)(()=>{r&&n(!1)},[r]),(0,a.jsx)(t2,{sx:[{"& + &":{marginTop:1},"& .react-grid-item.cssTransforms":{transitionProperty:r?"none":"transform"}},...Array.isArray(t.sx)?t.sx:[t.sx]],"data-testid":"panel-group",children:t.children})}let t2=(0,eT.ZP)("section")(({theme:t})=>({"& .react-grid-layout":{position:"relative",transition:"height 200ms ease"},"& .react-grid-item":{transition:"all 200ms ease",transitionProperty:"left, top"},"& .react-grid-item img":{pointerEvents:"none",userSelect:"none"},"& .react-grid-item.cssTransforms":{transitionProperty:"transform"},"& .react-grid-item.resizing":{zIndex:1,willChange:"width, height"},"& .react-grid-item.react-draggable-dragging":{transition:"none",zIndex:3,willChange:"transform"},"& .react-grid-item.dropping":{visibility:"hidden"},"& .react-grid-item.react-grid-placeholder":{background:t.palette.primary.main,opacity:.2,transitionDuration:"100ms",zIndex:2,userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",OUserSelect:"none"},"& .react-grid-item > .react-resizable-handle":{position:"absolute",width:"20px",height:"20px"},"& .react-grid-item > .react-resizable-handle::after":{content:'""',position:"absolute",right:"3px",bottom:"3px",width:"5px",height:"5px",borderRight:`2px solid ${t.palette.text.secondary}`,borderBottom:`2px solid ${t.palette.text.secondary}`},"& .react-resizable-hide > .react-resizable-handle":{display:"none"},"& .react-grid-item > .react-resizable-handle.react-resizable-handle-sw":{bottom:"0",left:"0",cursor:"sw-resize",transform:"rotate(90deg)"},"& .react-grid-item > .react-resizable-handle.react-resizable-handle-se":{bottom:"0",right:"0",cursor:"se-resize"},"& .react-grid-item > .react-resizable-handle.react-resizable-handle-nw":{top:"0",left:"0",cursor:"nw-resize",transform:"rotate(180deg)"},"& .react-grid-item > .react-resizable-handle.react-resizable-handle-ne":{top:"0",right:"0",cursor:"ne-resize",transform:"rotate(270deg)"},"& .react-grid-item > .react-resizable-handle.react-resizable-handle-w, &.react-grid-item > .react-resizable-handle.react-resizable-handle-e":{top:"50%",marginTop:"-10px",cursor:"ew-resize"},"& .react-grid-item > .react-resizable-handle.react-resizable-handle-w":{left:"0",transform:"rotate(135deg)"},"& .react-grid-item > .react-resizable-handle.react-resizable-handle-e":{right:"0",transform:"rotate(315deg)"},"& .react-grid-item > .react-resizable-handle.react-resizable-handle-n, &.react-grid-item > .react-resizable-handle.react-resizable-handle-s":{left:"50%",marginLeft:"-10px",cursor:"ns-resize"},"& .react-grid-item > .react-resizable-handle.react-resizable-handle-n":{top:"0",transform:"rotate(225deg)"},"& .react-grid-item > .react-resizable-handle.react-resizable-handle-s":{bottom:"0",transform:"rotate(45deg)"},"& .react-resizable":{position:"relative"},"& .react-resizable-handle":{position:"absolute",width:"20px",height:"20px",backgroundRepeat:"no-repeat",backgroundOrigin:"content-box",boxSizing:"border-box",backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2IDYiIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiNmZmZmZmYwMCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI2cHgiIGhlaWdodD0iNnB4Ij48ZyBvcGFjaXR5PSIwLjMwMiI+PHBhdGggZD0iTSA2IDYgTCAwIDYgTCAwIDQuMiBMIDQgNC4yIEwgNC4yIDQuMiBMIDQuMiAwIEwgNiAwIEwgNiA2IEwgNiA2IFoiIGZpbGw9IiMwMDAwMDAiLz48L2c+PC9zdmc+')",backgroundPosition:"bottom right",padding:"0 3px 3px 0"},"& .react-resizable-handle-sw":{bottom:"0",left:"0",cursor:"sw-resize",transform:"rotate(90deg)"},"& .react-resizable-handle-se":{bottom:"0",right:"0",cursor:"se-resize"},"& .react-resizable-handle-nw":{top:"0",left:"0",cursor:"nw-resize",transform:"rotate(180deg)"},"& .react-resizable-handle-ne":{top:"0",right:"0",cursor:"ne-resize",transform:"rotate(270deg)"},"& .react-resizable-handle-w, .react-resizable-handle-e":{top:"50%",marginTop:"-10px",cursor:"ew-resize"},"& .react-resizable-handle-w":{left:"0",transform:"rotate(135deg)"},"& .react-resizable-handle-e":{right:"0",transform:"rotate(315deg)"},"& .react-resizable-handle-n, .react-resizable-handle-s":{left:"50%",marginLeft:"-10px",cursor:"ns-resize"},"& .react-resizable-handle-n":{top:"0",transform:"rotate(225deg)"},"& .react-resizable-handle-s":{bottom:"0",transform:"rotate(45deg)"}}));function t4(t){let{panelGroupId:r,panelOptions:n,panelFullHeight:i}=t,o=(0,eE.Z)(),s=K(r),{updatePanelGroupLayouts:u}=Y(r),[d,c]=(0,f.useState)(!s.isCollapsed),{isEditMode:p}=H(),[h,m]=(0,f.useState)(0),g=ey(),y=g?.panelGroupId===r,v=g?.panelGroupItemLayoutId;(0,f.useEffect)(()=>{y&&c(!0)},[y]);let b=void 0===g||y,x=(0,f.useMemo)(()=>v?s.itemLayouts.map(t=>t.i===v?{h:Math.round(((i??window.innerHeight)-48)/40),i:v,w:48,x:0,y:0}:t):s.itemLayouts,[s.itemLayouts,v,i]),w=(0,f.useMemo)(()=>(0,eP.WidthProvider)(eP.Responsive),[]);return(0,a.jsxs)(t1,{sx:{display:b?"block":"none",height:v?`${i}px`:"unset",overflow:v?"hidden":"unset"},children:[void 0!==s.title&&(0,a.jsx)(e4,{panelGroupId:r,title:s.title,collapse:void 0===s.isCollapsed?void 0:{isOpen:d,onToggleOpen:()=>c(t=>!t)}}),(0,a.jsx)(eU,{in:d,unmountOnExit:!0,appear:!1,"data-testid":"panel-group-content",children:(0,a.jsx)(w,{className:"layout",breakpoints:{sm:o.breakpoints.values.sm,xxs:0},cols:P,rowHeight:30,draggableHandle:".drag-handle",resizeHandles:["se"],isDraggable:p&&!y,isResizable:p&&!y,margin:[10,10],containerPadding:[0,10],layouts:{sm:x},onLayoutChange:(t,r)=>{let n=r.sm;n&&!y&&u(n)},onWidthChange:(t,r,n,i)=>{m((t-r[0]*(n-1)-2*i[0])/n)},allowOverlap:y,children:x.map(({i:t,w:i})=>(0,a.jsx)("div",{style:{display:void 0!==v?v===t?"unset":"none":"unset"},children:(0,a.jsx)(l.ErrorBoundary,{FallbackComponent:l.ErrorAlert,children:(0,a.jsx)(t0,{panelOptions:n,panelGroupItemId:{panelGroupId:r,panelGroupItemLayoutId:t},width:t9(i,h)})})},t))})})]})}let t9=(t,r)=>Number.isFinite(t)?Math.round(r*t+10*Math.max(0,t-1)):t;var t3=n(21131),t5=n(315),t8=n(59019),t6=n(90190),t7=n(31889),re=n(14968),rt=n(56174),rr=n(87895),rn=n(28866);let ri=f.createContext({});var ra=n(18817);function ro(t){return(0,e$.ZP)("MuiAccordion",t)}let rs=(0,eF.Z)("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),rl=t=>{let{classes:r,square:n,expanded:i,disabled:a,disableGutters:o}=t;return(0,eM.Z)({root:["root",!n&&"rounded",i&&"expanded",a&&"disabled",!o&&"gutters"],heading:["heading"],region:["region"]},ro,r)},ru=(0,eT.ZP)(rn.Z,{name:"MuiAccordion",slot:"Root",overridesResolver:(t,r)=>{let{ownerState:n}=t;return[{[`& .${rs.region}`]:r.region},r.root,!n.square&&r.rounded,!n.disableGutters&&r.gutters]}})((0,eZ.Z)(({theme:t})=>{let r={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],r),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],r)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${rs.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${rs.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}}),(0,eZ.Z)(({theme:t})=>({variants:[{props:t=>!t.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:t=>!t.disableGutters,style:{[`&.${rs.expanded}`]:{margin:"16px 0"}}}]}))),rd=(0,eT.ZP)("h3",{name:"MuiAccordion",slot:"Heading",overridesResolver:(t,r)=>r.heading})({all:"unset"}),rc=f.forwardRef(function(t,r){let n=(0,eI.i)({props:t,name:"MuiAccordion"}),{children:i,className:o,defaultExpanded:s=!1,disabled:l=!1,disableGutters:u=!1,expanded:d,onChange:c,square:p=!1,slots:h={},slotProps:m={},TransitionComponent:g,TransitionProps:y,...v}=n,[b,x]=(0,ra.Z)({controlled:d,default:s,name:"Accordion",state:"expanded"}),w=f.useCallback(t=>{x(!b),c&&c(t,!b)},[b,c,x]),[j,...S]=f.Children.toArray(i),C=f.useMemo(()=>({expanded:b,disabled:l,disableGutters:u,toggle:w}),[b,l,u,w]),_={...n,square:p,disabled:l,disableGutters:u,expanded:b},O=rl(_),k={slots:{transition:g,...h},slotProps:{transition:y,...m}},[P,E]=(0,th.Z)("root",{elementType:ru,externalForwardedProps:{...k,...v},className:(0,eD.Z)(O.root,o),shouldForwardComponentProp:!0,ownerState:_,ref:r,additionalProps:{square:p}}),[D,A]=(0,th.Z)("heading",{elementType:rd,externalForwardedProps:k,className:O.heading,ownerState:_}),[R,M]=(0,th.Z)("transition",{elementType:eU,externalForwardedProps:k,ownerState:_});return(0,a.jsxs)(P,{...E,children:[(0,a.jsx)(D,{...A,children:(0,a.jsx)(ri.Provider,{value:C,children:j})}),(0,a.jsx)(R,{in:b,timeout:"auto",...M,children:(0,a.jsx)("div",{"aria-labelledby":j.props.id,id:j.props["aria-controls"],role:"region",className:O.region,children:S})})]})});var rp=n(14544);function rf(t){return(0,e$.ZP)("MuiAccordionSummary",t)}let rh=(0,eF.Z)("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),rm=t=>{let{classes:r,expanded:n,disabled:i,disableGutters:a}=t;return(0,eM.Z)({root:["root",n&&"expanded",i&&"disabled",!a&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!a&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},rf,r)},rg=(0,eT.ZP)(rp.Z,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(t,r)=>r.root})((0,eZ.Z)(({theme:t})=>{let r={duration:t.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],r),[`&.${rh.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${rh.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${rh.disabled})`]:{cursor:"pointer"},variants:[{props:t=>!t.disableGutters,style:{[`&.${rh.expanded}`]:{minHeight:64}}}]}})),ry=(0,eT.ZP)("span",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(t,r)=>r.content})((0,eZ.Z)(({theme:t})=>({display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:t=>!t.disableGutters,style:{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${rh.expanded}`]:{margin:"20px 0"}}}]}))),rv=(0,eT.ZP)("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(t,r)=>r.expandIconWrapper})((0,eZ.Z)(({theme:t})=>({display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${rh.expanded}`]:{transform:"rotate(180deg)"}}))),rb=f.forwardRef(function(t,r){let n=(0,eI.i)({props:t,name:"MuiAccordionSummary"}),{children:i,className:o,expandIcon:s,focusVisibleClassName:l,onClick:u,slots:d,slotProps:c,...p}=n,{disabled:h=!1,disableGutters:m,expanded:g,toggle:y}=f.useContext(ri),v=t=>{y&&y(t),u&&u(t)},b={...n,expanded:g,disabled:h,disableGutters:m},x=rm(b),w={slots:d,slotProps:c},[j,S]=(0,th.Z)("root",{ref:r,shouldForwardComponentProp:!0,className:(0,eD.Z)(x.root,o),elementType:rg,externalForwardedProps:{...w,...p},ownerState:b,additionalProps:{focusRipple:!1,disableRipple:!0,disabled:h,"aria-expanded":g,focusVisibleClassName:(0,eD.Z)(x.focusVisible,l)},getSlotProps:t=>({...t,onClick:r=>{t.onClick?.(r),v(r)}})}),[C,_]=(0,th.Z)("content",{className:x.content,elementType:ry,externalForwardedProps:w,ownerState:b}),[O,k]=(0,th.Z)("expandIconWrapper",{className:x.expandIconWrapper,elementType:rv,externalForwardedProps:w,ownerState:b});return(0,a.jsxs)(j,{...S,children:[(0,a.jsx)(C,{..._,children:i}),s&&(0,a.jsx)(O,{...k,children:s})]})});function rx(t){return(0,e$.ZP)("MuiAccordionDetails",t)}(0,eF.Z)("MuiAccordionDetails",["root"]);let rw=t=>{let{classes:r}=t;return(0,eM.Z)({root:["root"]},rx,r)},rj=(0,eT.ZP)("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(t,r)=>r.root})((0,eZ.Z)(({theme:t})=>({padding:t.spacing(1,2,2)}))),rS=f.forwardRef(function(t,r){let n=(0,eI.i)({props:t,name:"MuiAccordionDetails"}),{className:i,...o}=n,s=rw(n);return(0,a.jsx)(rj,{className:(0,eD.Z)(s.root,i),ref:r,ownerState:n,...o})});var rC=n(32964),r_=n(96205),rO=n(33755),rk=n(55352);function rP(t){var r=(0,f.useState)(function(){return(0,rk.freeze)("function"==typeof t?t():t,!0)}),n=r[1];return[r[0],(0,f.useCallback)(function(t){n("function"==typeof t?(0,rk.produce)(t):(0,rk.freeze)(t))},[])]}var rE=n(22212),rD=n(74081),rA=n(64315),rR=n(14371),rM=n(6849),rT=n(30221);function rZ({builtinVariableDefinitions:t}){let r=(0,f.useMemo)(()=>{let r={};for(let n of t){let t=r[n.spec.source];if(t){t.push(n);continue}r[n.spec.source]=[n]}return r},[t]),n=(0,f.useMemo)(()=>{let t=[];for(let n in r)t.includes(n)||t.push(n);return t},[r]);return(0,a.jsx)(a.Fragment,{children:n.map(t=>(0,a.jsxs)(rc,{sx:t=>({".MuiAccordionSummary-root":{backgroundColor:t.palette.background.lighter},".MuiAccordionDetails-root":{backgroundColor:t.palette.background.lighter}}),children:[(0,a.jsx)(rb,{expandIcon:(0,a.jsx)(rM.default,{}),"aria-controls":"builtin",id:"builtin",children:(0,a.jsx)(eG.Z,{variant:"h2",children:(0,a.jsx)(l.InfoTooltip,{title:`${t} Built-in Variables`,description:"Variables computed during dashboard rendering.",children:(0,a.jsxs)("span",{children:[t," Built-in Variables"]})})})}),(0,a.jsx)(rS,{children:(0,a.jsx)(t8.Z,{children:(0,a.jsxs)(t6.Z,{sx:{minWidth:650},"aria-label":"table of external variables",children:[(0,a.jsx)(t7.Z,{children:(0,a.jsxs)(re.Z,{children:[(0,a.jsx)(r_.Z,{children:"Name"}),(0,a.jsx)(r_.Z,{children:"Description"})]})}),(0,a.jsx)(rt.Z,{children:(r[t]??[]).map(r=>(0,a.jsxs)(re.Z,{children:[(0,a.jsx)(r_.Z,{component:"th",scope:"row",sx:{fontWeight:"bold"},children:r.spec.name}),(0,a.jsx)(r_.Z,{children:r.spec.display?.description??""})]},t+"-"+r.spec.name))})]})})})]},t))})}function rI(t){return w.VARIABLE_TYPES.find(r=>r.kind===t)?.label}function rV(t){let[r,n]=rP(t.variableDefinitions),[i,s]=(0,f.useState)(null),[u,d]=(0,f.useState)("update"),c=t.externalVariableDefinitions,p=t.builtinVariableDefinitions,h=(0,f.useMemo)(()=>(function(t){let r=[],n=t.map(t=>t.spec.name),i=new Set(n);return n.length!==i.size&&r.push("Variable names must be unique"),{errors:r,isValid:0===r.length}})(r),[r]),[m]=(0,f.useMemo)(()=>[(0,rT.D)(r,{},c)],[c,r]),g="number"==typeof i&&r[i],{openDiscardChangesConfirmationDialog:y,closeDiscardChangesConfirmationDialog:v}=ew(),b=t=>{n(r=>{r.splice(t,1)})},x=t=>{d("update"),s(t)},j=(t,r)=>{n(n=>{let i=n[t];i&&(i.spec.display||(i.spec.display={name:i.spec.name,hidden:!1}),i.spec.display.hidden=!1===r)})},S=(t,r)=>{n(n=>{if("up"===r){let r=n[t-1],i=n[t];0!==t&&r&&i&&(n[t-1]=i,n[t]=r)}else{let r=n[t+1],i=n[t];if(t===n.length-1||!r||!i)return;n[t+1]=i,n[t]=r}})},C=t=>{n(r=>{r.push(t)})};return(0,a.jsxs)(a.Fragment,{children:[g&&(0,a.jsx)(w.ValidationProvider,{children:(0,a.jsx)(w.VariableEditorForm,{initialVariableDefinition:g,action:u,isDraft:!0,onActionChange:d,onSave:t=>{n(r=>{r[i]=t,s(null)})},onClose:()=>{"create"===u&&b(i),s(null)}})}),!g&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(ek.Z,{sx:{display:"flex",alignItems:"center",padding:t=>t.spacing(1,2),borderBottom:t=>`1px solid ${t.palette.divider}`},children:[(0,a.jsx)(eG.Z,{variant:"h2",children:"Edit Dashboard Variables"}),(0,a.jsxs)(eK.Z,{direction:"row",spacing:1,marginLeft:"auto",children:[(0,a.jsx)(o.Z,{disabled:t.variableDefinitions===r||!h.isValid,variant:"contained",onClick:()=>{t.onChange(r)},children:"Apply"}),(0,a.jsx)(o.Z,{color:"secondary",variant:"outlined",onClick:()=>{JSON.stringify(t.variableDefinitions)!==JSON.stringify(r)?y({onDiscardChanges:()=>{v(),t.onCancel()},onCancel:()=>{v()},description:"You have unapplied changes. Are you sure you want to discard these changes? Changes cannot be recovered."}):t.onCancel()},children:"Cancel"})]})]}),(0,a.jsx)(ek.Z,{padding:2,sx:{overflowY:"scroll"},children:(0,a.jsxs)(eK.Z,{spacing:2,children:[(0,a.jsxs)(eK.Z,{spacing:2,children:[!h.isValid&&h.errors.map(t=>(0,a.jsx)(t5.Z,{severity:"error",children:t},t)),(0,a.jsx)(t8.Z,{children:(0,a.jsxs)(t6.Z,{sx:{minWidth:650},"aria-label":"table of variables",children:[(0,a.jsx)(t7.Z,{children:(0,a.jsxs)(re.Z,{children:[(0,a.jsx)(rN,{children:"Visibility"}),(0,a.jsx)(rN,{children:"Name"}),(0,a.jsx)(rN,{children:"Type"}),(0,a.jsx)(rN,{children:"Description"}),(0,a.jsx)(rN,{align:"right",children:"Actions"})]})}),(0,a.jsx)(rt.Z,{children:r.map((t,n)=>(0,a.jsxs)(re.Z,{children:[(0,a.jsx)(rN,{component:"th",scope:"row",children:(0,a.jsx)(rr.Z,{checked:t.spec.display?.hidden!==!0,onChange:t=>{j(n,t.target.checked)}})}),(0,a.jsx)(rN,{component:"th",scope:"row",sx:{fontWeight:"bold"},children:(0,a.jsx)(rL,{name:t.spec.name,state:m.get({name:t.spec.name})})}),(0,a.jsx)(rN,{children:rI(t.kind)??t.kind}),(0,a.jsx)(rN,{children:t.spec.display?.description??""}),(0,a.jsxs)(rN,{align:"right",sx:{whiteSpace:"nowrap"},children:[(0,a.jsx)(eQ.Z,{onClick:()=>S(n,"up"),disabled:0===n,children:(0,a.jsx)(e0.default,{})}),(0,a.jsx)(eQ.Z,{onClick:()=>S(n,"down"),disabled:n===r.length-1,children:(0,a.jsx)(e1.default,{})}),(0,a.jsx)(eQ.Z,{onClick:()=>x(n),children:(0,a.jsx)(rE.default,{})}),(0,a.jsx)(eQ.Z,{onClick:()=>b(n),children:(0,a.jsx)(rD.default,{})})]})]},t.spec.name))})]})}),(0,a.jsx)(ek.Z,{display:"flex",children:(0,a.jsx)(o.Z,{variant:"contained",startIcon:(0,a.jsx)(rO.default,{}),sx:{marginLeft:"auto"},onClick:()=>{d("create"),n(t=>{t.push({kind:"TextVariable",spec:{name:"NewVariable",value:""}})}),s(r.length)},children:"Add Variable"})})]}),c&&!c.every(t=>0===t.definitions.length)&&c.map((t,r)=>t.definitions.length>0&&(0,a.jsxs)(rc,{sx:t=>({".MuiAccordionSummary-root":{backgroundColor:t.palette.background.lighter},".MuiAccordionDetails-root":{backgroundColor:t.palette.background.lighter}}),children:[(0,a.jsx)(rb,{expandIcon:(0,a.jsx)(rM.default,{}),"aria-controls":t.source,id:t.source,children:(0,a.jsx)(eK.Z,{flexDirection:"row",alignItems:"center",justifyContent:"start",children:(0,a.jsxs)(a.Fragment,{children:[t.tooltip?(0,a.jsx)(eG.Z,{variant:"h2",children:(0,a.jsx)(l.InfoTooltip,{title:t.tooltip.title||"",description:t.tooltip.description||"",children:(0,a.jsxs)("span",{children:[(0,tZ.Z)(t.source)," Variables"]})})}):(0,a.jsxs)(eG.Z,{variant:"h2",children:[(0,tZ.Z)(t.source)," Variables"]}),t.editLink&&(0,a.jsx)(eQ.Z,{href:t.editLink,target:"_blank",children:(0,a.jsx)(rR.default,{fontSize:"small"})})]})})}),(0,a.jsx)(rS,{children:(0,a.jsx)(t8.Z,{children:(0,a.jsxs)(t6.Z,{sx:{minWidth:650},"aria-label":"table of external variables",children:[(0,a.jsx)(t7.Z,{children:(0,a.jsxs)(re.Z,{children:[(0,a.jsx)(rN,{children:"Visibility"}),(0,a.jsx)(rN,{children:"Name"}),(0,a.jsx)(rN,{children:"Type"}),(0,a.jsx)(rN,{children:"Description"}),(0,a.jsx)(rN,{align:"right",children:"Actions"})]})}),(0,a.jsx)(rt.Z,{children:t.definitions.map(r=>(0,a.jsxs)(re.Z,{children:[(0,a.jsx)(rN,{component:"th",scope:"row",children:(0,a.jsx)(rr.Z,{checked:r.spec.display?.hidden!==!0,disabled:!0})}),(0,a.jsx)(rN,{component:"th",scope:"row",sx:{fontWeight:"bold"},children:(0,a.jsx)(rL,{name:r.spec.name,state:m.get({name:r.spec.name,source:t.source})})}),(0,a.jsx)(rN,{children:rI(r.kind)??r.kind}),(0,a.jsx)(rN,{children:r.spec.display?.description??""}),(0,a.jsxs)(rN,{align:"right",children:[(0,a.jsx)(rC.Z,{title:"Override",children:(0,a.jsx)(eQ.Z,{onClick:()=>C(r),disabled:!!m.get({name:r.spec.name}),children:(0,a.jsx)(rA.default,{})})}),(0,a.jsx)(eQ.Z,{disabled:!0,children:(0,a.jsx)(e0.default,{})}),(0,a.jsx)(eQ.Z,{disabled:!0,children:(0,a.jsx)(e1.default,{})}),(0,a.jsx)(eQ.Z,{disabled:!0,children:(0,a.jsx)(rE.default,{})}),(0,a.jsx)(eQ.Z,{disabled:!0,children:(0,a.jsx)(rD.default,{})})]})]},r.spec.name))})]})})})]},r)),p&&(0,a.jsx)(rZ,{builtinVariableDefinitions:p})]})})]})]})}let rN=(0,eT.ZP)(r_.Z)(({theme:t})=>({borderBottom:`solid 1px ${t.palette.divider}`}));function rL(t){let{name:r,state:n}=t;return(0,a.jsxs)(a.Fragment,{children:[!n?.overridden&&`${r} `,!n?.overridden&&n?.overriding&&(0,a.jsx)(ek.Z,{fontWeight:"normal",color:t=>t.palette.primary.main,children:"(overriding)"}),n?.overridden&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ek.Z,{color:t=>t.palette.grey[500],children:r}),(0,a.jsx)(ek.Z,{fontWeight:"normal",color:t=>t.palette.grey[500],children:"(overridden)"})]})]})}function rF({variant:t="text",label:r="Variables",color:n="primary",fullWidth:i}){let[s,d]=(0,f.useState)(!1),p=(0,t3.mo)(),h=(0,t3.qz)(),m=(0,w.useBuiltinVariableDefinitions)(),{setVariableDefinitions:g}=(0,t3.hK)(),y=()=>{d(!1)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.InfoTooltip,{description:u.editVariables,children:(0,a.jsx)(o.Z,{startIcon:(0,a.jsx)(eX.default,{}),onClick:()=>{d(!0)},"aria-label":u.editVariables,variant:t,color:n,fullWidth:i,sx:c,children:r})}),(0,a.jsx)(l.Drawer,{isOpen:s,onClose:y,PaperProps:{sx:{width:"50%"}},"data-testid":"variable-editor",children:(0,a.jsx)(rV,{variableDefinitions:p,externalVariableDefinitions:h,builtinVariableDefinitions:m,onCancel:y,onChange:t=>{g(t),d(!1)}})})]})}let r$=({label:t="Edit",onClick:r})=>(0,a.jsx)(o.Z,{onClick:r,startIcon:(0,a.jsx)(eX.default,{}),variant:"outlined",color:"secondary",sx:{whiteSpace:"nowrap",minWidth:"auto"},children:t}),rz="Let's get started",rH={edit:"We currently support time series charts, gauge charts, stat charts and more!",view:"This dashboard is currently empty. Get started by clicking the edit button."},rB={variant:"outlined",color:"secondary"},rq=({actions:t,isEditMode:r,onEditButtonClick:n})=>t&&"boolean"!=typeof t?t:!1===t?null:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eO,{variant:"outlined",color:"secondary",label:"Add Panel",fullWidth:!0}),(0,a.jsx)(rF,{variant:"outlined",color:"secondary",label:"Add Variables",fullWidth:!0})]}):n?(0,a.jsx)(r$,{...rB,label:"Edit Dashboard",onClick:n}):null,rW=({title:t=rz,image:r,description:n,additionalText:i,actions:o,onEditButtonClick:s})=>{let{isEditMode:l}=H(),u=l?rH.edit:rH.view,d=(0,a.jsx)(rq,{actions:o,onEditButtonClick:s,isEditMode:l});return(0,a.jsxs)(ek.Z,{sx:{width:"500px",textAlign:"center",margin:"0 auto"},children:[(0,a.jsxs)(ek.Z,{sx:{width:"289px",margin:"0 auto"},children:[!!r&&r,(0,a.jsx)(eG.Z,{variant:"h2",gutterBottom:!0,children:t}),(0,a.jsx)(eG.Z,{variant:"body1",children:n??u}),d&&(0,a.jsx)(ek.Z,{sx:{display:"flex",gap:2,marginTop:1,justifyContent:"center"},children:d})]}),i&&(0,a.jsx)(eG.Z,{variant:"subtitle1",sx:{marginTop:12},children:i})]})};function rU({emptyDashboardProps:t,panelOptions:r,...n}){let i=U(),o=(0,f.useRef)(null),s=!i.length,u=o.current?.getBoundingClientRect().top??165,d=window.innerHeight-u-window.scrollY;return(0,a.jsx)(ek.Z,{...n,sx:{height:"100%"},ref:o,children:(0,a.jsxs)(l.ErrorBoundary,{FallbackComponent:l.ErrorAlert,children:[s&&(0,a.jsx)(ek.Z,{sx:{height:"100%",display:"flex",alignItems:"center"},children:(0,a.jsx)(rW,{...t})}),!s&&i.map(t=>(0,a.jsx)(t4,{panelGroupId:t,panelOptions:r,panelFullHeight:d},t))]})})}var rG=n(76439),rQ=n(70313),rK=n(18873),rJ=n(29379);let rY=Symbol.for("yaml.alias"),rX=Symbol.for("yaml.document"),r0=Symbol.for("yaml.map"),r1=Symbol.for("yaml.pair"),r2=Symbol.for("yaml.scalar"),r4=Symbol.for("yaml.seq"),r9=Symbol.for("yaml.node.type"),r3=t=>!!t&&"object"==typeof t&&t[r9]===rY,r5=t=>!!t&&"object"==typeof t&&t[r9]===rX,r8=t=>!!t&&"object"==typeof t&&t[r9]===r0,r6=t=>!!t&&"object"==typeof t&&t[r9]===r1,r7=t=>!!t&&"object"==typeof t&&t[r9]===r2,ne=t=>!!t&&"object"==typeof t&&t[r9]===r4;function nt(t){if(t&&"object"==typeof t)switch(t[r9]){case r0:case r4:return!0}return!1}function nr(t){if(t&&"object"==typeof t)switch(t[r9]){case rY:case r0:case r2:case r4:return!0}return!1}let nn=t=>(r7(t)||nt(t))&&!!t.anchor,ni=Symbol("break visit"),na=Symbol("skip children"),no=Symbol("remove node");function ns(t,r){let n=nc(r);r5(t)?nl(null,t.contents,n,Object.freeze([t]))===no&&(t.contents=null):nl(null,t,n,Object.freeze([]))}function nl(t,r,n,i){let a=np(t,r,n,i);if(nr(a)||r6(a))return nf(t,i,a),nl(t,a,n,i);if("symbol"!=typeof a){if(nt(r)){i=Object.freeze(i.concat(r));for(let t=0;t<r.items.length;++t){let a=nl(t,r.items[t],n,i);if("number"==typeof a)t=a-1;else{if(a===ni)return ni;a===no&&(r.items.splice(t,1),t-=1)}}}else if(r6(r)){i=Object.freeze(i.concat(r));let t=nl("key",r.key,n,i);if(t===ni)return ni;t===no&&(r.key=null);let a=nl("value",r.value,n,i);if(a===ni)return ni;a===no&&(r.value=null)}}return a}async function nu(t,r){let n=nc(r);r5(t)?await nd(null,t.contents,n,Object.freeze([t]))===no&&(t.contents=null):await nd(null,t,n,Object.freeze([]))}async function nd(t,r,n,i){let a=await np(t,r,n,i);if(nr(a)||r6(a))return nf(t,i,a),nd(t,a,n,i);if("symbol"!=typeof a){if(nt(r)){i=Object.freeze(i.concat(r));for(let t=0;t<r.items.length;++t){let a=await nd(t,r.items[t],n,i);if("number"==typeof a)t=a-1;else{if(a===ni)return ni;a===no&&(r.items.splice(t,1),t-=1)}}}else if(r6(r)){i=Object.freeze(i.concat(r));let t=await nd("key",r.key,n,i);if(t===ni)return ni;t===no&&(r.key=null);let a=await nd("value",r.value,n,i);if(a===ni)return ni;a===no&&(r.value=null)}}return a}function nc(t){return"object"==typeof t&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function np(t,r,n,i){return"function"==typeof n?n(t,r,i):r8(r)?n.Map?.(t,r,i):ne(r)?n.Seq?.(t,r,i):r6(r)?n.Pair?.(t,r,i):r7(r)?n.Scalar?.(t,r,i):r3(r)?n.Alias?.(t,r,i):void 0}function nf(t,r,n){let i=r[r.length-1];if(nt(i))i.items[t]=n;else if(r6(i))"key"===t?i.key=n:i.value=n;else if(r5(i))i.contents=n;else{let t=r3(i)?"alias":"scalar";throw Error(`Cannot replace node with ${t} parent`)}}ns.BREAK=ni,ns.SKIP=na,ns.REMOVE=no,nu.BREAK=ni,nu.SKIP=na,nu.REMOVE=no;let nh={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},nm=t=>t.replace(/[!,[\]{}]/g,t=>nh[t]);class ng{constructor(t,r){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},ng.defaultYaml,t),this.tags=Object.assign({},ng.defaultTags,r)}clone(){let t=new ng(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){let t=new ng(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:ng.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},ng.defaultTags)}return t}add(t,r){this.atNextDocument&&(this.yaml={explicit:ng.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},ng.defaultTags),this.atNextDocument=!1);let n=t.trim().split(/[ \t]+/),i=n.shift();switch(i){case"%TAG":{if(2!==n.length&&(r(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;let[t,i]=n;return this.tags[t]=i,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==n.length)return r(0,"%YAML directive should contain exactly one part"),!1;let[t]=n;if("1.1"===t||"1.2"===t)return this.yaml.version=t,!0;{let n=/^\d+\.\d+$/.test(t);return r(6,`Unsupported YAML version ${t}`,n),!1}}default:return r(0,`Unknown directive ${i}`,!0),!1}}tagName(t,r){if("!"===t)return"!";if("!"!==t[0])return r(`Not a valid tag: ${t}`),null;if("<"===t[1]){let n=t.slice(2,-1);return"!"===n||"!!"===n?(r(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(">"!==t[t.length-1]&&r("Verbatim tags must end with a >"),n)}let[,n,i]=t.match(/^(.*!)([^!]*)$/s);i||r(`The ${t} tag has no suffix`);let a=this.tags[n];if(a)try{return a+decodeURIComponent(i)}catch(t){return r(String(t)),null}return"!"===n?t:(r(`Could not resolve tag: ${t}`),null)}tagString(t){for(let[r,n]of Object.entries(this.tags))if(t.startsWith(n))return r+nm(t.substring(n.length));return"!"===t[0]?t:`!<${t}>`}toString(t){let r;let n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],i=Object.entries(this.tags);if(t&&i.length>0&&nr(t.contents)){let n={};ns(t.contents,(t,r)=>{nr(r)&&r.tag&&(n[r.tag]=!0)}),r=Object.keys(n)}else r=[];for(let[a,o]of i)("!!"!==a||"tag:yaml.org,2002:"!==o)&&(!t||r.some(t=>t.startsWith(o)))&&n.push(`%TAG ${a} ${o}`);return n.join("\n")}}function ny(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){let r=JSON.stringify(t);throw Error(`Anchor must not contain whitespace or control characters: ${r}`)}return!0}function nv(t){let r=new Set;return ns(t,{Value(t,n){n.anchor&&r.add(n.anchor)}}),r}function nb(t,r){for(let n=1;;++n){let i=`${t}${n}`;if(!r.has(i))return i}}function nx(t,r,n,i){if(i&&"object"==typeof i){if(Array.isArray(i))for(let r=0,n=i.length;r<n;++r){let n=i[r],a=nx(t,i,String(r),n);void 0===a?delete i[r]:a!==n&&(i[r]=a)}else if(i instanceof Map)for(let r of Array.from(i.keys())){let n=i.get(r),a=nx(t,i,r,n);void 0===a?i.delete(r):a!==n&&i.set(r,a)}else if(i instanceof Set)for(let r of Array.from(i)){let n=nx(t,i,r,r);void 0===n?i.delete(r):n!==r&&(i.delete(r),i.add(n))}else for(let[r,n]of Object.entries(i)){let a=nx(t,i,r,n);void 0===a?delete i[r]:a!==n&&(i[r]=a)}}return t.call(r,n,i)}function nw(t,r,n){if(Array.isArray(t))return t.map((t,r)=>nw(t,String(r),n));if(t&&"function"==typeof t.toJSON){if(!n||!nn(t))return t.toJSON(r,n);let i={aliasCount:0,count:1,res:void 0};n.anchors.set(t,i),n.onCreate=t=>{i.res=t,delete n.onCreate};let a=t.toJSON(r,n);return n.onCreate&&n.onCreate(a),a}return"bigint"!=typeof t||n?.keep?t:Number(t)}ng.defaultYaml={explicit:!1,version:"1.2"},ng.defaultTags={"!!":"tag:yaml.org,2002:"};class nj{constructor(t){Object.defineProperty(this,r9,{value:t})}clone(){let t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:r,maxAliasCount:n,onAnchor:i,reviver:a}={}){if(!r5(t))throw TypeError("A document argument is required");let o={anchors:new Map,doc:t,keep:!0,mapAsMap:!0===r,mapKeyWarned:!1,maxAliasCount:"number"==typeof n?n:100},s=nw(this,"",o);if("function"==typeof i)for(let{count:t,res:r}of o.anchors.values())i(r,t);return"function"==typeof a?nx(a,{"":s},"",s):s}}class nS extends nj{constructor(t){super(rY),this.source=t,Object.defineProperty(this,"tag",{set(){throw Error("Alias nodes cannot have tags")}})}resolve(t){let r;return ns(t,{Node:(t,n)=>{if(n===this)return ns.BREAK;n.anchor===this.source&&(r=n)}}),r}toJSON(t,r){if(!r)return{source:this.source};let{anchors:n,doc:i,maxAliasCount:a}=r,o=this.resolve(i);if(!o)throw ReferenceError(`Unresolved alias (the anchor must be set before the alias): ${this.source}`);let s=n.get(o);if(s||(nw(o,null,r),s=n.get(o)),!s||void 0===s.res)throw ReferenceError("This should not happen: Alias anchor was not resolved?");if(a>=0&&(s.count+=1,0===s.aliasCount&&(s.aliasCount=function t(r,n,i){if(r3(n)){let t=n.resolve(r),a=i&&t&&i.get(t);return a?a.count*a.aliasCount:0}if(nt(n)){let a=0;for(let o of n.items){let n=t(r,o,i);n>a&&(a=n)}return a}return r6(n)?Math.max(t(r,n.key,i),t(r,n.value,i)):1}(i,o,n)),s.count*s.aliasCount>a))throw ReferenceError("Excessive alias count indicates a resource exhaustion attack");return s.res}toString(t,r,n){let i=`*${this.source}`;if(t){if(ny(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source))throw Error(`Unresolved alias (the anchor must be set before the alias): ${this.source}`);if(t.implicitKey)return`${i} `}return i}}let nC=t=>!t||"function"!=typeof t&&"object"!=typeof t;class n_ extends nj{constructor(t){super(r2),this.value=t}toJSON(t,r){return r?.keep?this.value:nw(this.value,t,r)}toString(){return String(this.value)}}function nO(t,r,n){let i;if(r5(t)&&(t=t.contents),nr(t))return t;if(r6(t)){let r=n.schema[r0].createNode?.(n.schema,null,n);return r.items.push(t),r}(t instanceof String||t instanceof Number||t instanceof Boolean||"undefined"!=typeof BigInt&&t instanceof BigInt)&&(t=t.valueOf());let{aliasDuplicateObjects:a,onAnchor:o,onTagObj:s,schema:l,sourceObjects:u}=n;if(a&&t&&"object"==typeof t){if(i=u.get(t))return i.anchor||(i.anchor=o(t)),new nS(i.anchor);i={anchor:null,node:null},u.set(t,i)}r?.startsWith("!!")&&(r="tag:yaml.org,2002:"+r.slice(2));let d=function(t,r,n){if(r){let t=n.filter(t=>t.tag===r),i=t.find(t=>!t.format)??t[0];if(!i)throw Error(`Tag ${r} not found`);return i}return n.find(r=>r.identify?.(t)&&!r.format)}(t,r,l.tags);if(!d){if(t&&"function"==typeof t.toJSON&&(t=t.toJSON()),!t||"object"!=typeof t){let r=new n_(t);return i&&(i.node=r),r}d=t instanceof Map?l[r0]:Symbol.iterator in Object(t)?l[r4]:l[r0]}s&&(s(d),delete n.onTagObj);let c=d?.createNode?d.createNode(n.schema,t,n):"function"==typeof d?.nodeClass?.from?d.nodeClass.from(n.schema,t,n):new n_(t);return r?c.tag=r:d.default||(c.tag=d.tag),i&&(i.node=c),c}function nk(t,r,n){let i=n;for(let t=r.length-1;t>=0;--t){let n=r[t];if("number"==typeof n&&Number.isInteger(n)&&n>=0){let t=[];t[n]=i,i=t}else i=new Map([[n,i]])}return nO(i,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}n_.BLOCK_FOLDED="BLOCK_FOLDED",n_.BLOCK_LITERAL="BLOCK_LITERAL",n_.PLAIN="PLAIN",n_.QUOTE_DOUBLE="QUOTE_DOUBLE",n_.QUOTE_SINGLE="QUOTE_SINGLE";let nP=t=>null==t||"object"==typeof t&&!!t[Symbol.iterator]().next().done;class nE extends nj{constructor(t,r){super(t),Object.defineProperty(this,"schema",{value:r,configurable:!0,enumerable:!1,writable:!0})}clone(t){let r=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(r.schema=t),r.items=r.items.map(r=>nr(r)||r6(r)?r.clone(t):r),this.range&&(r.range=this.range.slice()),r}addIn(t,r){if(nP(t))this.add(r);else{let[n,...i]=t,a=this.get(n,!0);if(nt(a))a.addIn(i,r);else if(void 0===a&&this.schema)this.set(n,nk(this.schema,i,r));else throw Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}deleteIn(t){let[r,...n]=t;if(0===n.length)return this.delete(r);let i=this.get(r,!0);if(nt(i))return i.deleteIn(n);throw Error(`Expected YAML collection at ${r}. Remaining path: ${n}`)}getIn(t,r){let[n,...i]=t,a=this.get(n,!0);return 0===i.length?!r&&r7(a)?a.value:a:nt(a)?a.getIn(i,r):void 0}hasAllNullValues(t){return this.items.every(r=>{if(!r6(r))return!1;let n=r.value;return null==n||t&&r7(n)&&null==n.value&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(t){let[r,...n]=t;if(0===n.length)return this.has(r);let i=this.get(r,!0);return!!nt(i)&&i.hasIn(n)}setIn(t,r){let[n,...i]=t;if(0===i.length)this.set(n,r);else{let t=this.get(n,!0);if(nt(t))t.setIn(i,r);else if(void 0===t&&this.schema)this.set(n,nk(this.schema,i,r));else throw Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}}let nD=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function nA(t,r){return/^\n+$/.test(t)?t.substring(1):r?t.replace(/^(?! *$)/gm,r):t}let nR=(t,r,n)=>t.endsWith("\n")?nA(n,r):n.includes("\n")?"\n"+nA(n,r):(t.endsWith(" ")?"":" ")+n,nM="flow",nT="block",nZ="quoted";function nI(t,r,n="flow",{indentAtStart:i,lineWidth:a=80,minContentWidth:o=20,onFold:s,onOverflow:l}={}){let u,d,c;if(!a||a<0)return t;a<o&&(o=0);let p=Math.max(1+o,1+a-r.length);if(t.length<=p)return t;let f=[],h={},m=a-r.length;"number"==typeof i&&(i>a-Math.max(2,o)?f.push(0):m=a-i);let g=!1,y=-1,v=-1,b=-1;for(n===nT&&-1!==(y=nV(t,y,r.length))&&(m=y+p);c=t[y+=1];){if(n===nZ&&"\\"===c){switch(v=y,t[y+1]){case"x":y+=3;break;case"u":y+=5;break;case"U":y+=9;break;default:y+=1}b=y}if("\n"===c)n===nT&&(y=nV(t,y,r.length)),m=y+r.length+p,u=void 0;else{if(" "===c&&d&&" "!==d&&"\n"!==d&&"	"!==d){let r=t[y+1];r&&" "!==r&&"\n"!==r&&"	"!==r&&(u=y)}if(y>=m){if(u)f.push(u),m=u+p,u=void 0;else if(n===nZ){for(;" "===d||"	"===d;)d=c,c=t[y+=1],g=!0;let r=y>b+1?y-2:v-1;if(h[r])return t;f.push(r),h[r]=!0,m=r+p,u=void 0}else g=!0}}d=c}if(g&&l&&l(),0===f.length)return t;s&&s();let x=t.slice(0,f[0]);for(let i=0;i<f.length;++i){let a=f[i],o=f[i+1]||t.length;0===a?x=`
${r}${t.slice(0,o)}`:(n===nZ&&h[a]&&(x+=`${t[a]}\\`),x+=`
${r}${t.slice(a+1,o)}`)}return x}function nV(t,r,n){let i=r,a=r+1,o=t[a];for(;" "===o||"	"===o;)if(r<a+n)o=t[++r];else{do o=t[++r];while(o&&"\n"!==o);i=r,o=t[a=r+1]}return i}let nN=(t,r)=>({indentAtStart:r?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),nL=t=>/^(%|---|\.\.\.)/m.test(t);function nF(t,r){let n=JSON.stringify(t);if(r.options.doubleQuotedAsJSON)return n;let{implicitKey:i}=r,a=r.options.doubleQuotedMinMultiLineLength,o=r.indent||(nL(t)?"  ":""),s="",l=0;for(let t=0,r=n[t];r;r=n[++t])if(" "===r&&"\\"===n[t+1]&&"n"===n[t+2]&&(s+=n.slice(l,t)+"\\ ",t+=1,l=t,r="\\"),"\\"===r)switch(n[t+1]){case"u":{s+=n.slice(l,t);let r=n.substr(t+2,4);switch(r){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:"00"===r.substr(0,2)?s+="\\x"+r.substr(2):s+=n.substr(t,6)}t+=5,l=t+1}break;case"n":if(i||'"'===n[t+2]||n.length<a)t+=1;else{for(s+=n.slice(l,t)+"\n\n";"\\"===n[t+2]&&"n"===n[t+3]&&'"'!==n[t+4];)s+="\n",t+=2;s+=o," "===n[t+2]&&(s+="\\"),t+=1,l=t+1}break;default:t+=1}return s=l?s+n.slice(l):n,i?s:nI(s,o,nZ,nN(r,!1))}function n$(t,r){if(!1===r.options.singleQuote||r.implicitKey&&t.includes("\n")||/[ \t]\n|\n[ \t]/.test(t))return nF(t,r);let n=r.indent||(nL(t)?"  ":""),i="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return r.implicitKey?i:nI(i,n,nM,nN(r,!1))}function nz(t,r){let n;let{singleQuote:i}=r.options;if(!1===i)n=nF;else{let r=t.includes('"'),a=t.includes("'");n=r&&!a?n$:a&&!r?nF:i?n$:nF}return n(t,r)}try{i=RegExp("(^|(?<!\n))\n+(?!\n|$)","g")}catch{i=/\n+(?!\n|$)/g}function nH({comment:t,type:r,value:n},a,o,s){let l,u,d;let{blockQuote:c,commentString:p,lineWidth:f}=a.options;if(!c||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return nz(n,a);let h=a.indent||(a.forceBlockIndent||nL(n)?"  ":""),m="literal"===c||"folded"!==c&&r!==n_.BLOCK_FOLDED&&(r===n_.BLOCK_LITERAL||!function(t,r,n){if(!r||r<0)return!1;let i=r-n,a=t.length;if(a<=i)return!1;for(let r=0,n=0;r<a;++r)if("\n"===t[r]){if(r-n>i)return!0;if(a-(n=r+1)<=i)return!1}return!0}(n,f,h.length));if(!n)return m?"|\n":">\n";for(u=n.length;u>0;--u){let t=n[u-1];if("\n"!==t&&"	"!==t&&" "!==t)break}let g=n.substring(u),y=g.indexOf("\n");-1===y?l="-":n===g||y!==g.length-1?(l="+",s&&s()):l="",g&&(n=n.slice(0,-g.length),"\n"===g[g.length-1]&&(g=g.slice(0,-1)),g=g.replace(i,`$&${h}`));let v=!1,b=-1;for(d=0;d<n.length;++d){let t=n[d];if(" "===t)v=!0;else if("\n"===t)b=d;else break}let x=n.substring(0,b<d?b+1:d);x&&(n=n.substring(x.length),x=x.replace(/\n+/g,`$&${h}`));let w=h?"2":"1",j=(v?w:"")+l;if(t&&(j+=" "+p(t.replace(/ ?[\r\n]+/g," ")),o&&o()),!m){let t=n.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${h}`),i=!1,o=nN(a,!0);"folded"!==c&&r!==n_.BLOCK_FOLDED&&(o.onOverflow=()=>{i=!0});let s=nI(`${x}${t}${g}`,h,nT,o);if(!i)return`>${j}
${h}${s}`}return n=n.replace(/\n+/g,`$&${h}`),`|${j}
${h}${x}${n}${g}`}function nB(t,r,n,i){let{implicitKey:a,inFlow:o}=r,s="string"==typeof t.value?t:Object.assign({},t,{value:String(t.value)}),{type:l}=t;l!==n_.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(l=n_.QUOTE_DOUBLE);let u=t=>{switch(t){case n_.BLOCK_FOLDED:case n_.BLOCK_LITERAL:return a||o?nz(s.value,r):nH(s,r,n,i);case n_.QUOTE_DOUBLE:return nF(s.value,r);case n_.QUOTE_SINGLE:return n$(s.value,r);case n_.PLAIN:return function(t,r,n,i){let{type:a,value:o}=t,{actualString:s,implicitKey:l,indent:u,indentStep:d,inFlow:c}=r;if(l&&o.includes("\n")||c&&/[[\]{},]/.test(o))return nz(o,r);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return l||c||!o.includes("\n")?nz(o,r):nH(t,r,n,i);if(!l&&!c&&a!==n_.PLAIN&&o.includes("\n"))return nH(t,r,n,i);if(nL(o)){if(""===u)return r.forceBlockIndent=!0,nH(t,r,n,i);if(l&&u===d)return nz(o,r)}let p=o.replace(/\n+/g,`$&
${u}`);if(s){let t=t=>t.default&&"tag:yaml.org,2002:str"!==t.tag&&t.test?.test(p),{compat:n,tags:i}=r.doc.schema;if(i.some(t)||n?.some(t))return nz(o,r)}return l?p:nI(p,u,nM,nN(r,!1))}(s,r,n,i);default:return null}},d=u(l);if(null===d){let{defaultKeyType:t,defaultStringType:n}=r.options,i=a&&t||n;if(null===(d=u(i)))throw Error(`Unsupported default string type ${i}`)}return d}function nq(t,r){let n;let i=Object.assign({blockQuote:!0,commentString:nD,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,r);switch(i.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:t,flowCollectionPadding:i.flowCollectionPadding?" ":"",indent:"",indentStep:"number"==typeof i.indent?" ".repeat(i.indent):"  ",inFlow:n,options:i}}function nW(t,r,n,i){let a;if(r6(t))return t.toString(r,n,i);if(r3(t)){if(r.doc.directives)return t.toString(r);if(r.resolvedAliases?.has(t))throw TypeError("Cannot stringify circular structure without alias nodes");r.resolvedAliases?r.resolvedAliases.add(t):r.resolvedAliases=new Set([t]),t=t.resolve(r.doc)}let o=nr(t)?t:r.doc.createNode(t,{onTagObj:t=>a=t});a||(a=function(t,r){let n,i;if(r.tag){let n=t.filter(t=>t.tag===r.tag);if(n.length>0)return n.find(t=>t.format===r.format)??n[0]}if(r7(r)){n=r.value;let a=t.filter(t=>t.identify?.(n));if(a.length>1){let t=a.filter(t=>t.test);t.length>0&&(a=t)}i=a.find(t=>t.format===r.format)??a.find(t=>!t.format)}else n=r,i=t.find(t=>t.nodeClass&&n instanceof t.nodeClass);if(!i){let t=n?.constructor?.name??typeof n;throw Error(`Tag not resolved for ${t} value`)}return i}(r.doc.schema.tags,o));let s=function(t,r,{anchors:n,doc:i}){if(!i.directives)return"";let a=[],o=(r7(t)||nt(t))&&t.anchor;o&&ny(o)&&(n.add(o),a.push(`&${o}`));let s=t.tag?t.tag:r.default?null:r.tag;return s&&a.push(i.directives.tagString(s)),a.join(" ")}(o,a,r);s.length>0&&(r.indentAtStart=(r.indentAtStart??0)+s.length+1);let l="function"==typeof a.stringify?a.stringify(o,r,n,i):r7(o)?nB(o,r,n,i):o.toString(r,n,i);return s?r7(o)||"{"===l[0]||"["===l[0]?`${s} ${l}`:`${s}
${r.indent}${l}`:l}let nU={identify:t=>"<<"===t||"symbol"==typeof t&&"<<"===t.description,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new n_(Symbol("<<")),{addToJSMap:nQ}),stringify:()=>"<<"},nG=(t,r)=>(nU.identify(r)||r7(r)&&(!r.type||r.type===n_.PLAIN)&&nU.identify(r.value))&&t?.doc.schema.tags.some(t=>t.tag===nU.tag&&t.default);function nQ(t,r,n){if(ne(n=t&&r3(n)?n.resolve(t.doc):n))for(let i of n.items)nK(t,r,i);else if(Array.isArray(n))for(let i of n)nK(t,r,i);else nK(t,r,n)}function nK(t,r,n){let i=t&&r3(n)?n.resolve(t.doc):n;if(!r8(i))throw Error("Merge sources must be maps or map aliases");for(let[n,a]of i.toJSON(null,t,Map))r instanceof Map?r.has(n)||r.set(n,a):r instanceof Set?r.add(n):Object.prototype.hasOwnProperty.call(r,n)||Object.defineProperty(r,n,{value:a,writable:!0,enumerable:!0,configurable:!0});return r}function nJ(t,r,{key:n,value:i}){if(nr(n)&&n.addToJSMap)n.addToJSMap(t,r,i);else if(nG(t,n))nQ(t,r,i);else{let a=nw(n,"",t);if(r instanceof Map)r.set(a,nw(i,a,t));else if(r instanceof Set)r.add(a);else{let o=function(t,r,n){if(null===r)return"";if("object"!=typeof r)return String(r);if(nr(t)&&n?.doc){let r=nq(n.doc,{});for(let t of(r.anchors=new Set,n.anchors.keys()))r.anchors.add(t.anchor);r.inFlow=!0,r.inStringifyKey=!0;let o=t.toString(r);if(!n.mapKeyWarned){var i,a;let t=JSON.stringify(o);t.length>40&&(t=t.substring(0,36)+'..."'),i=n.doc.options.logLevel,a=`Keys with collection values will be stringified due to JS Object restrictions: ${t}. Set mapAsMap: true to use object keys.`,("debug"===i||"warn"===i)&&console.warn(a),n.mapKeyWarned=!0}return o}return JSON.stringify(r)}(n,a,t),s=nw(i,o,t);o in r?Object.defineProperty(r,o,{value:s,writable:!0,enumerable:!0,configurable:!0}):r[o]=s}}return r}function nY(t,r,n){return new nX(nO(t,void 0,n),nO(r,void 0,n))}class nX{constructor(t,r=null){Object.defineProperty(this,r9,{value:r1}),this.key=t,this.value=r}clone(t){let{key:r,value:n}=this;return nr(r)&&(r=r.clone(t)),nr(n)&&(n=n.clone(t)),new nX(r,n)}toJSON(t,r){let n=r?.mapAsMap?new Map:{};return nJ(r,n,this)}toString(t,r,n){return t?.doc?function({key:t,value:r},n,i,a){let o,s,l;let{allNullValues:u,doc:d,indent:c,indentStep:p,options:{commentString:f,indentSeq:h,simpleKeys:m}}=n,g=nr(t)&&t.comment||null;if(m){if(g)throw Error("With simple keys, key nodes cannot have comments");if(nt(t)||!nr(t)&&"object"==typeof t)throw Error("With simple keys, collection cannot be used as a key value")}let y=!m&&(!t||g&&null==r&&!n.inFlow||nt(t)||(r7(t)?t.type===n_.BLOCK_FOLDED||t.type===n_.BLOCK_LITERAL:"object"==typeof t));n=Object.assign({},n,{allNullValues:!1,implicitKey:!y&&(m||!u),indent:c+p});let v=!1,b=!1,x=nW(t,n,()=>v=!0,()=>b=!0);if(!y&&!n.inFlow&&x.length>1024){if(m)throw Error("With simple keys, single line scalar must not span more than 1024 characters");y=!0}if(n.inFlow){if(u||null==r)return v&&i&&i(),""===x?"?":y?`? ${x}`:x}else if(u&&!m||null==r&&y)return x=`? ${x}`,g&&!v?x+=nR(x,n.indent,f(g)):b&&a&&a(),x;v&&(g=null),y?(g&&(x+=nR(x,n.indent,f(g))),x=`? ${x}
${c}:`):(x=`${x}:`,g&&(x+=nR(x,n.indent,f(g)))),nr(r)?(o=!!r.spaceBefore,s=r.commentBefore,l=r.comment):(o=!1,s=null,l=null,r&&"object"==typeof r&&(r=d.createNode(r))),n.implicitKey=!1,!y&&!g&&r7(r)&&(n.indentAtStart=x.length+1),b=!1,!(!h&&p.length>=2&&!n.inFlow&&!y&&ne(r))||r.flow||r.tag||r.anchor||(n.indent=n.indent.substring(2));let w=!1,j=nW(r,n,()=>w=!0,()=>b=!0),S=" ";if(g||o||s){if(S=o?"\n":"",s){let t=f(s);S+=`
${nA(t,n.indent)}`}""!==j||n.inFlow?S+=`
${n.indent}`:"\n"===S&&(S="\n\n")}else if(!y&&nt(r)){let t=j[0],i=j.indexOf("\n"),a=-1!==i,o=n.inFlow??r.flow??0===r.items.length;if(a||!o){let r=!1;if(a&&("&"===t||"!"===t)){let n=j.indexOf(" ");"&"===t&&-1!==n&&n<i&&"!"===j[n+1]&&(n=j.indexOf(" ",n+1)),(-1===n||i<n)&&(r=!0)}r||(S=`
${n.indent}`)}}else(""===j||"\n"===j[0])&&(S="");return x+=S+j,n.inFlow?w&&i&&i():l&&!w?x+=nR(x,n.indent,f(l)):b&&a&&a(),x}(this,t,r,n):JSON.stringify(this)}}function n0(t,r,n){return(r.inFlow??t.flow?function({items:t},r,{flowChars:n,itemIndent:i}){let{indent:a,indentStep:o,flowCollectionPadding:s,options:{commentString:l}}=r,u=Object.assign({},r,{indent:i+=o,inFlow:!0,type:null}),d=!1,c=0,p=[];for(let n=0;n<t.length;++n){let a=t[n],o=null;if(nr(a))a.spaceBefore&&p.push(""),n1(r,p,a.commentBefore,!1),a.comment&&(o=a.comment);else if(r6(a)){let t=nr(a.key)?a.key:null;t&&(t.spaceBefore&&p.push(""),n1(r,p,t.commentBefore,!1),t.comment&&(d=!0));let n=nr(a.value)?a.value:null;n?(n.comment&&(o=n.comment),n.commentBefore&&(d=!0)):null==a.value&&t?.comment&&(o=t.comment)}o&&(d=!0);let s=nW(a,u,()=>o=null);n<t.length-1&&(s+=","),o&&(s+=nR(s,i,l(o))),!d&&(p.length>c||s.includes("\n"))&&(d=!0),p.push(s),c=p.length}let{start:f,end:h}=n;if(0===p.length)return f+h;if(!d){let t=p.reduce((t,r)=>t+r.length+2,2);d=r.options.lineWidth>0&&t>r.options.lineWidth}if(!d)return`${f}${s}${p.join(" ")}${s}${h}`;{let t=f;for(let r of p)t+=r?`
${o}${a}${r}`:"\n";return`${t}
${a}${h}`}}:function({comment:t,items:r},n,{blockItemPrefix:i,flowChars:a,itemIndent:o,onChompKeep:s,onComment:l}){let u;let{indent:d,options:{commentString:c}}=n,p=Object.assign({},n,{indent:o,type:null}),f=!1,h=[];for(let t=0;t<r.length;++t){let a=r[t],s=null;if(nr(a))!f&&a.spaceBefore&&h.push(""),n1(n,h,a.commentBefore,f),a.comment&&(s=a.comment);else if(r6(a)){let t=nr(a.key)?a.key:null;t&&(!f&&t.spaceBefore&&h.push(""),n1(n,h,t.commentBefore,f))}f=!1;let l=nW(a,p,()=>s=null,()=>f=!0);s&&(l+=nR(l,o,c(s))),f&&s&&(f=!1),h.push(i+l)}if(0===h.length)u=a.start+a.end;else{u=h[0];for(let t=1;t<h.length;++t){let r=h[t];u+=r?`
${d}${r}`:"\n"}}return t?(u+="\n"+nA(c(t),d),l&&l()):f&&s&&s(),u})(t,r,n)}function n1({indent:t,options:{commentString:r}},n,i,a){if(i&&a&&(i=i.replace(/^\n+/,"")),i){let a=nA(r(i),t);n.push(a.trimStart())}}function n2(t,r){let n=r7(r)?r.value:r;for(let i of t)if(r6(i)&&(i.key===r||i.key===n||r7(i.key)&&i.key.value===n))return i}class n4 extends nE{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(r0,t),this.items=[]}static from(t,r,n){let{keepUndefined:i,replacer:a}=n,o=new this(t),s=(t,s)=>{if("function"==typeof a)s=a.call(r,t,s);else if(Array.isArray(a)&&!a.includes(t))return;(void 0!==s||i)&&o.items.push(nY(t,s,n))};if(r instanceof Map)for(let[t,n]of r)s(t,n);else if(r&&"object"==typeof r)for(let t of Object.keys(r))s(t,r[t]);return"function"==typeof t.sortMapEntries&&o.items.sort(t.sortMapEntries),o}add(t,r){let n;n=r6(t)?t:t&&"object"==typeof t&&"key"in t?new nX(t.key,t.value):new nX(t,t?.value);let i=n2(this.items,n.key),a=this.schema?.sortMapEntries;if(i){if(!r)throw Error(`Key ${n.key} already set`);r7(i.value)&&nC(n.value)?i.value.value=n.value:i.value=n.value}else if(a){let t=this.items.findIndex(t=>0>a(n,t));-1===t?this.items.push(n):this.items.splice(t,0,n)}else this.items.push(n)}delete(t){let r=n2(this.items,t);return!!r&&this.items.splice(this.items.indexOf(r),1).length>0}get(t,r){let n=n2(this.items,t),i=n?.value;return(!r&&r7(i)?i.value:i)??void 0}has(t){return!!n2(this.items,t)}set(t,r){this.add(new nX(t,r),!0)}toJSON(t,r,n){let i=n?new n:r?.mapAsMap?new Map:{};for(let t of(r?.onCreate&&r.onCreate(i),this.items))nJ(r,i,t);return i}toString(t,r,n){if(!t)return JSON.stringify(this);for(let t of this.items)if(!r6(t))throw Error(`Map items must all be pairs; found ${JSON.stringify(t)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),n0(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:n,onComment:r})}}let n9={collection:"map",default:!0,nodeClass:n4,tag:"tag:yaml.org,2002:map",resolve:(t,r)=>(r8(t)||r("Expected a mapping for this tag"),t),createNode:(t,r,n)=>n4.from(t,r,n)};class n3 extends nE{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(r4,t),this.items=[]}add(t){this.items.push(t)}delete(t){let r=n5(t);return"number"==typeof r&&this.items.splice(r,1).length>0}get(t,r){let n=n5(t);if("number"!=typeof n)return;let i=this.items[n];return!r&&r7(i)?i.value:i}has(t){let r=n5(t);return"number"==typeof r&&r<this.items.length}set(t,r){let n=n5(t);if("number"!=typeof n)throw Error(`Expected a valid index, not ${t}.`);let i=this.items[n];r7(i)&&nC(r)?i.value=r:this.items[n]=r}toJSON(t,r){let n=[];r?.onCreate&&r.onCreate(n);let i=0;for(let t of this.items)n.push(nw(t,String(i++),r));return n}toString(t,r,n){return t?n0(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:n,onComment:r}):JSON.stringify(this)}static from(t,r,n){let{replacer:i}=n,a=new this(t);if(r&&Symbol.iterator in Object(r)){let t=0;for(let o of r){if("function"==typeof i){let n=r instanceof Set?o:String(t++);o=i.call(r,n,o)}a.items.push(nO(o,void 0,n))}}return a}}function n5(t){let r=r7(t)?t.value:t;return r&&"string"==typeof r&&(r=Number(r)),"number"==typeof r&&Number.isInteger(r)&&r>=0?r:null}let n8={collection:"seq",default:!0,nodeClass:n3,tag:"tag:yaml.org,2002:seq",resolve:(t,r)=>(ne(t)||r("Expected a sequence for this tag"),t),createNode:(t,r,n)=>n3.from(t,r,n)},n6={identify:t=>"string"==typeof t,default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:(t,r,n,i)=>nB(t,r=Object.assign({actualString:!0},r),n,i)},n7={identify:t=>null==t,createNode:()=>new n_(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new n_(null),stringify:({source:t},r)=>"string"==typeof t&&n7.test.test(t)?t:r.options.nullStr},ie={identify:t=>"boolean"==typeof t,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new n_("t"===t[0]||"T"===t[0]),stringify:({source:t,value:r},n)=>t&&ie.test.test(t)&&r===("t"===t[0]||"T"===t[0])?t:r?n.options.trueStr:n.options.falseStr};function it({format:t,minFractionDigits:r,tag:n,value:i}){if("bigint"==typeof i)return String(i);let a="number"==typeof i?i:Number(i);if(!isFinite(a))return isNaN(a)?".nan":a<0?"-.inf":".inf";let o=JSON.stringify(i);if(!t&&r&&(!n||"tag:yaml.org,2002:float"===n)&&/^\d/.test(o)){let t=o.indexOf(".");t<0&&(t=o.length,o+=".");let n=r-(o.length-t-1);for(;n-- >0;)o+="0"}return o}let ir={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>"nan"===t.slice(-3).toLowerCase()?NaN:"-"===t[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:it},ii={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){let r=Number(t.value);return isFinite(r)?r.toExponential():it(t)}},ia={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){let r=new n_(parseFloat(t)),n=t.indexOf(".");return -1!==n&&"0"===t[t.length-1]&&(r.minFractionDigits=t.length-n-1),r},stringify:it},io=t=>"bigint"==typeof t||Number.isInteger(t),is=(t,r,n,{intAsBigInt:i})=>i?BigInt(t):parseInt(t.substring(r),n);function il(t,r,n){let{value:i}=t;return io(i)&&i>=0?n+i.toString(r):it(t)}let iu={identify:t=>io(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,r,n)=>is(t,2,8,n),stringify:t=>il(t,8,"0o")},id={identify:io,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,r,n)=>is(t,0,10,n),stringify:it},ic={identify:t=>io(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,r,n)=>is(t,2,16,n),stringify:t=>il(t,16,"0x")},ip=[n9,n8,n6,n7,ie,iu,id,ic,ir,ii,ia];function ih(t){return"bigint"==typeof t||Number.isInteger(t)}let im=({value:t})=>JSON.stringify(t),ig=[n9,n8].concat([{identify:t=>"string"==typeof t,default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:im},{identify:t=>null==t,createNode:()=>new n_(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:im},{identify:t=>"boolean"==typeof t,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:t=>"true"===t,stringify:im},{identify:ih,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,r,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>ih(t)?t.toString():JSON.stringify(t)},{identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:im}],{default:!0,tag:"",test:/^/,resolve:(t,r)=>(r(`Unresolved plain scalar ${JSON.stringify(t)}`),t)}),iy={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,r){if("function"!=typeof atob)return r("This environment does not support reading binary tags; either Buffer or atob is required"),t;{let r=atob(t.replace(/[\n\r]/g,"")),n=new Uint8Array(r.length);for(let t=0;t<r.length;++t)n[t]=r.charCodeAt(t);return n}},stringify({comment:t,type:r,value:n},i,a,o){let s;if("function"==typeof btoa){let t="";for(let r=0;r<n.length;++r)t+=String.fromCharCode(n[r]);s=btoa(t)}else throw Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(r||(r=n_.BLOCK_LITERAL),r!==n_.QUOTE_DOUBLE){let t=Math.max(i.options.lineWidth-i.indent.length,i.options.minContentWidth),n=Math.ceil(s.length/t),a=Array(n);for(let r=0,i=0;r<n;++r,i+=t)a[r]=s.substr(i,t);s=a.join(r===n_.BLOCK_LITERAL?"\n":" ")}return nB({comment:t,type:r,value:s},i,a,o)}};function iv(t,r){if(ne(t))for(let n=0;n<t.items.length;++n){let i=t.items[n];if(!r6(i)){if(r8(i)){i.items.length>1&&r("Each pair must have its own sequence indicator");let t=i.items[0]||new nX(new n_(null));if(i.commentBefore&&(t.key.commentBefore=t.key.commentBefore?`${i.commentBefore}
${t.key.commentBefore}`:i.commentBefore),i.comment){let r=t.value??t.key;r.comment=r.comment?`${i.comment}
${r.comment}`:i.comment}i=t}t.items[n]=r6(i)?i:new nX(i)}}else r("Expected a sequence for this tag");return t}function ib(t,r,n){let{replacer:i}=n,a=new n3(t);a.tag="tag:yaml.org,2002:pairs";let o=0;if(r&&Symbol.iterator in Object(r))for(let t of r){let s,l;if("function"==typeof i&&(t=i.call(r,String(o++),t)),Array.isArray(t)){if(2===t.length)s=t[0],l=t[1];else throw TypeError(`Expected [key, value] tuple: ${t}`)}else if(t&&t instanceof Object){let r=Object.keys(t);if(1===r.length)l=t[s=r[0]];else throw TypeError(`Expected tuple with one key, not ${r.length} keys`)}else s=t;a.items.push(nY(s,l,n))}return a}let ix={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:iv,createNode:ib};class iw extends n3{constructor(){super(),this.add=n4.prototype.add.bind(this),this.delete=n4.prototype.delete.bind(this),this.get=n4.prototype.get.bind(this),this.has=n4.prototype.has.bind(this),this.set=n4.prototype.set.bind(this),this.tag=iw.tag}toJSON(t,r){if(!r)return super.toJSON(t);let n=new Map;for(let t of(r?.onCreate&&r.onCreate(n),this.items)){let i,a;if(r6(t)?(i=nw(t.key,"",r),a=nw(t.value,i,r)):i=nw(t,"",r),n.has(i))throw Error("Ordered maps must not include duplicate keys");n.set(i,a)}return n}static from(t,r,n){let i=ib(t,r,n),a=new this;return a.items=i.items,a}}iw.tag="tag:yaml.org,2002:omap";let ij={collection:"seq",identify:t=>t instanceof Map,nodeClass:iw,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,r){let n=iv(t,r),i=[];for(let{key:t}of n.items)r7(t)&&(i.includes(t.value)?r(`Ordered maps must not include duplicate keys: ${t.value}`):i.push(t.value));return Object.assign(new iw,n)},createNode:(t,r,n)=>iw.from(t,r,n)};function iS({value:t,source:r},n){return r&&(t?iC:i_).test.test(r)?r:t?n.options.trueStr:n.options.falseStr}let iC={identify:t=>!0===t,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new n_(!0),stringify:iS},i_={identify:t=>!1===t,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new n_(!1),stringify:iS},iO=t=>"bigint"==typeof t||Number.isInteger(t);function ik(t,r,n,{intAsBigInt:i}){let a=t[0];if(("-"===a||"+"===a)&&(r+=1),t=t.substring(r).replace(/_/g,""),i){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`}let r=BigInt(t);return"-"===a?BigInt(-1)*r:r}let o=parseInt(t,n);return"-"===a?-1*o:o}function iP(t,r,n){let{value:i}=t;if(iO(i)){let t=i.toString(r);return i<0?"-"+n+t.substr(1):n+t}return it(t)}class iE extends n4{constructor(t){super(t),this.tag=iE.tag}add(t){let r;r=r6(t)?t:t&&"object"==typeof t&&"key"in t&&"value"in t&&null===t.value?new nX(t.key,null):new nX(t,null),n2(this.items,r.key)||this.items.push(r)}get(t,r){let n=n2(this.items,t);return!r&&r6(n)?r7(n.key)?n.key.value:n.key:n}set(t,r){if("boolean"!=typeof r)throw Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof r}`);let n=n2(this.items,t);n&&!r?this.items.splice(this.items.indexOf(n),1):!n&&r&&this.items.push(new nX(t))}toJSON(t,r){return super.toJSON(t,r,Set)}toString(t,r,n){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),r,n);throw Error("Set items must all have null values")}static from(t,r,n){let{replacer:i}=n,a=new this(t);if(r&&Symbol.iterator in Object(r))for(let t of r)"function"==typeof i&&(t=i.call(r,t,t)),a.items.push(nY(t,null,n));return a}}iE.tag="tag:yaml.org,2002:set";let iD={collection:"map",identify:t=>t instanceof Set,nodeClass:iE,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,r,n)=>iE.from(t,r,n),resolve(t,r){if(r8(t)){if(t.hasAllNullValues(!0))return Object.assign(new iE,t);r("Set items must all have null values")}else r("Expected a mapping for this tag");return t}};function iA(t,r){let n=t[0],i="-"===n||"+"===n?t.substring(1):t,a=t=>r?BigInt(t):Number(t),o=i.replace(/_/g,"").split(":").reduce((t,r)=>t*a(60)+a(r),a(0));return"-"===n?a(-1)*o:o}function iR(t){let{value:r}=t,n=t=>t;if("bigint"==typeof r)n=t=>BigInt(t);else if(isNaN(r)||!isFinite(r))return it(t);let i="";r<0&&(i="-",r*=n(-1));let a=n(60),o=[r%a];return r<60?o.unshift(0):(r=(r-o[0])/a,o.unshift(r%a),r>=60&&(r=(r-o[0])/a,o.unshift(r))),i+o.map(t=>String(t).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}let iM={identify:t=>"bigint"==typeof t||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,r,{intAsBigInt:n})=>iA(t,n),stringify:iR},iT={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>iA(t,!1),stringify:iR},iZ={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){let r=t.match(iZ.test);if(!r)throw Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,n,i,a,o,s,l]=r.map(Number),u=Date.UTC(n,i-1,a,o||0,s||0,l||0,r[7]?Number((r[7]+"00").substr(1,3)):0),d=r[8];if(d&&"Z"!==d){let t=iA(d,!1);30>Math.abs(t)&&(t*=60),u-=6e4*t}return new Date(u)},stringify:({value:t})=>t.toISOString().replace(/(T00:00:00)?\.000Z$/,"")},iI=[n9,n8,n6,n7,iC,i_,{identify:iO,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,r,n)=>ik(t,2,2,n),stringify:t=>iP(t,2,"0b")},{identify:iO,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,r,n)=>ik(t,1,8,n),stringify:t=>iP(t,8,"0")},{identify:iO,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,r,n)=>ik(t,0,10,n),stringify:it},{identify:iO,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,r,n)=>ik(t,2,16,n),stringify:t=>iP(t,16,"0x")},{identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>"nan"===t.slice(-3).toLowerCase()?NaN:"-"===t[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:it},{identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){let r=Number(t.value);return isFinite(r)?r.toExponential():it(t)}},{identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){let r=new n_(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(-1!==n){let i=t.substring(n+1).replace(/_/g,"");"0"===i[i.length-1]&&(r.minFractionDigits=i.length)}return r},stringify:it},iy,nU,ij,ix,iD,iM,iT,iZ],iV=new Map([["core",ip],["failsafe",[n9,n8,n6]],["json",ig],["yaml11",iI],["yaml-1.1",iI]]),iN={binary:iy,bool:ie,float:ia,floatExp:ii,floatNaN:ir,floatTime:iT,int:id,intHex:ic,intOct:iu,intTime:iM,map:n9,merge:nU,null:n7,omap:ij,pairs:ix,seq:n8,set:iD,timestamp:iZ},iL={"tag:yaml.org,2002:binary":iy,"tag:yaml.org,2002:merge":nU,"tag:yaml.org,2002:omap":ij,"tag:yaml.org,2002:pairs":ix,"tag:yaml.org,2002:set":iD,"tag:yaml.org,2002:timestamp":iZ};function iF(t,r,n){let i=iV.get(r);if(i&&!t)return n&&!i.includes(nU)?i.concat(nU):i.slice();let a=i;if(!a){if(Array.isArray(t))a=[];else{let t=Array.from(iV.keys()).filter(t=>"yaml11"!==t).map(t=>JSON.stringify(t)).join(", ");throw Error(`Unknown schema "${r}"; use one of ${t} or define customTags array`)}}if(Array.isArray(t))for(let r of t)a=a.concat(r);else"function"==typeof t&&(a=t(a.slice()));return n&&(a=a.concat(nU)),a.reduce((t,r)=>{let n="string"==typeof r?iN[r]:r;if(!n){let t=JSON.stringify(r),n=Object.keys(iN).map(t=>JSON.stringify(t)).join(", ");throw Error(`Unknown custom tag ${t}; use one of ${n}`)}return t.includes(n)||t.push(n),t},[])}let i$=(t,r)=>t.key<r.key?-1:+(t.key>r.key);class iz{constructor({compat:t,customTags:r,merge:n,resolveKnownTags:i,schema:a,sortMapEntries:o,toStringDefaults:s}){this.compat=Array.isArray(t)?iF(t,"compat"):t?iF(null,t):null,this.name="string"==typeof a&&a||"core",this.knownTags=i?iL:{},this.tags=iF(r,this.name,n),this.toStringOptions=s??null,Object.defineProperty(this,r0,{value:n9}),Object.defineProperty(this,r2,{value:n6}),Object.defineProperty(this,r4,{value:n8}),this.sortMapEntries="function"==typeof o?o:!0===o?i$:null}clone(){let t=Object.create(iz.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}class iH{constructor(t,r,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,r9,{value:rX});let i=null;"function"==typeof r||Array.isArray(r)?i=r:void 0===n&&r&&(n=r,r=void 0);let a=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},n);this.options=a;let{version:o}=a;n?._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new ng({version:o}),this.setSchema(o,n),this.contents=void 0===t?null:this.createNode(t,i,n)}clone(){let t=Object.create(iH.prototype,{[r9]:{value:rX}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=nr(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){iB(this.contents)&&this.contents.add(t)}addIn(t,r){iB(this.contents)&&this.contents.addIn(t,r)}createAlias(t,r){if(!t.anchor){let n=nv(this);t.anchor=!r||n.has(r)?nb(r||"a",n):r}return new nS(t.anchor)}createNode(t,r,n){let i;if("function"==typeof r)t=r.call({"":t},"",t),i=r;else if(Array.isArray(r)){let t=r.filter(t=>"number"==typeof t||t instanceof String||t instanceof Number).map(String);t.length>0&&(r=r.concat(t)),i=r}else void 0===n&&r&&(n=r,r=void 0);let{aliasDuplicateObjects:a,anchorPrefix:o,flow:s,keepUndefined:l,onTagObj:u,tag:d}=n??{},{onAnchor:c,setAnchors:p,sourceObjects:f}=function(t,r){let n=[],i=new Map,a=null;return{onAnchor:i=>{n.push(i),a||(a=nv(t));let o=nb(r,a);return a.add(o),o},setAnchors:()=>{for(let t of n){let r=i.get(t);if("object"==typeof r&&r.anchor&&(r7(r.node)||nt(r.node)))r.node.anchor=r.anchor;else{let r=Error("Failed to resolve repeated object (this should not happen)");throw r.source=t,r}}},sourceObjects:i}}(this,o||"a"),h={aliasDuplicateObjects:a??!0,keepUndefined:l??!1,onAnchor:c,onTagObj:u,replacer:i,schema:this.schema,sourceObjects:f},m=nO(t,d,h);return s&&nt(m)&&(m.flow=!0),p(),m}createPair(t,r,n={}){return new nX(this.createNode(t,null,n),this.createNode(r,null,n))}delete(t){return!!iB(this.contents)&&this.contents.delete(t)}deleteIn(t){return nP(t)?null!=this.contents&&(this.contents=null,!0):!!iB(this.contents)&&this.contents.deleteIn(t)}get(t,r){return nt(this.contents)?this.contents.get(t,r):void 0}getIn(t,r){return nP(t)?!r&&r7(this.contents)?this.contents.value:this.contents:nt(this.contents)?this.contents.getIn(t,r):void 0}has(t){return!!nt(this.contents)&&this.contents.has(t)}hasIn(t){return nP(t)?void 0!==this.contents:!!nt(this.contents)&&this.contents.hasIn(t)}set(t,r){null==this.contents?this.contents=nk(this.schema,[t],r):iB(this.contents)&&this.contents.set(t,r)}setIn(t,r){nP(t)?this.contents=r:null==this.contents?this.contents=nk(this.schema,Array.from(t),r):iB(this.contents)&&this.contents.setIn(t,r)}setSchema(t,r={}){let n;switch("number"==typeof t&&(t=String(t)),t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new ng({version:"1.1"}),n={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new ng({version:t}),n={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{let r=JSON.stringify(t);throw Error(`Expected '1.1', '1.2' or null as first argument, but found: ${r}`)}}if(r.schema instanceof Object)this.schema=r.schema;else if(n)this.schema=new iz(Object.assign(n,r));else throw Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:r,mapAsMap:n,maxAliasCount:i,onAnchor:a,reviver:o}={}){let s={anchors:new Map,doc:this,keep:!t,mapAsMap:!0===n,mapKeyWarned:!1,maxAliasCount:"number"==typeof i?i:100},l=nw(this.contents,r??"",s);if("function"==typeof a)for(let{count:t,res:r}of s.anchors.values())a(r,t);return"function"==typeof o?nx(o,{"":l},"",l):l}toJSON(t,r){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:r})}toString(t={}){if(this.errors.length>0)throw Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||0>=Number(t.indent))){let r=JSON.stringify(t.indent);throw Error(`"indent" option must be a positive integer, not ${r}`)}return function(t,r){let n=[],i=!0===r.directives;if(!1!==r.directives&&t.directives){let r=t.directives.toString(t);r?(n.push(r),i=!0):t.directives.docStart&&(i=!0)}i&&n.push("---");let a=nq(t,r),{commentString:o}=a.options;if(t.commentBefore){1!==n.length&&n.unshift("");let r=o(t.commentBefore);n.unshift(nA(r,""))}let s=!1,l=null;if(t.contents){if(nr(t.contents)){if(t.contents.spaceBefore&&i&&n.push(""),t.contents.commentBefore){let r=o(t.contents.commentBefore);n.push(nA(r,""))}a.forceBlockIndent=!!t.comment,l=t.contents.comment}let r=l?void 0:()=>s=!0,u=nW(t.contents,a,()=>l=null,r);l&&(u+=nR(u,"",o(l))),("|"===u[0]||">"===u[0])&&"---"===n[n.length-1]?n[n.length-1]=`--- ${u}`:n.push(u)}else n.push(nW(t.contents,a));if(t.directives?.docEnd){if(t.comment){let r=o(t.comment);r.includes("\n")?(n.push("..."),n.push(nA(r,""))):n.push(`... ${r}`)}else n.push("...")}else{let r=t.comment;r&&s&&(r=r.replace(/^\n+/,"")),r&&((!s||l)&&""!==n[n.length-1]&&n.push(""),n.push(nA(o(r),"")))}return n.join("\n")+"\n"}(this,t)}}function iB(t){if(nt(t))return!0;throw Error("Expected a YAML collection as document contents")}let iq=Symbol("break visit"),iW=Symbol("skip children"),iU=Symbol("remove item");function iG(t,r){"type"in t&&"document"===t.type&&(t={start:t.start,value:t.value}),function t(r,n,i){let a=i(n,r);if("symbol"==typeof a)return a;for(let o of["key","value"]){let s=n[o];if(s&&"items"in s){for(let n=0;n<s.items.length;++n){let a=t(Object.freeze(r.concat([[o,n]])),s.items[n],i);if("number"==typeof a)n=a-1;else{if(a===iq)return iq;a===iU&&(s.items.splice(n,1),n-=1)}}"function"==typeof a&&"key"===o&&(a=a(n,r))}}return"function"==typeof a?a(n,r):a}(Object.freeze([]),t,r)}function iQ(t,r,n){let i=null;if("function"==typeof r||Array.isArray(r)?i=r:void 0===n&&r&&(n=r),"string"==typeof n&&(n=n.length),"number"==typeof n){let t=Math.round(n);n=t<1?void 0:t>8?{indent:8}:{indent:t}}if(void 0===t){let{keepUndefined:t}=n??r??{};if(!t)return}return r5(t)&&!i?t.toString(n):new iH(t,i,n).toString(n)}function iK(){let{panels:t,panelGroups:r,panelGroupOrder:n,setDashboard:i,kind:a,metadata:o,display:s,duration:l,refreshInterval:u,datasources:d,ttl:c}=L(({panels:t,panelGroups:r,panelGroupOrder:n,setDashboard:i,kind:a,metadata:o,display:s,duration:l,refreshInterval:u,datasources:d,ttl:c})=>({panels:t,panelGroups:r,panelGroupOrder:n,setDashboard:i,kind:a,metadata:o,display:s,duration:l,refreshInterval:u,datasources:d,ttl:c})),{setVariableDefinitions:p}=(0,t3.hK)(),f=(0,t3.mo)(),h=function(t,r){let n=[];return r.map(r=>{let i;let a=t[r];if(void 0===a)throw Error("panel group not found");let{title:o,isCollapsed:s,itemLayouts:l,itemPanelKeys:u}=a;o&&(i={title:o,collapse:{open:!s}});let d={kind:"Grid",spec:{display:i,items:l.map(t=>{let r=u[t.i];if(void 0===r)throw Error(`Missing panel key of layout ${t.i}`);return{x:t.x,y:t.y,width:t.w,height:t.h,content:{$ref:`#/spec/panels/${r}`}}})}};n.push(d)}),n}(r,n);return{dashboard:"Dashboard"===a?{kind:a,metadata:o,spec:{display:s,panels:t,layouts:h,variables:f,duration:l,refreshInterval:u,datasources:d}}:{kind:a,metadata:o,spec:{display:s,panels:t,layouts:h,variables:f,duration:l,refreshInterval:u,datasources:d,ttl:c}},setDashboard:t=>{p(t.spec.variables),i(t)}}}function iJ(){let{dashboard:t}=iK(),r=(0,f.useRef)(null),[n,i]=h().useState(null),o=!!n,s=(n,a)=>()=>{i(null);let o,s="";switch(n){case"json":o="application/json",s=JSON.stringify(t,null,2);break;case"yaml":if(o="application/yaml","cr"===a){let r=t.metadata.name.toLowerCase().replace(/[^a-z0-9-]/g,"-");s=iQ({apiVersion:"perses.dev/v1alpha1",kind:"PersesDashboard",metadata:{labels:{"app.kubernetes.io/name":"perses-dashboard","app.kubernetes.io/instance":r,"app.kubernetes.io/part-of":"perses-operator"},name:r},namespace:t.metadata.project,spec:t.spec})}else s=iQ(t)}if(!r||!r.current)return;let l=URL.createObjectURL(new Blob([s],{type:o}));r.current.download=`${t.metadata.name}${"cr"===a?"-cr":""}.${n}`,r.current.href=l,r.current.click(),URL.revokeObjectURL(l)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.ToolbarIconButton,{id:"download-dashboard-button","aria-controls":o?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":o?"true":void 0,onClick:t=>{i(t.currentTarget)},children:(0,a.jsx)(rJ.default,{})}),(0,a.jsx)(tA.Z,{id:"download-dashboard-formats",anchorEl:n,open:o,hideBackdrop:!0,onClose:()=>i(null),MenuListProps:{"aria-labelledby":"download-dashboard-button"},children:(0,a.jsx)("div",{children:(0,a.jsx)(rQ.d,{onClickAway:()=>i(null),children:(0,a.jsxs)(rK.Z,{children:[(0,a.jsx)(tR.Z,{onClick:s("json"),children:"JSON"}),(0,a.jsx)(tR.Z,{onClick:s("yaml"),children:"YAML"}),(0,a.jsx)(tR.Z,{onClick:s("yaml","cr"),children:"YAML (CR)"})]})})})}),(0,a.jsx)("a",{ref:r,style:{display:"none"}})]})}function iY(t){let[r,n]=rP(t.datasources),[i,s]=(0,f.useState)("update"),[l,u]=(0,f.useState)(null),d={default:!1,plugin:{kind:"PrometheusDatasource",spec:{}}},{openDiscardChangesConfirmationDialog:c,closeDiscardChangesConfirmationDialog:p}=ew(),h=t=>{n(r=>{delete r[t]})},m=t=>{s("update"),u({name:t,spec:r[t]??d})};return(0,a.jsx)(a.Fragment,{children:l?(0,a.jsx)(w.ValidationProvider,{children:(0,a.jsx)(w.DatasourceEditorForm,{initialDatasourceDefinition:l,action:i,isDraft:!0,onActionChange:s,onSave:t=>{n(r=>{delete r[l.name],r[t.name]=t.spec,u(null)})},onClose:()=>{u(null)}})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(ek.Z,{sx:{display:"flex",alignItems:"center",padding:t=>t.spacing(1,2),borderBottom:t=>`1px solid ${t.palette.divider}`},children:[(0,a.jsx)(eG.Z,{variant:"h2",children:"Edit Dashboard Datasources"}),(0,a.jsxs)(eK.Z,{direction:"row",spacing:1,marginLeft:"auto",children:[(0,a.jsx)(o.Z,{disabled:t.datasources===r,variant:"contained",onClick:()=>{t.onChange(r)},children:"Apply"}),(0,a.jsx)(o.Z,{color:"secondary",variant:"outlined",onClick:()=>{JSON.stringify(t.datasources)!==JSON.stringify(r)?c({onDiscardChanges:()=>{p(),t.onCancel()},onCancel:()=>{p()},description:"You have unapplied changes. Are you sure you want to discard these changes? Changes cannot be recovered."}):t.onCancel()},children:"Cancel"})]})]}),(0,a.jsx)(ek.Z,{padding:2,sx:{overflowY:"scroll"},children:(0,a.jsx)(eK.Z,{spacing:2,children:(0,a.jsxs)(eK.Z,{spacing:2,children:[(0,a.jsx)(t8.Z,{children:(0,a.jsxs)(t6.Z,{sx:{minWidth:650},"aria-label":"table of datasources",children:[(0,a.jsx)(t7.Z,{children:(0,a.jsxs)(re.Z,{children:[(0,a.jsx)(r_.Z,{children:"Name"}),(0,a.jsx)(r_.Z,{children:"Type"}),(0,a.jsx)(r_.Z,{children:"Description"}),(0,a.jsx)(r_.Z,{align:"right",children:"Actions"})]})}),(0,a.jsx)(rt.Z,{children:Object.entries(r).map(([t,r])=>(0,a.jsxs)(re.Z,{children:[(0,a.jsx)(r_.Z,{component:"th",scope:"row",sx:{fontWeight:"bold"},children:t}),(0,a.jsx)(r_.Z,{children:r.plugin.kind}),(0,a.jsx)(r_.Z,{children:r.display?.description??""}),(0,a.jsxs)(r_.Z,{align:"right",sx:{whiteSpace:"nowrap"},children:[(0,a.jsx)(eQ.Z,{onClick:()=>m(t),children:(0,a.jsx)(rE.default,{})}),(0,a.jsx)(eQ.Z,{onClick:()=>h(t),children:(0,a.jsx)(rD.default,{})})]})]},t))})]})}),(0,a.jsx)(ek.Z,{display:"flex",children:(0,a.jsx)(o.Z,{variant:"contained",startIcon:(0,a.jsx)(rO.default,{}),sx:{marginLeft:"auto"},onClick:()=>{s("create"),u({name:"NewDatasource",spec:d})},children:"Add Datasource"})})]})})})]})})}function iX(){let[t,r]=(0,f.useState)(!1),{getLocalDatasources:n,setLocalDatasources:i,getSavedDatasources:s,setSavedDatasources:d}=(0,w.useDatasourceStore)(),p=n(),h=s(),{dashboard:m,setDashboard:g}=iK(),y=()=>{r(!1)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.InfoTooltip,{description:u.editDatasources,children:(0,a.jsx)(o.Z,{startIcon:(0,a.jsx)(eX.default,{}),onClick:()=>{r(!0)},"aria-label":u.editDatasources,variant:"text",color:"primary",sx:c,children:"Datasources"})}),(0,a.jsx)(l.Drawer,{isOpen:t,onClose:y,PaperProps:{sx:{width:"50%"}},"data-testid":"datasource-editor",children:(0,a.jsx)(iY,{datasources:p,onCancel:y,onChange:t=>{let n=Object.keys(t).filter(r=>{let n="directUrl"in(t[r]?.plugin?.spec??{}),i=!n&&!("directUrl"in(h[r]?.plugin?.spec??{}))&&t[r]?.plugin?.spec?.proxy===h[r]?.plugin?.spec?.proxy;return n||i}).reduce((r,n)=>(r[n]=t[n],r),{});g((m.kind,{...m,spec:{...m.spec,datasources:t}})),d(n),i(t),r(!1)}})})]})}iG.BREAK=iq,iG.SKIP=iW,iG.REMOVE=iU,iG.itemAtPath=(t,r)=>{let n=t;for(let[t,i]of r){let r=n?.[t];if(!r||!("items"in r))return;n=r.items[i]}return n},iG.parentCollection=(t,r)=>{let n=iG.itemAtPath(t,r.slice(0,-1)),i=r[r.length-1][0],a=n?.[i];if(a&&"items"in a)return a;throw Error("Parent collection not found")};var i0=n(40427);let i1=t=>{let{isReadonly:r}=t,{openEditJsonDialog:n}=eS(),i=r?u.viewJson:u.editJson;return(0,a.jsx)(l.InfoTooltip,{description:i,children:(0,a.jsx)(l.ToolbarIconButton,{"aria-label":i,variant:"outlined",onClick:()=>n(),children:(0,a.jsx)(i0.default,{})})})};var i2=n(29085);let i4=({onSave:t,isDisabled:r,variant:n="contained"})=>{let[i,s]=(0,f.useState)(!1),{dashboard:l,setDashboard:u}=iK(),{getSavedVariablesStatus:d,setVariableDefaultValues:c}=(0,t3.hK)(),{isSavedVariableModified:p}=d(),{timeRange:h}=(0,w.useTimeRange)(),{setEditMode:m}=H(),{openSaveChangesConfirmationDialog:g,closeSaveChangesConfirmationDialog:y}=eb(),v=async()=>{if(t)try{s(!0),await t(l),y(),m(!1)}catch(t){throw Error(`An error occurred while saving the dashboard. ${t}`)}finally{s(!1)}else m(!1)};return(0,a.jsx)(o.Z,{variant:n,onClick:()=>{let t=(0,i2.s3)(h)&&l.spec.duration!==h.pastDuration;t||p?g({onSaveChanges:(t,r)=>{if((0,i2.s3)(h)&&!0===t&&(l.spec.duration=h.pastDuration),!0===r){let t=c();l.spec.variables=t}u(l),v()},onCancel:()=>{y()},isSavedDurationModified:t,isSavedVariableModified:p}):v()},disabled:r||i,children:"Save"})};function i9(t,r){let{disableHysteresis:n=!1,threshold:i=100,target:a}=r,o=t.current;return a&&(t.current=void 0!==a.pageYOffset?a.pageYOffset:a.scrollTop),(!!n||void 0===o||!(t.current<o))&&t.current>i}let i3="undefined"!=typeof window?window:null;function i5(t){return(0,e$.ZP)("MuiAppBar",t)}(0,eF.Z)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);let i8=t=>{let{color:r,position:n,classes:i}=t,a={root:["root",`color${(0,tZ.Z)(r)}`,`position${(0,tZ.Z)(n)}`]};return(0,eM.Z)(a,i5,i)},i6=(t,r)=>t?`${t?.replace(")","")}, ${r})`:r,i7=(0,eT.ZP)(rn.Z,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,r)=>{let{ownerState:n}=t;return[r.root,r[`position${(0,tZ.Z)(n.position)}`],r[`color${(0,tZ.Z)(n.color)}`]]}})((0,eZ.Z)(({theme:t})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter((0,tI.Z)(["contrastText"])).map(([r])=>({props:{color:r},style:{"--AppBar-background":(t.vars??t).palette[r].main,"--AppBar-color":(t.vars??t).palette[r].contrastText}})),{props:t=>!0===t.enableColorOnDark&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>!1===t.enableColorOnDark&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?i6(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?i6(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}))),ae=f.forwardRef(function(t,r){let n=(0,eI.i)({props:t,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:s=!1,position:l="fixed",...u}=n,d={...n,color:o,position:l,enableColorOnDark:s},c=i8(d);return(0,a.jsx)(i7,{square:!0,component:"header",ownerState:d,elevation:4,className:(0,eD.Z)(c.root,i,"fixed"===l&&"mui-fixed"),ref:r,...u})});var at=n(75186),ar=n(42402),an=n(75651),ai=n(11774),aa=n(8695),ao=n(6595),as=n(72116);function al(t){return(0,e$.ZP)("MuiLinearProgress",t)}(0,eF.Z)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);let au=(0,as.keyframes)`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,ad="string"!=typeof au?(0,as.css)`
        animation: ${au} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,ac=(0,as.keyframes)`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,ap="string"!=typeof ac?(0,as.css)`
        animation: ${ac} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,af=(0,as.keyframes)`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,ah="string"!=typeof af?(0,as.css)`
        animation: ${af} 3s infinite linear;
      `:null,am=t=>{let{classes:r,variant:n,color:i}=t,a={root:["root",`color${(0,tZ.Z)(i)}`,n],dashed:["dashed",`dashedColor${(0,tZ.Z)(i)}`],bar1:["bar","bar1",`barColor${(0,tZ.Z)(i)}`,("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","bar2","buffer"!==n&&`barColor${(0,tZ.Z)(i)}`,"buffer"===n&&`color${(0,tZ.Z)(i)}`,("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]};return(0,eM.Z)(a,al,r)},ag=(t,r)=>t.vars?t.vars.palette.LinearProgress[`${r}Bg`]:"light"===t.palette.mode?(0,tM.$n)(t.palette[r].main,.62):(0,tM._j)(t.palette[r].main,.5),ay=(0,eT.ZP)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,r)=>{let{ownerState:n}=t;return[r.root,r[`color${(0,tZ.Z)(n.color)}`],r[n.variant]]}})((0,eZ.Z)(({theme:t})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(t.palette).filter((0,tI.Z)()).map(([r])=>({props:{color:r},style:{backgroundColor:ag(t,r)}})),{props:({ownerState:t})=>"inherit"===t.color&&"buffer"!==t.variant,style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),av=(0,eT.ZP)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,r)=>{let{ownerState:n}=t;return[r.dashed,r[`dashedColor${(0,tZ.Z)(n.color)}`]]}})((0,eZ.Z)(({theme:t})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(t.palette).filter((0,tI.Z)()).map(([r])=>{let n=ag(t,r);return{props:{color:r},style:{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`}}})]})),ah||{animation:`${af} 3s infinite linear`}),ab=(0,eT.ZP)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,r)=>{let{ownerState:n}=t;return[r.bar,r.bar1,r[`barColor${(0,tZ.Z)(n.color)}`],("indeterminate"===n.variant||"query"===n.variant)&&r.bar1Indeterminate,"determinate"===n.variant&&r.bar1Determinate,"buffer"===n.variant&&r.bar1Buffer]}})((0,eZ.Z)(({theme:t})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(t.palette).filter((0,tI.Z)()).map(([r])=>({props:{color:r},style:{backgroundColor:(t.vars||t).palette[r].main}})),{props:{variant:"determinate"},style:{transition:"transform .4s linear"}},{props:{variant:"buffer"},style:{zIndex:1,transition:"transform .4s linear"}},{props:({ownerState:t})=>"indeterminate"===t.variant||"query"===t.variant,style:{width:"auto"}},{props:({ownerState:t})=>"indeterminate"===t.variant||"query"===t.variant,style:ad||{animation:`${au} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),ax=(0,eT.ZP)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,r)=>{let{ownerState:n}=t;return[r.bar,r.bar2,r[`barColor${(0,tZ.Z)(n.color)}`],("indeterminate"===n.variant||"query"===n.variant)&&r.bar2Indeterminate,"buffer"===n.variant&&r.bar2Buffer]}})((0,eZ.Z)(({theme:t})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(t.palette).filter((0,tI.Z)()).map(([r])=>({props:{color:r},style:{"--LinearProgressBar2-barColor":(t.vars||t).palette[r].main}})),{props:({ownerState:t})=>"buffer"!==t.variant&&"inherit"!==t.color,style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:t})=>"buffer"!==t.variant&&"inherit"===t.color,style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(t.palette).filter((0,tI.Z)()).map(([r])=>({props:{color:r,variant:"buffer"},style:{backgroundColor:ag(t,r),transition:"transform .4s linear"}})),{props:({ownerState:t})=>"indeterminate"===t.variant||"query"===t.variant,style:{width:"auto"}},{props:({ownerState:t})=>"indeterminate"===t.variant||"query"===t.variant,style:ap||{animation:`${ac} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),aw=f.forwardRef(function(t,r){let n=(0,eI.i)({props:t,name:"MuiLinearProgress"}),{className:i,color:o="primary",value:s,valueBuffer:l,variant:u="indeterminate",...d}=n,c={...n,color:o,variant:u},p=am(c),f=(0,ao.V)(),h={},m={bar1:{},bar2:{}};if(("determinate"===u||"buffer"===u)&&void 0!==s){h["aria-valuenow"]=Math.round(s),h["aria-valuemin"]=0,h["aria-valuemax"]=100;let t=s-100;f&&(t=-t),m.bar1.transform=`translateX(${t}%)`}if("buffer"===u&&void 0!==l){let t=(l||0)-100;f&&(t=-t),m.bar2.transform=`translateX(${t}%)`}return(0,a.jsxs)(ay,{className:(0,eD.Z)(p.root,i),ownerState:c,role:"progressbar",...h,ref:r,...d,children:["buffer"===u?(0,a.jsx)(av,{className:p.dashed,ownerState:c}):null,(0,a.jsx)(ab,{className:p.bar1,ownerState:c,style:m.bar1}),"determinate"===u?null:(0,a.jsx)(ax,{className:p.bar2,ownerState:c,style:m.bar2})]})});var aj=n(22410);function aS({name:t,source:r}){let n=(0,t3.Yz)(t,r),i=n.definition?.kind;switch(i){case"TextVariable":return(0,a.jsx)(aP,{name:t,source:r});case"ListVariable":return(0,a.jsx)(ak,{name:t,source:r})}return(0,a.jsxs)("div",{children:["Unsupported Variable Kind: $",i]})}function aC(t,r,n){let i=t?.allowMultiple===!0,a=t?.allowAllValue===!0,o=t?.sort,s=(0,f.useMemo)(()=>n.isFetching??!1,[n.isFetching]),l=(0,f.useMemo)(()=>n.data??[],[n.data]),u=r?.value;i&&!Array.isArray(u)&&(u="string"==typeof u?[u]:[]);let d=(0,f.useMemo)(()=>{let t=l?[...l]:[];if(!o||"none"===o)return t;switch(o){case"alphabetical-asc":return t.sort((t,r)=>t.label>r.label?1:-1);case"alphabetical-desc":return t.sort((t,r)=>t.label>r.label?-1:1);case"numerical-asc":return t.sort((t,r)=>parseInt(t.label)>parseInt(r.label)?1:-1);case"numerical-desc":return t.sort((t,r)=>parseInt(t.label)<parseInt(r.label)?1:-1);case"alphabetical-ci-asc":return t.sort((t,r)=>t.label.toLowerCase()>r.label.toLowerCase()?1:-1);case"alphabetical-ci-desc":return t.sort((t,r)=>t.label.toLowerCase()>r.label.toLowerCase()?-1:1);default:return t}},[l,o]),c=(0,f.useMemo)(()=>{let t=d;return a&&(t=[{value:aj.x,label:"All"},...t]),t},[a,d]),p=(0,f.useMemo)(()=>!!c.find(t=>i?u.includes(t.value):u===t.value),[c,u,i]);u=(0,f.useMemo)(()=>{let t=c?.[+!!a]?.value;return!t||p&&u&&0!==u.length?u:i?[t]:t},[c,u,p,i,a]);let h=(0,f.useMemo)(()=>Array.isArray(u)?c.filter(t=>u?.includes(t.value)):c.find(t=>u===t.value)??{value:"",label:""},[u,c]);return{value:u,loading:s,options:l,selectedOptions:h,viewOptions:c}}let a_=t=>(0,a.jsx)(an.Z,{...t,sx:{minWidth:"fit-content"},placement:"bottom-start"}),aO=(t,r)=>{let n=(t.length+1)*8+40*("list"===r);return n<120?120:n>500?500:n};function ak({name:t,source:r}){let n=(0,t3.Yz)(t,r),i=n.definition,o=(0,w.useListVariablePluginValues)(i),{setVariableValue:s,setVariableLoading:l,setVariableOptions:u}=(0,t3.hK)(),{selectedOptions:d,value:c,loading:p,options:h,viewOptions:m}=aC(i?.spec,n.state,o),[g,y]=(0,f.useState)(120),[v,b]=(0,f.useState)(""),x=i?.spec.display?.name??t,j=i?.spec.allowMultiple===!0,S=i?.spec.allowAllValue===!0;return(0,f.useEffect)(()=>{c&&s(t,c,r)},[s,t,c,r]),(0,f.useEffect)(()=>{l(t,p,r)},[l,t,p,r]),(0,f.useEffect)(()=>{h&&u(t,h,r)},[u,t,h,r]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ai.Z,{disablePortal:!0,disableCloseOnSelect:j,multiple:j,fullWidth:!0,limitTags:3,size:"small",disableClearable:!0,slots:{popper:a_},renderInput:t=>j?(0,a.jsx)(aa.Z,{...t,label:x,onChange:t=>b(t.target.value)}):(0,a.jsx)(aa.Z,{...t,label:x,style:{width:`${g}px`}}),sx:{"& .MuiInputBase-root":{minHeight:"38px"},"& .MuiAutocomplete-tag":{margin:"1px 2px"}},value:d,onChange:(n,i)=>{if((null===i||Array.isArray(i)&&0===i.length)&&S)s(t,aj.x,r);else s(t,null===i?null:Array.isArray(i)?i.map(t=>t.value):i.value,r)},inputValue:j?v:void 0,onInputChange:(t,r)=>{j||y(aO(r,"list"))},onBlur:()=>{j&&b("")},options:m}),p&&(0,a.jsx)(aw,{})]})}function aP({name:t,source:r}){let n=(0,t3.Yz)(t,r),i=n.state,o=n.definition,[s,l]=(0,f.useState)(i?.value??""),[u,d]=(0,f.useState)(aO(s,"text")),{setVariableValue:c}=(0,t3.hK)();return(0,f.useEffect)(()=>{l(i?.value??"")},[i?.value]),(0,a.jsx)(aa.Z,{title:s,value:s,onChange:t=>{l(t.target.value),d(aO(t.target.value,"text"))},onBlur:()=>c(t,s,r),placeholder:t,label:o?.spec.display?.name??t,slotProps:{input:{readOnly:o?.spec.constant??!1}},sx:{width:`${u}px`,"& .MuiInputBase-root":{minHeight:"38px"},"& .MuiInputBase-input":{textOverflow:"ellipsis"}}})}function aE(){let t=(0,t3.mo)(),r=(0,t3.qz)();return(0,a.jsxs)(a.Fragment,{children:[r.slice().reverse().map(t=>t.definitions.map(r=>(0,a.jsx)(aD,{spec:r.spec,source:t.source},r.spec.name+t.source))),t.map(t=>(0,a.jsx)(aD,{spec:t.spec},t.spec.name))]})}function aD({spec:t,source:r}){let n=(0,t3.Yz)(t.name,r);return n.state?.overridden?null:(0,a.jsx)(ek.Z,{display:t.display?.hidden?"none":void 0,minWidth:"120px",maxWidth:"500px",flexShrink:0,"data-testid":"variable-"+t.name,children:(0,a.jsx)(aS,{name:t.name,source:r},(t.name+r)??"")},(t.name+r)??"")}function aA(t){let[r,n]=(0,f.useState)(t.initialVariableIsSticky),i=function(t={}){let{getTrigger:r=i9,target:n=i3,...i}=t,a=f.useRef(),[o,s]=f.useState(()=>r(a,i));return f.useEffect(()=>{if(null===n)return s(!1);let t=()=>{s(r(a,{target:n,...i}))};return t(),n.addEventListener("scroll",t,{passive:!0}),()=>{n.removeEventListener("scroll",t,{passive:!0})}},[n,r,JSON.stringify(i)]),o}({disableHysteresis:!0})&&t.initialVariableIsSticky&&r,o=(0,rG.Z)((0,eE.Z)().breakpoints.up("md"));return(0,a.jsx)(ek.Z,{marginBottom:-1,"data-testid":"variable-list",children:(0,a.jsx)(ae,{color:"inherit",position:i?"fixed":"static",elevation:4*!!i,sx:{backgroundColor:"inherit",...t.sx},children:(0,a.jsxs)(ek.Z,{display:"flex",justifyContent:"space-between",sx:{flexDirection:o?"row":"column"},children:[(0,a.jsxs)(ek.Z,{display:"flex",flexWrap:!i&&o?"wrap":"nowrap",maxWidth:i||!o?"100vw":"100%",maxHeight:"150px",pt:1,pl:+!!i,mt:i&&o?.5:0,ml:i&&o?.5:0,sx:{overflowX:!i&&o?"hidden":"auto",scrollbarWidth:"thin","&::-webkit-scrollbar":{height:"8px",backgroundColor:t=>t.palette.grey["300"]},"&::-webkit-scrollbar-thumb":{background:t=>t.palette.grey["600"]}},gap:1,children:[(0,a.jsx)(aE,{}),t.initialVariableIsSticky&&(0,a.jsx)(eQ.Z,{style:{width:"fit-content",height:"fit-content"},onClick:()=>n(!r),children:r?(0,a.jsx)(at.default,{}):(0,a.jsx)(ar.default,{})})]}),i&&(0,a.jsx)(eK.Z,{m:o?1.5:1,mt:1.5*!!o,ml:o?1.5:"auto",direction:"row",justifyContent:"end",children:(0,a.jsx)(w.TimeRangeControls,{})})]})})})}let aR=t=>{let{dashboardName:r,dashboardTitleComponent:n,initialVariableIsSticky:i,isReadonly:s,isVariableEnabled:u,isDatasourceEnabled:d,onEditButtonClick:c,onCancelButtonClick:p,onSave:f}=t,{isEditMode:h}=H(),m=(0,rG.Z)((0,eE.Z)().breakpoints.up("sm")),g=(0,rG.Z)((0,eE.Z)().breakpoints.up("md")),y=n||(0,a.jsx)(eG.Z,{variant:"h2",children:r});return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(eK.Z,{"data-testid":"dashboard-toolbar",children:[(0,a.jsxs)(ek.Z,{px:2,py:1.5,display:"flex",sx:{backgroundColor:t=>t.palette.primary.main+(h?"30":"0")},children:[y,h?(0,a.jsxs)(eK.Z,{direction:"row",gap:1,ml:"auto",children:[s&&(0,a.jsx)(t5.Z,{severity:"warning",sx:{backgroundColor:"transparent",padding:0},children:"Dashboard managed via code only. Download JSON and commit changes to save."}),(0,a.jsxs)(eK.Z,{direction:"row",spacing:.5,ml:1,whiteSpace:"nowrap",children:[u&&(0,a.jsx)(rF,{}),d&&(0,a.jsx)(iX,{}),(0,a.jsx)(eO,{}),(0,a.jsx)(eC,{})]}),(0,a.jsx)(i4,{onSave:f,isDisabled:s}),(0,a.jsx)(o.Z,{variant:"outlined",onClick:p,children:"Cancel"})]}):(0,a.jsx)(a.Fragment,{children:m&&(0,a.jsx)(eK.Z,{direction:"row",gap:1,ml:"auto",children:(0,a.jsx)(r$,{onClick:c})})})]}),(0,a.jsxs)(ek.Z,{sx:{display:"flex",width:"100%",alignItems:"start",padding:t=>t.spacing(1,2,0,2),flexDirection:g?"row":"column",flexWrap:"nowrap",gap:1},children:[(0,a.jsx)(ek.Z,{width:"100%",children:(0,a.jsx)(l.ErrorBoundary,{FallbackComponent:l.ErrorAlert,children:(0,a.jsx)(aA,{initialVariableIsSticky:i,sx:{backgroundColor:({palette:t})=>t.background.default}})})}),(0,a.jsx)(eK.Z,{direction:"row",ml:"auto",flexWrap:"wrap",justifyContent:"end",children:(0,a.jsxs)(eK.Z,{direction:"row",spacing:1,mt:1,ml:1,children:[(0,a.jsx)(w.TimeRangeControls,{}),(0,a.jsx)(iJ,{}),(0,a.jsx)(i1,{isReadonly:!h})]})})]})]})})},aM=()=>{let{deletePanelDialog:t,closeDeletePanelDialog:r}=ec();return(0,a.jsxs)(l.Dialog,{open:void 0!==t,children:[(0,a.jsx)(l.Dialog.Header,{onClose:()=>r(),children:"Delete Panel"}),t&&(0,a.jsx)(aT,{deletePanelDialog:t})]})},aT=({deletePanelDialog:t})=>{let{deletePanel:r,closeDeletePanelDialog:n}=ec(),{setViewPanel:i}=em();return(0,a.jsxs)("form",{onSubmit:a=>{a.preventDefault();let{panelGroupItemId:o}=t;r(o),n(),i(void 0)},children:[(0,a.jsxs)(l.Dialog.Content,{children:["Are you sure you want to delete ",t.panelName," from ",t.panelGroupName,"? This action cannot be undone."]}),(0,a.jsxs)(l.Dialog.Actions,{children:[(0,a.jsx)(l.Dialog.PrimaryButton,{children:"Delete"}),(0,a.jsx)(l.Dialog.SecondaryButton,{onClick:()=>n(),children:"Cancel"})]})]})};var aZ=n(56873),aI=n(51602),aV=n(19978),aN=n(70616),aL=n(10763);let aF=()=>{let{deletePanelGroupDialog:t,closeDeletePanelGroupDialog:r,deletePanelGroup:n}=ei(),{setViewPanel:i}=em(),s=t?.panelGroupId;return(0,a.jsxs)(aZ.Z,{open:void 0!==t,children:[(0,a.jsx)(aI.Z,{children:"Delete Panel Group"}),(0,a.jsx)(eQ.Z,{"aria-label":"Close",onClick:()=>r(),sx:t=>({position:"absolute",top:t.spacing(.5),right:t.spacing(.5)}),children:(0,a.jsx)(aL.default,{})}),(0,a.jsxs)("form",{onSubmit:t=>{if(t.preventDefault(),void 0===s)throw Error("group index is undefined");n(s),r(),i(void 0)},children:[(0,a.jsxs)(aV.Z,{dividers:!0,sx:{width:"500px"},children:["Are you sure you want to delete ",t?.panelGroupName??"panel group","? This will delete all the panels within the group."]}),(0,a.jsxs)(aN.Z,{children:[(0,a.jsx)(o.Z,{variant:"contained",type:"submit",children:"Delete"}),(0,a.jsx)(o.Z,{variant:"outlined",color:"secondary",onClick:()=>r(),children:"Cancel"})]})]})]})},a$=()=>{let{discardChangesConfirmationDialog:t}=ew();return void 0===t?null:(0,a.jsx)(l.DiscardChangesConfirmationDialog,{description:t.description||"You have unsaved changes in this dashboard. Are you sure you want to discard these changes? Changes cannot be recovered.",isOpen:!0,onCancel:t.onCancel,onDiscardChanges:t.onDiscardChanges})};var az=n(90192);let aH=t=>{let{isReadonly:r,disableMetadataEdition:n}=t,{editJsonDialog:i,closeEditJsonDialog:o}=eS();return(0,a.jsxs)(l.Dialog,{open:!!i?.isOpen,scroll:"paper",fullWidth:!0,maxWidth:"lg",children:[(0,a.jsxs)(l.Dialog.Header,{onClose:()=>o(),children:[!r&&"Edit "," Dashboard JSON"]}),i?.isOpen&&(0,a.jsx)(aB,{isReadonly:r,disableMetadataEdition:n})]})},aB=t=>{let{isReadonly:r,disableMetadataEdition:n}=t,{closeEditJsonDialog:i}=eS(),{setTimeRange:o,setRefreshInterval:s}=(0,w.useTimeRange)(),{dashboard:u,setDashboard:d}=iK(),{setLocalDatasources:c}=(0,w.useDatasourceStore)(),[p,h]=(0,f.useState)(u),m=t=>{t.preventDefault(),d(p),o({pastDuration:p.spec.duration}),s(p.spec.refreshInterval??"0s"),c(p.spec.datasources??{}),i()},g=t=>{try{let r=JSON.parse(t??"{}");h(r)}catch(t){}};return(0,a.jsxs)(l.Dialog.Form,{onSubmit:m,children:[(0,a.jsxs)(l.Dialog.Content,{sx:{width:"100%"},children:[n&&!r&&(0,a.jsx)(t5.Z,{sx:{marginBottom:t=>t.spacing(1)},severity:"warning",children:"Metadata cannot be modified or saved."}),"EphemeralDashboard"===p.kind&&(0,a.jsx)(t5.Z,{sx:{marginBottom:1},severity:"warning",children:"Time-to-live cannot be modified or saved from here. Go to the project view to modify it."}),(0,a.jsx)(az.Z,{fullWidth:!0,children:(0,a.jsx)(l.JSONEditor,{minHeight:"300px",maxHeight:"70vh",value:p,onChange:t=>g(t),readOnly:r})})]}),!r&&(0,a.jsx)(l.Dialog.Actions,{children:(0,a.jsx)(l.Dialog.PrimaryButton,{onClick:m,children:"Apply"})})]})};var aq=n(38359),aW=n(36679),aU=n(494);function aG({panelDefinition:t}){let r=(0,f.useRef)(null),n=840;null!==r.current&&(n=r.current.getBoundingClientRect().width);let i=(0,w.useSuggestedStepMs)(n),{data:o,isLoading:s}=(0,w.usePlugin)("Panel",t.spec.plugin.kind);if(s||""===t.spec.plugin.kind)return null;let l=t.spec.queries??[],u=l.length?l.map(t=>({kind:t.spec.plugin.kind,spec:t.spec.plugin.spec})):[];return(0,a.jsx)(ek.Z,{ref:r,height:300,children:(0,a.jsx)(w.DataQueriesProvider,{definitions:u,options:{suggestedStepMs:i,...o?.queryOptions},children:(0,a.jsx)(tX,{definition:t})})})}let aQ=t=>{let{display:r,plugin:n,queries:i,links:a}=t.spec,[o,s]=(0,f.useState)(r.name),[l,u]=(0,f.useState)(r.description),[d,c]=(0,f.useState)(a),[p,h]=(0,f.useState)(n),[m,g]=(0,f.useState)(i),[y,v]=(0,f.useState)(i),b=(0,f.useCallback)((t,r)=>{r?(g(y),v(void 0)):v(void 0===t?m:t)},[v,y,g,m]),x=(0,f.useCallback)(t=>{let{display:r,plugin:n,queries:i,links:a}=t.spec;s(r.name),u(r.description),c(a),h(n),b(i)},[s,u,c,h,b]);return(0,f.useMemo)(()=>({panelDefinition:{kind:"Panel",spec:{display:{name:o,description:l},plugin:p,queries:y,links:d}},setName:s,setDescription:u,setLinks:c,setQueries:b,setPlugin:h,setPanelDefinition:x}),[o,l,d,p,y,b,x])};function aK(t){let{initialValues:r,initialAction:n,onSave:i,onClose:s}=t,u=Q(),{panelDefinition:d,setName:c,setDescription:p,setLinks:h,setQueries:m,setPlugin:g,setPanelDefinition:y}=aQ(r.panelDefinition),{plugin:v}=d.spec,[b,x]=(0,f.useState)(!1),{panelEditorSchema:j}=(0,w.useValidationSchemas)(),S=(0,aW.useForm)({resolver:(0,aU.F)(j),mode:"onBlur",defaultValues:r}),C=(0,w.usePluginEditor)({pluginTypes:["Panel"],value:{selection:{kind:v.kind,type:"Panel"},spec:v.spec},onChange:t=>{S.setValue("panelDefinition.spec.plugin",{kind:t.selection.kind,spec:t.spec}),g({kind:t.selection.kind,spec:t.spec})},onHideQueryEditorChange:t=>{m(void 0,t)}}),_=(0,w.getTitleAction)(n,!0),O=(0,w.getSubmitText)(n,!0),k=(0,aW.useWatch)({control:S.control,name:"panelDefinition.spec.links"});(0,f.useEffect)(()=>{h(k)},[h,k]);let P=(0,aW.useWatch)({control:S.control,name:"panelDefinition.spec.display.name"}),E=(0,aW.useWatch)({control:S.control,name:"panelDefinition.spec.display.description"}),D=(0,aW.useWatch)({control:S.control,name:"panelDefinition.spec.plugin.kind"});return(0,a.jsxs)(aW.FormProvider,{...S,children:[(0,a.jsxs)(ek.Z,{sx:{display:"flex",alignItems:"center",padding:t=>t.spacing(1,2),borderBottom:t=>`1px solid ${t.palette.divider}`},children:[(0,a.jsxs)(eG.Z,{variant:"h2",children:[_," Panel"]}),(0,a.jsxs)(eK.Z,{direction:"row",spacing:1,marginLeft:"auto",children:[(0,a.jsx)(o.Z,{variant:"contained",disabled:!S.formState.isValid,onClick:S.handleSubmit(t=>{i(t)}),children:O}),(0,a.jsx)(o.Z,{color:"secondary",variant:"outlined",onClick:function(){JSON.stringify(r)!==JSON.stringify(S.getValues())?x(!0):s()},children:"Cancel"})]})]}),(0,a.jsx)(ek.Z,{id:aJ,sx:{flex:1,overflowY:"scroll",padding:t=>t.spacing(2)},children:(0,a.jsxs)(aq.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(aq.ZP,{item:!0,xs:8,children:(0,a.jsx)(aW.Controller,{control:S.control,name:"panelDefinition.spec.display.name",render:({field:t,fieldState:r})=>(0,a.jsx)(aa.Z,{...t,required:!0,fullWidth:!0,label:"Name",error:!!r.error,helperText:r.error?.message,value:P??"",onChange:r=>{t.onChange(r),c(r.target.value)}})})}),(0,a.jsx)(aq.ZP,{item:!0,xs:4,children:(0,a.jsx)(aW.Controller,{control:S.control,name:"groupId",render:({field:t,fieldState:r})=>(0,a.jsx)(aa.Z,{select:!0,...t,required:!0,fullWidth:!0,label:"Group",error:!!r.error,helperText:r.error?.message,onChange:r=>{t.onChange(r)},children:u.map((t,r)=>(0,a.jsx)(tR.Z,{value:t.id,children:t.title??`Group ${r+1}`},t.id))})})}),(0,a.jsx)(aq.ZP,{item:!0,xs:8,children:(0,a.jsx)(aW.Controller,{control:S.control,name:"panelDefinition.spec.display.description",render:({field:t,fieldState:r})=>(0,a.jsx)(aa.Z,{...t,fullWidth:!0,label:"Description",error:!!r.error,helperText:r.error?.message,value:E??"",onChange:r=>{t.onChange(r),p(r.target.value)}})})}),(0,a.jsx)(aq.ZP,{item:!0,xs:4,children:(0,a.jsx)(aW.Controller,{control:S.control,name:"panelDefinition.spec.plugin.kind",render:({field:t,fieldState:r})=>(0,a.jsx)(w.PluginKindSelect,{...t,pluginTypes:["Panel"],required:!0,fullWidth:!0,label:"Type",disabled:C.isLoading,error:!!C.error||!!r.error,helperText:C.error?.message??r.error?.message,value:{type:"Panel",kind:D},onChange:r=>{t.onChange(r.kind),C.onSelectionChange(r)}})})}),(0,a.jsxs)(aq.ZP,{item:!0,xs:12,children:[(0,a.jsx)(eG.Z,{variant:"h4",marginBottom:1,children:"Preview"}),(0,a.jsx)(l.ErrorBoundary,{FallbackComponent:l.ErrorAlert,children:(0,a.jsx)(aG,{panelDefinition:d})})]}),(0,a.jsx)(aq.ZP,{item:!0,xs:12,children:(0,a.jsx)(l.ErrorBoundary,{FallbackComponent:l.ErrorAlert,children:(0,a.jsx)(w.PanelSpecEditor,{control:S.control,panelDefinition:d,onJSONChange:t=>{let r=JSON.parse(t),{kind:n,spec:i}=r.spec.plugin;d.spec.plugin.kind!==n&&JSON.stringify(d.spec.plugin.spec)!==JSON.stringify(i)&&C.rememberCurrentSpecState(),y(r)},onQueriesChange:t=>{m(t)},onPluginSpecChange:t=>{C.onSpecChange(t)}})})})]})}),(0,a.jsx)(l.DiscardChangesConfirmationDialog,{description:"You have unapplied changes in this panel. Are you sure you want to discard these changes? Changes cannot be recovered.",isOpen:b,onCancel:()=>{x(!1)},onDiscardChanges:()=>{x(!1),s()}})]})}let aJ="panel-editor-form",aY=()=>{let t=eu(),[r,n]=(0,f.useState)(!1),i=void 0!==t&&!1===r;return(0,a.jsx)(l.Drawer,{isOpen:i,onClose:()=>{},SlideProps:{onExited:()=>{t?.close(),n(!1)}},"data-testid":"panel-editor",children:t&&(0,a.jsx)(l.ErrorBoundary,{FallbackComponent:l.ErrorAlert,children:(0,a.jsx)(aK,{initialAction:t.mode,initialValues:t.initialValues,onSave:function(r){if(void 0===t||void 0===r)throw Error("Cannot apply changes");t.applyChanges(r),n(!0)},onClose:()=>{n(!0)}})})})};var aX=n(68808),a0=n(63767);function a1(t){let{initialValues:r,onSubmit:n}=t,[i,o]=(0,f.useState)(r.title),[s,l]=(0,f.useState)(r.isCollapsed);return(0,a.jsxs)("form",{id:a2,onSubmit:t=>{t.preventDefault(),n({title:i,isCollapsed:s})},children:[(0,a.jsx)(az.Z,{fullWidth:!0,margin:"normal",children:(0,a.jsx)(aa.Z,{required:!0,label:"Name",variant:"outlined",value:i,onChange:t=>o(t.target.value)})}),(0,a.jsxs)(az.Z,{fullWidth:!0,margin:"normal",children:[(0,a.jsx)(aX.Z,{id:"select-collapse-state",children:"Collapse State"}),(0,a.jsxs)(a0.Z,{required:!0,displayEmpty:!0,labelId:"select-collapse-state",label:"Collapse State",size:"small",value:s?"Closed":"Open",onChange:t=>{l("Closed"===t.target.value)},children:[(0,a.jsx)(tR.Z,{value:"Open",children:"Open"}),(0,a.jsx)(tR.Z,{value:"Closed",children:"Closed"})]})]})]})}let a2="panel-group-editor-form";function a4(){let t=er(),[r,n]=(0,f.useState)(!1),i=()=>n(!0),s=void 0!==t&&!1===r;return(0,a.jsx)(aZ.Z,{open:s,TransitionProps:{onExited:()=>{t?.close(),n(!1)}},children:void 0!==t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(aI.Z,{children:[t.mode," Panel Group"]}),(0,a.jsx)(eQ.Z,{"aria-label":"Close",onClick:t.close,sx:t=>({position:"absolute",top:t.spacing(.5),right:t.spacing(.5)}),children:(0,a.jsx)(aL.default,{})}),(0,a.jsx)(aV.Z,{dividers:!0,sx:{width:"500px"},children:(0,a.jsx)(a1,{initialValues:t.initialValues,onSubmit:r=>{if(void 0===t)throw Error("Cannot apply changes");t.applyChanges(r),i()}})}),(0,a.jsxs)(aN.Z,{children:[(0,a.jsx)(o.Z,{variant:"contained",type:"submit",form:a2,children:"Edit"===t.mode?"Apply":"Add"}),(0,a.jsx)(o.Z,{variant:"outlined",color:"secondary",onClick:t.close,children:"Cancel"})]})]})})}var a9=n(39517);function a3(t){let{showTotalQueries:r=!0}=t,n=(0,w.useDatasourceClient)({kind:"PrometheusDatasource"}),{absoluteTimeRange:i}=(0,w.useTimeRange)(),s=(0,a9.NL)().getQueryCache().findAll(),l=s.filter(t=>"loading"===t.state.status),u=s.filter(t=>"success"===t.state.status),d=(0,w.useActiveTimeSeriesQueries)();if(!0===n.isLoading)return null;let c=[];return d.forEach(t=>{let r=t.state.data;if(r&&r.metadata?.notices){let n=t.queryKey,i=r.metadata.notices[0]?.message;i&&c.push({query:String(n[0].spec.plugin.spec.query),summary:i})}}),(0,a.jsxs)(eK.Z,{spacing:1,mb:2,sx:{maxWidth:1e3},children:[(0,a.jsxs)(ek.Z,{sx:{p:1},children:[(0,a.jsx)(eG.Z,{variant:"h2",mb:1,children:"Query Summary"}),(0,a.jsx)(t8.Z,{component:rn.Z,children:(0,a.jsxs)(t6.Z,{size:"small","aria-label":"query summary table",children:[(0,a.jsx)(t7.Z,{children:(0,a.jsxs)(re.Z,{children:[(0,a.jsx)(r_.Z,{children:"Queries Loading"}),(0,a.jsx)(r_.Z,{children:"Recent Time Series Queries"}),r&&(0,a.jsx)(r_.Z,{children:"Total Queries"}),(0,a.jsx)(r_.Z,{children:"Start Time"}),(0,a.jsx)(r_.Z,{children:"End Time"})]})}),(0,a.jsx)(rt.Z,{children:(0,a.jsxs)(re.Z,{children:[(0,a.jsx)(r_.Z,{children:l.length}),(0,a.jsx)(r_.Z,{children:d.length}),r&&(0,a.jsx)(r_.Z,{children:u.length}),(0,a.jsx)(r_.Z,{children:i.start.toString()}),(0,a.jsx)(r_.Z,{children:i.end.toString()})]})})]})})]}),c.length>0&&(0,a.jsxs)(ek.Z,{sx:{p:1,m:0},children:[(0,a.jsx)(eG.Z,{variant:"h3",mb:1,children:"Warnings"}),(0,a.jsx)(t8.Z,{component:rn.Z,sx:{mb:2},children:(0,a.jsxs)(t6.Z,{size:"small","aria-label":"query warnings table",children:[(0,a.jsx)(t7.Z,{children:(0,a.jsxs)(re.Z,{children:[(0,a.jsx)(r_.Z,{children:"Query"}),(0,a.jsx)(r_.Z,{children:"Summary"})]})}),(0,a.jsx)(rt.Z,{children:c.map((t,r)=>(0,a.jsxs)(re.Z,{children:[(0,a.jsx)(r_.Z,{children:t.query}),(0,a.jsx)(r_.Z,{children:t.summary})]},r))})]})}),(0,a.jsx)(o.Z,{disabled:!0,variant:"outlined",children:"TODO: Action Button"})]})]})}var a5=n(85843),a8=n(28797),a6=n(82707);let a7=()=>{let{saveChangesConfirmationDialog:t}=eb(),r=t?.isSavedDurationModified??!0,n=t?.isSavedVariableModified??!0,[i,o]=(0,f.useState)(r),[s,u]=(0,f.useState)(n),{getSavedVariablesStatus:d}=(0,t3.hK)(),{modifiedVariableNames:c}=d(),p=void 0!==t,{timeRange:h}=(0,w.useTimeRange)(),m=(0,i2.s3)(h)?`(Last ${h.pastDuration})`:"(Absolute time ranges can not be saved)",g=`Save current time range as new default ${m}`,y=`Save current variable values as new default (${c.length>0?c.join(", "):"No modified variables"})`;return(0,a.jsx)(l.Dialog,{open:p,children:void 0!==t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Dialog.Header,{onClose:()=>t.onCancel(),children:"Save Dashboard"}),(0,a.jsxs)(l.Dialog.Content,{children:[(0,a.jsx)(eG.Z,{marginBottom:2,children:t.description||"You have made changes to the time range or the variables values. Would you like to save these as defaults?"}),(0,a.jsxs)(a5.Z,{children:[(0,a.jsx)(a8.Z,{control:(0,a.jsx)(a6.Z,{disabled:!r||!(0,i2.s3)(h),checked:i&&r&&(0,i2.s3)(h),onChange:t=>o(t.target.checked)}),label:g}),(0,a.jsx)(a8.Z,{control:(0,a.jsx)(a6.Z,{disabled:!n,checked:s&&n,onChange:t=>u(t.target.checked)}),label:y})]})]}),(0,a.jsxs)(l.Dialog.Actions,{children:[(0,a.jsx)(l.Dialog.PrimaryButton,{onClick:()=>t.onSaveChanges(i,s),children:"Save Changes"}),(0,a.jsx)(l.Dialog.SecondaryButton,{onClick:()=>t.onCancel(),children:"Cancel"})]})]})})};var oe=n(29558),ot=n(51564);function or({children:t,initialState:r}){let[n,i]=(0,ot.useQueryParam)("viewPanelRef",ot.StringParam);return(0,a.jsx)(F,{initialState:{viewPanelRef:n??void 0,setViewPanelRef:i,...r},children:t})}let on=t=>{let{dashboardResource:r,dashboardTitleComponent:n,emptyDashboardProps:i,onSave:o,onDiscard:s,initialVariableIsSticky:u,isReadonly:d,isVariableEnabled:c,isDatasourceEnabled:p,isCreating:h}=t,m=(0,l.useChartsTheme)(),{isEditMode:g,setEditMode:y}=H(),{dashboard:v,setDashboard:b}=iK(),[x,j]=(0,f.useState)(void 0),{setSavedDatasources:S}=(0,w.useDatasourceStore)(),{openDiscardChangesConfirmationDialog:C,closeDiscardChangesConfirmationDialog:_}=ew(),O=()=>{x&&b(x),y(!1),_(),s&&s(v)},k=()=>{y(!0),j(v),S(v.spec.datasources??{})};return(0,a.jsxs)(ek.Z,{sx:{flexGrow:1,overflowX:"hidden",overflowY:"auto",display:"flex",flexDirection:"column"},children:[(0,a.jsx)(aR,{dashboardName:r.metadata.name,dashboardTitleComponent:n,initialVariableIsSticky:u,onSave:o,isReadonly:d,isVariableEnabled:c,isDatasourceEnabled:p,onEditButtonClick:k,onCancelButtonClick:()=>{JSON.stringify(v)===JSON.stringify(x)?y(!1):C({onDiscardChanges:()=>{O()},onCancel:()=>{_()}})}}),(0,a.jsxs)(ek.Z,{sx:{paddingTop:2,paddingX:2,height:"100%"},children:[(0,a.jsx)(l.ErrorBoundary,{FallbackComponent:l.ErrorAlert,children:(0,a.jsx)(rU,{emptyDashboardProps:{onEditButtonClick:k,...i}})}),(0,a.jsx)(l.ChartsProvider,{chartsTheme:m,enablePinning:!1,enableSyncGrouping:!1,children:(0,a.jsx)(aY,{})}),(0,a.jsx)(a4,{}),(0,a.jsx)(aF,{}),(0,a.jsx)(aM,{}),(0,a.jsx)(a$,{}),(0,a.jsx)(aH,{isReadonly:!g,disableMetadataEdition:!h}),(0,a.jsx)(a7,{})]})]})};function oi(t){let{dashboardResource:r,datasourceApi:n,externalVariableDefinitions:i,dashboardTitleComponent:o,emptyDashboardProps:s,onSave:u,onDiscard:d,initialVariableIsSticky:c,isReadonly:p,isVariableEnabled:h,isDatasourceEnabled:m,isEditing:g,isCreating:y,sx:v,...b}=t,{spec:j}=r,S=j.duration??x.U,C=j.refreshInterval??x.Q,_=(0,w.useInitialTimeRange)(S),O=(0,w.useInitialRefreshInterval)(C),{data:k}=(0,w.usePluginBuiltinVariableDefinitions)(),P=(0,f.useMemo)(()=>{let t=[{kind:"BuiltinVariable",spec:{name:"__dashboard",value:()=>r.metadata.name,source:"Dashboard",display:{name:"__dashboard",description:"The name of the current dashboard",hidden:!0}}},{kind:"BuiltinVariable",spec:{name:"__project",value:()=>r.metadata.project,source:"Dashboard",display:{name:"__project",description:"The name of the current dashboard project",hidden:!0}}}];return k&&k.forEach(r=>t.push(r)),t},[r.metadata.name,r.metadata.project,k]);return(0,a.jsx)(oe._,{dashboardResource:r,datasourceApi:n,children:(0,a.jsx)(or,{initialState:{dashboardResource:r,isEditMode:!!g},children:(0,a.jsx)(w.TimeRangeProviderWithQueryParams,{initialTimeRange:_,initialRefreshInterval:O,children:(0,a.jsx)(t3.lt,{initialVariableDefinitions:j.variables,externalVariableDefinitions:i,builtinVariableDefinitions:P,children:(0,a.jsx)(ek.Z,{sx:(0,l.combineSx)({display:"flex",width:"100%",height:"100%",position:"relative",overflow:"hidden"},v),...b,children:(0,a.jsx)(l.ErrorBoundary,{FallbackComponent:l.ErrorAlert,children:(0,a.jsx)(on,{dashboardResource:r,dashboardTitleComponent:o,emptyDashboardProps:s,onSave:u,onDiscard:d,initialVariableIsSticky:c,isReadonly:p,isVariableEnabled:h,isDatasourceEnabled:m,isCreating:y})})})})})})})}},73223:function(t,r,n){"use strict";n.r(r),n.d(r,{useExplorerQueryParams:()=>D,ExplorerManagerProvider:()=>x,useExplorerManagerContext:()=>w,ExploreManager:()=>j,ViewExplore:()=>k,ExploreToolbar:()=>v,explorerQueryConfig:()=>E});var i=n(24246),a=n(36372),o=n(71141),s=n(66694),l=n(20370),u=n(29558),d=n(21131),c=n(8218),p=n(76439),f=n(25283),h=n(51781),m=n(49408),g=n(84954),y=n(94776);let v=t=>{let{exploreTitleComponent:r}=t,n=(0,p.Z)((0,y.Z)().breakpoints.up("lg"));return(0,i.jsx)(f.Z,{"data-testid":"explore-toolbar",children:(0,i.jsxs)(a.Z,{sx:{display:"flex",width:"100%"},children:[r,(0,i.jsx)(f.Z,{direction:"row",spacing:1,ml:"auto",flexWrap:n?"nowrap":"wrap-reverse",justifyContent:"end",children:(0,i.jsx)(o.TimeRangeControls,{})})]})})},b=(0,c.createContext)(void 0);function x({children:t,store:r}){let[n,a]=(0,c.useState)({}),o=(0,c.useState)({explorer:void 0,data:{}}),[s,l]=r||o,{explorer:u,data:d}=s;return(0,i.jsx)(b.Provider,{value:{explorer:u,data:d,setExplorer:function(t){u&&(n[u]={data:d},a(n));let r=n[t]??{data:{}};l({explorer:t,data:r.data})},setData:function(t){l({explorer:u,data:t})}},children:t})}function w(){let t=(0,c.useContext)(b);if(void 0===t)throw Error("No ExplorerManagerContext found. Did you forget a Provider?");return t}function j(t){let{exploreTitleComponent:r}=t,{explorer:n,setExplorer:a}=w(),s=(0,o.useListPluginMetadata)(["Explore"]),l=(0,p.Z)("(max-width: 768px)"),u=(0,c.useMemo)(()=>Object.fromEntries(s.data?.map(t=>[`${t.module.name}-${t.spec.name}`,t])??[]),[s.data]);(0,c.useEffect)(()=>{let t=Object.keys(u);!n&&t?.[0]&&a(t[0])},[u,n,a]);let d=n?u[n]:void 0;return n?(0,i.jsxs)(f.Z,{sx:{width:"100%"},px:2,pb:2,pt:1.5,gap:3,children:[(0,i.jsx)(v,{exploreTitleComponent:r}),(0,i.jsxs)(f.Z,{direction:l?"column":"row",gap:2,sx:{width:"100%"},children:[(0,i.jsx)(h.Z,{orientation:l?"horizontal":"vertical",value:n,onChange:(t,r)=>a(r),variant:l?"fullWidth":"scrollable",sx:{borderRight:+!l,borderBottom:+!!l,borderColor:"divider",minWidth:"100px"},children:s.data?.map(t=>i.jsx(m.Z,{value:`${t.module.name}-${t.spec.name}`,label:t.spec.display.name},`${t.module.name}-${t.spec.name}`))}),(0,i.jsx)(g.Z,{sx:{padding:"10px",width:"100%"},children:d&&(0,i.jsx)(o.PluginLoaderComponent,{plugin:{name:d.spec.name,moduleName:d.module.name}},`${d.module.name}-${d.spec.name}`)})]})]}):(0,i.jsx)("div",{children:"No explorer plugin available"})}var S=n(51564);let C={explorer:(0,S.withDefault)(S.StringParam,void 0),data:(0,S.withDefault)(S.JsonParam,{})};function _({children:t}){let[r,n]=(0,S.useQueryParams)(C);return(0,i.jsx)(x,{store:[r,n],children:t})}function O(t){let{exploreTitleComponent:r}=t,n=(0,l.useChartsTheme)();return(0,i.jsx)(a.Z,{sx:{flexGrow:1,overflowX:"hidden",overflowY:"auto",display:"flex",flexDirection:"column"},children:(0,i.jsx)(l.ChartsProvider,{chartsTheme:n,enablePinning:!1,children:(0,i.jsx)(_,{children:(0,i.jsx)(j,{exploreTitleComponent:r})})})})}function k(t){let{datasourceApi:r,externalVariableDefinitions:n,sx:c,exploreTitleComponent:p,...f}=t,h=(0,o.useInitialTimeRange)(s.U),m=(0,o.useInitialRefreshInterval)(s.Q);return(0,i.jsx)(u._,{datasourceApi:r,children:(0,i.jsx)(o.TimeRangeProviderWithQueryParams,{initialTimeRange:h,initialRefreshInterval:m,children:(0,i.jsx)(d.OF,{externalVariableDefinitions:n,children:(0,i.jsx)(a.Z,{sx:(0,l.combineSx)({display:"flex",width:"100%",height:"100%",position:"relative",overflow:"hidden"},c),...f,children:(0,i.jsx)(l.ErrorBoundary,{FallbackComponent:l.ErrorAlert,children:(0,i.jsx)(O,{exploreTitleComponent:p})})})})})})}var P=n(8139);let E={refresh:o.TimeRangeParam,start:o.TimeRangeParam,end:o.TimeRangeParam,explorer:S.StringParam,data:S.JsonParam};function D(t){let[r]=(0,S.useQueryParams)(E,{updateType:"replaceIn"});return(0,P.stringify)((0,S.encodeQueryParams)(E,{...r,...t}))}},3090:function(t,r,n){"use strict";let i;n.r(r),n.d(r,{LEGEND_SIZE_CONFIG:()=>ik,PanelSpecEditor:()=>iG,validateLegendSpec:()=>iE,ProjectStoreProvider:()=>aA,useInitialRefreshInterval:()=>az,MultiQueryEditor:()=>i$,useReplaceVariablesInString:()=>nA,LEGEND_VALUE_CONFIG:()=>iP,VariableListPreview:()=>ay,TimeRangeSettingsContext:()=>i6,selectorToOptionValue:()=>nV,DEFAULT_REFRESH_INTERVAL_OPTIONS:()=>aa,OptionsEditorTabs:()=>iB,replaceVariables:()=>nb,DatasourceSelect:()=>nT,useActiveTimeSeriesQueries:()=>aY,getVariableValuesKey:()=>au,useListVariablePluginValues:()=>al,usePluginBuiltinVariableDefinitions:()=>r6,TimeRangeProvider:()=>i5,useListDatasourceSelectItems:()=>ng,BuiltinVariableContext:()=>nS,useUsageMetrics:()=>a3,useShowCustomTimeRangeSetting:()=>at,useTraceQueries:()=>a2,CalculationSelector:()=>b,useSetRefreshIntervalParams:()=>aH,QueryCountProvider:()=>iW,decodeTimeRangeValue:()=>aI,usePluginRegistry:()=>r9,TRACE_QUERY_KEY:()=>a0,useBuiltinVariableDefinitions:()=>nO,TimeRangeProviderWithQueryParams:()=>aB,ProjectSelect:()=>aR,TOOLTIP_TEXT:()=>i0,datasourceSelectValueToSelector:()=>nF,OptionsEditorRadios:()=>iw,useProjectList:()=>aE,useTimeRangeContext:()=>i4,VariablePreview:()=>ag,useDataQueriesContext:()=>ot,usePlugins:()=>r5,useBuiltinVariableValues:()=>n_,TimeRangeSettingsProvider:()=>ai,useProjectStore:()=>aD,LEGEND_MODE_CONFIG:()=>iO,useDatasourceStore:()=>nm,ValidationProvider:()=>t4,mockPluginRegistry:()=>oi,LEGEND_POSITIONS_CONFIG:()=>i_,PluginLoaderComponent:()=>oz,getMockPluginName:()=>oa,useQueryCountContext:()=>iU,getUnixTimeRange:()=>a1,TimeRangeParam:()=>aV,useShowZoomRangeSetting:()=>ar,replaceVariable:()=>nx,useTimeRangeSettingsContext:()=>i7,useTimeSeriesQueries:()=>aK,remotePluginLoader:()=>oq,LegendOptionsEditor:()=>iT,useTimeRangeOptionsSetting:()=>an,useDatasourceSelectValueToSelector:()=>n$,optionValueToSelector:()=>nN,useBuiltinVariableContext:()=>nC,PluginSpecEditor:()=>nn,encodeTimeRangeValue:()=>aZ,useListPluginMetadata:()=>r8,useQueryType:()=>a7,VariableEditorForm:()=>aw,useTimeSeriesQuery:()=>aQ,DataQueriesContext:()=>oe,PluginKindSelect:()=>r7,filterVariableList:()=>as,useSuggestedStepMs:()=>i3,useTimeRange:()=>i9,DataQueriesProvider:()=>on,isVariableDatasource:()=>nL,PluginRegistry:()=>iQ,getActiveTimeSeriesQueries:()=>aX,usePluginEditor:()=>no,useValidationSchemas:()=>t2,PluginRegistryContext:()=>r4,UsageMetricsProvider:()=>a8,TimeRangeControls:()=>ao,usePlugin:()=>r3,legendValues:()=>iC,timeRangeQueryConfig:()=>aN,MetricLabelInput:()=>aM,VariableContext:()=>nP,HTTPSettingsEditor:()=>ij,VARIABLE_TYPES:()=>ad,getSubmitText:()=>t3,refreshIntervalQueryConfig:()=>aL,useUsageMetricsContext:()=>a9,useVariableValues:()=>nE,ValidationSchemasContext:()=>t1,dynamicImportPluginLoader:()=>aT,PluginEditor:()=>ns,TimeRangeContext:()=>i2,transformQueryResults:()=>a6,useDataQueries:()=>or,useDatasource:()=>nv,getTitleAction:()=>t9,parseVariables:()=>nj,ProjectStoreContext:()=>aP,useAllVariableValues:()=>nD,useTimeRangeSettings:()=>ae,UsageMetricsContext:()=>a4,useTimeRangeParams:()=>a$,DatasourceName:()=>nZ,useInitialTimeRange:()=>aF,VariableStoreStateMap:()=>nk,DatasourceStoreContext:()=>nh,TIME_SERIES_QUERY_KEY:()=>aU,DatasourceEditorForm:()=>nl,useDatasourceClient:()=>ny});var a,o,s,l,u,d,c,p,f,h={};n.r(h),n.d(h,{CancelledError:()=>rP,Hydrate:()=>ok,InfiniteQueryObserver:()=>ov,IsRestoringProvider:()=>rB,MutationCache:()=>of,MutationObserver:()=>ob,QueriesObserver:()=>r1,Query:()=>ou,QueryCache:()=>od,QueryClient:()=>oy,QueryClientProvider:()=>r$.aH,QueryErrorResetBoundary:()=>rF,QueryObserver:()=>rA,defaultContext:()=>r$.Of,defaultShouldDehydrateMutation:()=>ox,defaultShouldDehydrateQuery:()=>ow,dehydrate:()=>oj,focusManager:()=>rS,hashQueryKey:()=>ru,hydrate:()=>oS,isCancelledError:()=>rE,isError:()=>ry,isServer:()=>t8,matchQuery:()=>ro,notifyManager:()=>rw,onlineManager:()=>r_,parseFilterArgs:()=>ri,parseMutationArgs:()=>rn,parseMutationFilterArgs:()=>ra,parseQueryArgs:()=>rr,queryOptions:()=>oM,replaceEqualDeep:()=>rc,useHydrate:()=>oO,useInfiniteQuery:()=>oR,useIsFetching:()=>oP,useIsMutating:()=>oE,useIsRestoring:()=>rH,useMutation:()=>oD,useQueries:()=>r2,useQuery:()=>r0,useQueryClient:()=>r$.NL,useQueryErrorResetBoundary:()=>rL,useSuspenseQueries:()=>o_,useSuspenseQuery:()=>oC});var m=n(24246),g=n(20370),y=n(14046);let v=Object.entries(y.gO).map(([t,r])=>({id:t,...r}));function b({value:t,onChange:r}){let n=y.gO[t];return(0,m.jsx)(g.OptionsEditorControl,{label:"Calculation",control:(0,m.jsx)(g.SettingsAutocomplete,{value:{...n,id:t},options:v,onChange:(t,n)=>{r(n.id)},disableClearable:!0})})}var x=n(494),w=n(36372),j=n(52054),S=n(38359),C=n(8695),_=n(25283),O=n(28797),k=n(87895),P=n(79119),E=n(8218),D=n.n(E),A=n(36679);(a=l||(l={})).assertEqual=t=>t,a.assertIs=function(t){},a.assertNever=function(t){throw Error()},a.arrayToEnum=t=>{let r={};for(let n of t)r[n]=n;return r},a.getValidEnumValues=t=>{let r=a.objectKeys(t).filter(r=>"number"!=typeof t[t[r]]),n={};for(let i of r)n[i]=t[i];return a.objectValues(n)},a.objectValues=t=>a.objectKeys(t).map(function(r){return t[r]}),a.objectKeys="function"==typeof Object.keys?t=>Object.keys(t):t=>{let r=[];for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.push(n);return r},a.find=(t,r)=>{for(let n of t)if(r(n))return n},a.isInteger="function"==typeof Number.isInteger?t=>Number.isInteger(t):t=>"number"==typeof t&&isFinite(t)&&Math.floor(t)===t,a.joinValues=function(t,r=" | "){return t.map(t=>"string"==typeof t?`'${t}'`:t).join(r)},a.jsonStringifyReplacer=(t,r)=>"bigint"==typeof r?r.toString():r,(u||(u={})).mergeShapes=(t,r)=>({...t,...r});let R=l.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),M=t=>{switch(typeof t){case"undefined":return R.undefined;case"string":return R.string;case"number":return isNaN(t)?R.nan:R.number;case"boolean":return R.boolean;case"function":return R.function;case"bigint":return R.bigint;case"symbol":return R.symbol;case"object":if(Array.isArray(t))return R.array;if(null===t)return R.null;if(t.then&&"function"==typeof t.then&&t.catch&&"function"==typeof t.catch)return R.promise;if("undefined"!=typeof Map&&t instanceof Map)return R.map;if("undefined"!=typeof Set&&t instanceof Set)return R.set;if("undefined"!=typeof Date&&t instanceof Date)return R.date;return R.object;default:return R.unknown}},T=l.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Z extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=t=>{this.issues=[...this.issues,t]},this.addIssues=(t=[])=>{this.issues=[...this.issues,...t]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){let r=t||function(t){return t.message},n={_errors:[]},i=t=>{for(let a of t.issues)if("invalid_union"===a.code)a.unionErrors.map(i);else if("invalid_return_type"===a.code)i(a.returnTypeError);else if("invalid_arguments"===a.code)i(a.argumentsError);else if(0===a.path.length)n._errors.push(r(a));else{let t=n,i=0;for(;i<a.path.length;){let n=a.path[i];i===a.path.length-1?(t[n]=t[n]||{_errors:[]},t[n]._errors.push(r(a))):t[n]=t[n]||{_errors:[]},t=t[n],i++}}};return i(this),n}static assert(t){if(!(t instanceof Z))throw Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,l.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(t=t=>t.message){let r={},n=[];for(let i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Z.create=t=>new Z(t);let I=(t,r)=>{let n;switch(t.code){case T.invalid_type:n=t.received===R.undefined?"Required":`Expected ${t.expected}, received ${t.received}`;break;case T.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,l.jsonStringifyReplacer)}`;break;case T.unrecognized_keys:n=`Unrecognized key(s) in object: ${l.joinValues(t.keys,", ")}`;break;case T.invalid_union:n="Invalid input";break;case T.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${l.joinValues(t.options)}`;break;case T.invalid_enum_value:n=`Invalid enum value. Expected ${l.joinValues(t.options)}, received '${t.received}'`;break;case T.invalid_arguments:n="Invalid function arguments";break;case T.invalid_return_type:n="Invalid function return type";break;case T.invalid_date:n="Invalid date";break;case T.invalid_string:"object"==typeof t.validation?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,"number"==typeof t.validation.position&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:l.assertNever(t.validation):n="regex"!==t.validation?`Invalid ${t.validation}`:"Invalid";break;case T.too_small:n="array"===t.type?`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:"string"===t.type?`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:"number"===t.type?`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:"date"===t.type?`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:"Invalid input";break;case T.too_big:n="array"===t.type?`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:"string"===t.type?`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:"number"===t.type?`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:"bigint"===t.type?`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:"date"===t.type?`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:"Invalid input";break;case T.custom:n="Invalid input";break;case T.invalid_intersection_types:n="Intersection results could not be merged";break;case T.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case T.not_finite:n="Number must be finite";break;default:n=r.defaultError,l.assertNever(t)}return{message:n}},V=I;function N(){return V}let L=t=>{let{data:r,path:n,errorMaps:i,issueData:a}=t,o=[...n,...a.path||[]],s={...a,path:o};if(void 0!==a.message)return{...a,path:o,message:a.message};let l="";for(let t of i.filter(t=>!!t).slice().reverse())l=t(s,{data:r,defaultError:l}).message;return{...a,path:o,message:l}};function F(t,r){let n=N(),i=L({issueData:r,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===I?void 0:I].filter(t=>!!t)});t.common.issues.push(i)}class ${constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(t,r){let n=[];for(let i of r){if("aborted"===i.status)return z;"dirty"===i.status&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){let n=[];for(let t of r){let r=await t.key,i=await t.value;n.push({key:r,value:i})}return $.mergeObjectSync(t,n)}static mergeObjectSync(t,r){let n={};for(let i of r){let{key:r,value:a}=i;if("aborted"===r.status||"aborted"===a.status)return z;"dirty"===r.status&&t.dirty(),"dirty"===a.status&&t.dirty(),"__proto__"!==r.value&&(void 0!==a.value||i.alwaysSet)&&(n[r.value]=a.value)}return{status:t.value,value:n}}}let z=Object.freeze({status:"aborted"}),H=t=>({status:"dirty",value:t}),B=t=>({status:"valid",value:t}),q=t=>"aborted"===t.status,W=t=>"dirty"===t.status,U=t=>"valid"===t.status,G=t=>"undefined"!=typeof Promise&&t instanceof Promise;function Q(t,r,n,i){if("a"===n&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof r?t!==r||!i:!r.has(t))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(t):i?i.value:r.get(t)}function K(t,r,n,i,a){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof r?t!==r||!a:!r.has(t))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?a.call(t,n):a?a.value=n:r.set(t,n),n}"function"==typeof SuppressedError&&SuppressedError,(o=d||(d={})).errToObj=t=>"string"==typeof t?{message:t}:t||{},o.toString=t=>"string"==typeof t?t:null==t?void 0:t.message;class J{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let Y=(t,r)=>{if(U(r))return{success:!0,data:r.value};if(!t.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Z(t.common.issues);return this._error=r,this._error}}};function X(t){if(!t)return{};let{errorMap:r,invalid_type_error:n,required_error:i,description:a}=t;if(r&&(n||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return r?{errorMap:r,description:a}:{errorMap:(r,a)=>{var o,s;let{message:l}=t;return"invalid_enum_value"===r.code?{message:null!=l?l:a.defaultError}:void 0===a.data?{message:null!==(o=null!=l?l:i)&&void 0!==o?o:a.defaultError}:"invalid_type"!==r.code?{message:a.defaultError}:{message:null!==(s=null!=l?l:n)&&void 0!==s?s:a.defaultError}},description:a}}class ee{get description(){return this._def.description}_getType(t){return M(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:M(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new $,ctx:{common:t.parent.common,data:t.data,parsedType:M(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(G(r))throw Error("Synchronous parse encountered promise.");return r}_parseAsync(t){return Promise.resolve(this._parse(t))}parse(t,r){let n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;let i={common:{issues:[],async:null!==(n=null==r?void 0:r.async)&&void 0!==n&&n,contextualErrorMap:null==r?void 0:r.errorMap},path:(null==r?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:M(t)},a=this._parseSync({data:t,path:i.path,parent:i});return Y(i,a)}"~validate"(t){var r,n;let i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:M(t)};if(!this["~standard"].async)try{let r=this._parseSync({data:t,path:[],parent:i});return U(r)?{value:r.value}:{issues:i.common.issues}}catch(t){(null===(n=null===(r=null==t?void 0:t.message)||void 0===r?void 0:r.toLowerCase())||void 0===n?void 0:n.includes("encountered"))&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:i}).then(t=>U(t)?{value:t.value}:{issues:i.common.issues})}async parseAsync(t,r){let n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){let n={common:{issues:[],contextualErrorMap:null==r?void 0:r.errorMap,async:!0},path:(null==r?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:M(t)},i=this._parse({data:t,path:n.path,parent:n});return Y(n,await (G(i)?i:Promise.resolve(i)))}refine(t,r){let n=t=>"string"==typeof r||void 0===r?{message:r}:"function"==typeof r?r(t):r;return this._refinement((r,i)=>{let a=t(r),o=()=>i.addIssue({code:T.custom,...n(r)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(t=>!!t||(o(),!1)):!!a||(o(),!1)})}refinement(t,r){return this._refinement((n,i)=>!!t(n)||(i.addIssue("function"==typeof r?r(n,i):r),!1))}_refinement(t){return new eG({schema:this,typeName:f.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return eQ.create(this,this._def)}nullable(){return eK.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return eA.create(this)}promise(){return eU.create(this,this._def)}or(t){return eM.create([this,t],this._def)}and(t){return eI.create(this,t,this._def)}transform(t){return new eG({...X(this._def),schema:this,typeName:f.ZodEffects,effect:{type:"transform",transform:t}})}default(t){return new eJ({...X(this._def),innerType:this,defaultValue:"function"==typeof t?t:()=>t,typeName:f.ZodDefault})}brand(){return new e1({typeName:f.ZodBranded,type:this,...X(this._def)})}catch(t){return new eY({...X(this._def),innerType:this,catchValue:"function"==typeof t?t:()=>t,typeName:f.ZodCatch})}describe(t){return new this.constructor({...this._def,description:t})}pipe(t){return e2.create(this,t)}readonly(){return e4.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let et=/^c[^\s-]{8,}$/i,er=/^[0-9a-z]+$/,en=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ei=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ea=/^[a-z0-9_-]{21}$/i,eo=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,es=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,el=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,eu=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ed=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ec=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ep=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ef=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,eh=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,em="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",eg=RegExp(`^${em}$`);function ey(t){let r="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?r=`${r}\\.\\d{${t.precision}}`:null==t.precision&&(r=`${r}(\\.\\d+)?`),r}function ev(t){let r=`${em}T${ey(t)}`,n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),r=`${r}(${n.join("|")})`,RegExp(`^${r}$`)}class eb extends ee{_parse(t){var r,n,a,o;let s;if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==R.string){let r=this._getOrReturnCtx(t);return F(r,{code:T.invalid_type,expected:R.string,received:r.parsedType}),z}let u=new $;for(let d of this._def.checks)if("min"===d.kind)t.data.length<d.value&&(F(s=this._getOrReturnCtx(t,s),{code:T.too_small,minimum:d.value,type:"string",inclusive:!0,exact:!1,message:d.message}),u.dirty());else if("max"===d.kind)t.data.length>d.value&&(F(s=this._getOrReturnCtx(t,s),{code:T.too_big,maximum:d.value,type:"string",inclusive:!0,exact:!1,message:d.message}),u.dirty());else if("length"===d.kind){let r=t.data.length>d.value,n=t.data.length<d.value;(r||n)&&(s=this._getOrReturnCtx(t,s),r?F(s,{code:T.too_big,maximum:d.value,type:"string",inclusive:!0,exact:!0,message:d.message}):n&&F(s,{code:T.too_small,minimum:d.value,type:"string",inclusive:!0,exact:!0,message:d.message}),u.dirty())}else if("email"===d.kind)el.test(t.data)||(F(s=this._getOrReturnCtx(t,s),{validation:"email",code:T.invalid_string,message:d.message}),u.dirty());else if("emoji"===d.kind)i||(i=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),i.test(t.data)||(F(s=this._getOrReturnCtx(t,s),{validation:"emoji",code:T.invalid_string,message:d.message}),u.dirty());else if("uuid"===d.kind)ei.test(t.data)||(F(s=this._getOrReturnCtx(t,s),{validation:"uuid",code:T.invalid_string,message:d.message}),u.dirty());else if("nanoid"===d.kind)ea.test(t.data)||(F(s=this._getOrReturnCtx(t,s),{validation:"nanoid",code:T.invalid_string,message:d.message}),u.dirty());else if("cuid"===d.kind)et.test(t.data)||(F(s=this._getOrReturnCtx(t,s),{validation:"cuid",code:T.invalid_string,message:d.message}),u.dirty());else if("cuid2"===d.kind)er.test(t.data)||(F(s=this._getOrReturnCtx(t,s),{validation:"cuid2",code:T.invalid_string,message:d.message}),u.dirty());else if("ulid"===d.kind)en.test(t.data)||(F(s=this._getOrReturnCtx(t,s),{validation:"ulid",code:T.invalid_string,message:d.message}),u.dirty());else if("url"===d.kind)try{new URL(t.data)}catch(r){F(s=this._getOrReturnCtx(t,s),{validation:"url",code:T.invalid_string,message:d.message}),u.dirty()}else"regex"===d.kind?(d.regex.lastIndex=0,d.regex.test(t.data)||(F(s=this._getOrReturnCtx(t,s),{validation:"regex",code:T.invalid_string,message:d.message}),u.dirty())):"trim"===d.kind?t.data=t.data.trim():"includes"===d.kind?t.data.includes(d.value,d.position)||(F(s=this._getOrReturnCtx(t,s),{code:T.invalid_string,validation:{includes:d.value,position:d.position},message:d.message}),u.dirty()):"toLowerCase"===d.kind?t.data=t.data.toLowerCase():"toUpperCase"===d.kind?t.data=t.data.toUpperCase():"startsWith"===d.kind?t.data.startsWith(d.value)||(F(s=this._getOrReturnCtx(t,s),{code:T.invalid_string,validation:{startsWith:d.value},message:d.message}),u.dirty()):"endsWith"===d.kind?t.data.endsWith(d.value)||(F(s=this._getOrReturnCtx(t,s),{code:T.invalid_string,validation:{endsWith:d.value},message:d.message}),u.dirty()):"datetime"===d.kind?ev(d).test(t.data)||(F(s=this._getOrReturnCtx(t,s),{code:T.invalid_string,validation:"datetime",message:d.message}),u.dirty()):"date"===d.kind?eg.test(t.data)||(F(s=this._getOrReturnCtx(t,s),{code:T.invalid_string,validation:"date",message:d.message}),u.dirty()):"time"===d.kind?RegExp(`^${ey(d)}$`).test(t.data)||(F(s=this._getOrReturnCtx(t,s),{code:T.invalid_string,validation:"time",message:d.message}),u.dirty()):"duration"===d.kind?es.test(t.data)||(F(s=this._getOrReturnCtx(t,s),{validation:"duration",code:T.invalid_string,message:d.message}),u.dirty()):"ip"===d.kind?(r=t.data,!(("v4"===(n=d.version)||!n)&&eu.test(r)||("v6"===n||!n)&&ec.test(r))&&(F(s=this._getOrReturnCtx(t,s),{validation:"ip",code:T.invalid_string,message:d.message}),u.dirty())):"jwt"===d.kind?!function(t,r){if(!eo.test(t))return!1;try{let[n]=t.split("."),i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(i));if("object"!=typeof a||null===a||!a.typ||!a.alg||r&&a.alg!==r)return!1;return!0}catch(t){return!1}}(t.data,d.alg)&&(F(s=this._getOrReturnCtx(t,s),{validation:"jwt",code:T.invalid_string,message:d.message}),u.dirty()):"cidr"===d.kind?(a=t.data,!(("v4"===(o=d.version)||!o)&&ed.test(a)||("v6"===o||!o)&&ep.test(a))&&(F(s=this._getOrReturnCtx(t,s),{validation:"cidr",code:T.invalid_string,message:d.message}),u.dirty())):"base64"===d.kind?ef.test(t.data)||(F(s=this._getOrReturnCtx(t,s),{validation:"base64",code:T.invalid_string,message:d.message}),u.dirty()):"base64url"===d.kind?eh.test(t.data)||(F(s=this._getOrReturnCtx(t,s),{validation:"base64url",code:T.invalid_string,message:d.message}),u.dirty()):l.assertNever(d);return{status:u.value,value:t.data}}_regex(t,r,n){return this.refinement(r=>t.test(r),{validation:r,code:T.invalid_string,...d.errToObj(n)})}_addCheck(t){return new eb({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...d.errToObj(t)})}url(t){return this._addCheck({kind:"url",...d.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...d.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...d.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...d.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...d.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...d.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...d.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...d.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...d.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...d.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...d.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...d.errToObj(t)})}datetime(t){var r,n;return"string"==typeof t?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:void 0===(null==t?void 0:t.precision)?null:null==t?void 0:t.precision,offset:null!==(r=null==t?void 0:t.offset)&&void 0!==r&&r,local:null!==(n=null==t?void 0:t.local)&&void 0!==n&&n,...d.errToObj(null==t?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return"string"==typeof t?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:void 0===(null==t?void 0:t.precision)?null:null==t?void 0:t.precision,...d.errToObj(null==t?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...d.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...d.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:null==r?void 0:r.position,...d.errToObj(null==r?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...d.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...d.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...d.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...d.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...d.errToObj(r)})}nonempty(t){return this.min(1,d.errToObj(t))}trim(){return new eb({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new eb({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new eb({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>"datetime"===t.kind)}get isDate(){return!!this._def.checks.find(t=>"date"===t.kind)}get isTime(){return!!this._def.checks.find(t=>"time"===t.kind)}get isDuration(){return!!this._def.checks.find(t=>"duration"===t.kind)}get isEmail(){return!!this._def.checks.find(t=>"email"===t.kind)}get isURL(){return!!this._def.checks.find(t=>"url"===t.kind)}get isEmoji(){return!!this._def.checks.find(t=>"emoji"===t.kind)}get isUUID(){return!!this._def.checks.find(t=>"uuid"===t.kind)}get isNANOID(){return!!this._def.checks.find(t=>"nanoid"===t.kind)}get isCUID(){return!!this._def.checks.find(t=>"cuid"===t.kind)}get isCUID2(){return!!this._def.checks.find(t=>"cuid2"===t.kind)}get isULID(){return!!this._def.checks.find(t=>"ulid"===t.kind)}get isIP(){return!!this._def.checks.find(t=>"ip"===t.kind)}get isCIDR(){return!!this._def.checks.find(t=>"cidr"===t.kind)}get isBase64(){return!!this._def.checks.find(t=>"base64"===t.kind)}get isBase64url(){return!!this._def.checks.find(t=>"base64url"===t.kind)}get minLength(){let t=null;for(let r of this._def.checks)"min"===r.kind&&(null===t||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)"max"===r.kind&&(null===t||r.value<t)&&(t=r.value);return t}}eb.create=t=>{var r;return new eb({checks:[],typeName:f.ZodString,coerce:null!==(r=null==t?void 0:t.coerce)&&void 0!==r&&r,...X(t)})};class ex extends ee{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){let r;if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==R.number){let r=this._getOrReturnCtx(t);return F(r,{code:T.invalid_type,expected:R.number,received:r.parsedType}),z}let n=new $;for(let i of this._def.checks)"int"===i.kind?l.isInteger(t.data)||(F(r=this._getOrReturnCtx(t,r),{code:T.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):"min"===i.kind?(i.inclusive?t.data<i.value:t.data<=i.value)&&(F(r=this._getOrReturnCtx(t,r),{code:T.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):"max"===i.kind?(i.inclusive?t.data>i.value:t.data>=i.value)&&(F(r=this._getOrReturnCtx(t,r),{code:T.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):"multipleOf"===i.kind?0!==function(t,r){let n=(t.toString().split(".")[1]||"").length,i=(r.toString().split(".")[1]||"").length,a=n>i?n:i;return parseInt(t.toFixed(a).replace(".",""))%parseInt(r.toFixed(a).replace(".",""))/Math.pow(10,a)}(t.data,i.value)&&(F(r=this._getOrReturnCtx(t,r),{code:T.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):"finite"===i.kind?Number.isFinite(t.data)||(F(r=this._getOrReturnCtx(t,r),{code:T.not_finite,message:i.message}),n.dirty()):l.assertNever(i);return{status:n.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,d.toString(r))}gt(t,r){return this.setLimit("min",t,!1,d.toString(r))}lte(t,r){return this.setLimit("max",t,!0,d.toString(r))}lt(t,r){return this.setLimit("max",t,!1,d.toString(r))}setLimit(t,r,n,i){return new ex({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:d.toString(i)}]})}_addCheck(t){return new ex({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:d.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:d.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:d.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:d.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:d.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:d.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:d.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:d.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:d.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)"min"===r.kind&&(null===t||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)"max"===r.kind&&(null===t||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>"int"===t.kind||"multipleOf"===t.kind&&l.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===r||n.value>r)&&(r=n.value):"max"===n.kind&&(null===t||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}ex.create=t=>new ex({checks:[],typeName:f.ZodNumber,coerce:(null==t?void 0:t.coerce)||!1,...X(t)});class ew extends ee{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){let r;if(this._def.coerce)try{t.data=BigInt(t.data)}catch(r){return this._getInvalidInput(t)}if(this._getType(t)!==R.bigint)return this._getInvalidInput(t);let n=new $;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?t.data<i.value:t.data<=i.value)&&(F(r=this._getOrReturnCtx(t,r),{code:T.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):"max"===i.kind?(i.inclusive?t.data>i.value:t.data>=i.value)&&(F(r=this._getOrReturnCtx(t,r),{code:T.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):"multipleOf"===i.kind?t.data%i.value!==BigInt(0)&&(F(r=this._getOrReturnCtx(t,r),{code:T.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):l.assertNever(i);return{status:n.value,value:t.data}}_getInvalidInput(t){let r=this._getOrReturnCtx(t);return F(r,{code:T.invalid_type,expected:R.bigint,received:r.parsedType}),z}gte(t,r){return this.setLimit("min",t,!0,d.toString(r))}gt(t,r){return this.setLimit("min",t,!1,d.toString(r))}lte(t,r){return this.setLimit("max",t,!0,d.toString(r))}lt(t,r){return this.setLimit("max",t,!1,d.toString(r))}setLimit(t,r,n,i){return new ew({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:d.toString(i)}]})}_addCheck(t){return new ew({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:d.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:d.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:d.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:d.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:d.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)"min"===r.kind&&(null===t||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)"max"===r.kind&&(null===t||r.value<t)&&(t=r.value);return t}}ew.create=t=>{var r;return new ew({checks:[],typeName:f.ZodBigInt,coerce:null!==(r=null==t?void 0:t.coerce)&&void 0!==r&&r,...X(t)})};class ej extends ee{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==R.boolean){let r=this._getOrReturnCtx(t);return F(r,{code:T.invalid_type,expected:R.boolean,received:r.parsedType}),z}return B(t.data)}}ej.create=t=>new ej({typeName:f.ZodBoolean,coerce:(null==t?void 0:t.coerce)||!1,...X(t)});class eS extends ee{_parse(t){let r;if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==R.date){let r=this._getOrReturnCtx(t);return F(r,{code:T.invalid_type,expected:R.date,received:r.parsedType}),z}if(isNaN(t.data.getTime()))return F(this._getOrReturnCtx(t),{code:T.invalid_date}),z;let n=new $;for(let i of this._def.checks)"min"===i.kind?t.data.getTime()<i.value&&(F(r=this._getOrReturnCtx(t,r),{code:T.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):"max"===i.kind?t.data.getTime()>i.value&&(F(r=this._getOrReturnCtx(t,r),{code:T.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):l.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new eS({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:d.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:d.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)"min"===r.kind&&(null===t||r.value>t)&&(t=r.value);return null!=t?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)"max"===r.kind&&(null===t||r.value<t)&&(t=r.value);return null!=t?new Date(t):null}}eS.create=t=>new eS({checks:[],coerce:(null==t?void 0:t.coerce)||!1,typeName:f.ZodDate,...X(t)});class eC extends ee{_parse(t){if(this._getType(t)!==R.symbol){let r=this._getOrReturnCtx(t);return F(r,{code:T.invalid_type,expected:R.symbol,received:r.parsedType}),z}return B(t.data)}}eC.create=t=>new eC({typeName:f.ZodSymbol,...X(t)});class e_ extends ee{_parse(t){if(this._getType(t)!==R.undefined){let r=this._getOrReturnCtx(t);return F(r,{code:T.invalid_type,expected:R.undefined,received:r.parsedType}),z}return B(t.data)}}e_.create=t=>new e_({typeName:f.ZodUndefined,...X(t)});class eO extends ee{_parse(t){if(this._getType(t)!==R.null){let r=this._getOrReturnCtx(t);return F(r,{code:T.invalid_type,expected:R.null,received:r.parsedType}),z}return B(t.data)}}eO.create=t=>new eO({typeName:f.ZodNull,...X(t)});class ek extends ee{constructor(){super(...arguments),this._any=!0}_parse(t){return B(t.data)}}ek.create=t=>new ek({typeName:f.ZodAny,...X(t)});class eP extends ee{constructor(){super(...arguments),this._unknown=!0}_parse(t){return B(t.data)}}eP.create=t=>new eP({typeName:f.ZodUnknown,...X(t)});class eE extends ee{_parse(t){let r=this._getOrReturnCtx(t);return F(r,{code:T.invalid_type,expected:R.never,received:r.parsedType}),z}}eE.create=t=>new eE({typeName:f.ZodNever,...X(t)});class eD extends ee{_parse(t){if(this._getType(t)!==R.undefined){let r=this._getOrReturnCtx(t);return F(r,{code:T.invalid_type,expected:R.void,received:r.parsedType}),z}return B(t.data)}}eD.create=t=>new eD({typeName:f.ZodVoid,...X(t)});class eA extends ee{_parse(t){let{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==R.array)return F(r,{code:T.invalid_type,expected:R.array,received:r.parsedType}),z;if(null!==i.exactLength){let t=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(t||a)&&(F(r,{code:t?T.too_big:T.too_small,minimum:a?i.exactLength.value:void 0,maximum:t?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(null!==i.minLength&&r.data.length<i.minLength.value&&(F(r,{code:T.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),null!==i.maxLength&&r.data.length>i.maxLength.value&&(F(r,{code:T.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((t,n)=>i.type._parseAsync(new J(r,t,r.path,n)))).then(t=>$.mergeArray(n,t));let a=[...r.data].map((t,n)=>i.type._parseSync(new J(r,t,r.path,n)));return $.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new eA({...this._def,minLength:{value:t,message:d.toString(r)}})}max(t,r){return new eA({...this._def,maxLength:{value:t,message:d.toString(r)}})}length(t,r){return new eA({...this._def,exactLength:{value:t,message:d.toString(r)}})}nonempty(t){return this.min(1,t)}}eA.create=(t,r)=>new eA({type:t,minLength:null,maxLength:null,exactLength:null,typeName:f.ZodArray,...X(r)});class eR extends ee{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let t=this._def.shape(),r=l.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==R.object){let r=this._getOrReturnCtx(t);return F(r,{code:T.invalid_type,expected:R.object,received:r.parsedType}),z}let{status:r,ctx:n}=this._processInputParams(t),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof eE&&"strip"===this._def.unknownKeys))for(let t in n.data)a.includes(t)||o.push(t);let s=[];for(let t of a){let r=i[t],a=n.data[t];s.push({key:{status:"valid",value:t},value:r._parse(new J(n,a,n.path,t)),alwaysSet:t in n.data})}if(this._def.catchall instanceof eE){let t=this._def.unknownKeys;if("passthrough"===t)for(let t of o)s.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===t)o.length>0&&(F(n,{code:T.unrecognized_keys,keys:o}),r.dirty());else if("strip"===t);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let t=this._def.catchall;for(let r of o){let i=n.data[r];s.push({key:{status:"valid",value:r},value:t._parse(new J(n,i,n.path,r)),alwaysSet:r in n.data})}}return n.common.async?Promise.resolve().then(async()=>{let t=[];for(let r of s){let n=await r.key,i=await r.value;t.push({key:n,value:i,alwaysSet:r.alwaysSet})}return t}).then(t=>$.mergeObjectSync(r,t)):$.mergeObjectSync(r,s)}get shape(){return this._def.shape()}strict(t){return d.errToObj,new eR({...this._def,unknownKeys:"strict",...void 0!==t?{errorMap:(r,n)=>{var i,a,o,s;let l=null!==(o=null===(a=(i=this._def).errorMap)||void 0===a?void 0:a.call(i,r,n).message)&&void 0!==o?o:n.defaultError;return"unrecognized_keys"===r.code?{message:null!==(s=d.errToObj(t).message)&&void 0!==s?s:l}:{message:l}}}:{}})}strip(){return new eR({...this._def,unknownKeys:"strip"})}passthrough(){return new eR({...this._def,unknownKeys:"passthrough"})}extend(t){return new eR({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new eR({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:f.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new eR({...this._def,catchall:t})}pick(t){let r={};return l.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new eR({...this._def,shape:()=>r})}omit(t){let r={};return l.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new eR({...this._def,shape:()=>r})}deepPartial(){return function t(r){if(r instanceof eR){let n={};for(let i in r.shape){let a=r.shape[i];n[i]=eQ.create(t(a))}return new eR({...r._def,shape:()=>n})}if(r instanceof eA)return new eA({...r._def,type:t(r.element)});if(r instanceof eQ)return eQ.create(t(r.unwrap()));if(r instanceof eK)return eK.create(t(r.unwrap()));if(r instanceof eV)return eV.create(r.items.map(r=>t(r)));else return r}(this)}partial(t){let r={};return l.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}),new eR({...this._def,shape:()=>r})}required(t){let r={};return l.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let t=this.shape[n];for(;t instanceof eQ;)t=t._def.innerType;r[n]=t}}),new eR({...this._def,shape:()=>r})}keyof(){return eB(l.objectKeys(this.shape))}}eR.create=(t,r)=>new eR({shape:()=>t,unknownKeys:"strip",catchall:eE.create(),typeName:f.ZodObject,...X(r)}),eR.strictCreate=(t,r)=>new eR({shape:()=>t,unknownKeys:"strict",catchall:eE.create(),typeName:f.ZodObject,...X(r)}),eR.lazycreate=(t,r)=>new eR({shape:t,unknownKeys:"strip",catchall:eE.create(),typeName:f.ZodObject,...X(r)});class eM extends ee{_parse(t){let{ctx:r}=this._processInputParams(t),n=this._def.options;if(r.common.async)return Promise.all(n.map(async t=>{let n={...r,common:{...r.common,issues:[]},parent:null};return{result:await t._parseAsync({data:r.data,path:r.path,parent:n}),ctx:n}})).then(function(t){for(let r of t)if("valid"===r.result.status)return r.result;for(let n of t)if("dirty"===n.result.status)return r.common.issues.push(...n.ctx.common.issues),n.result;let n=t.map(t=>new Z(t.ctx.common.issues));return F(r,{code:T.invalid_union,unionErrors:n}),z});{let t;let i=[];for(let a of n){let n={...r,common:{...r.common,issues:[]},parent:null},o=a._parseSync({data:r.data,path:r.path,parent:n});if("valid"===o.status)return o;"dirty"!==o.status||t||(t={result:o,ctx:n}),n.common.issues.length&&i.push(n.common.issues)}if(t)return r.common.issues.push(...t.ctx.common.issues),t.result;let a=i.map(t=>new Z(t));return F(r,{code:T.invalid_union,unionErrors:a}),z}}get options(){return this._def.options}}eM.create=(t,r)=>new eM({options:t,typeName:f.ZodUnion,...X(r)});let eT=t=>{if(t instanceof ez)return eT(t.schema);if(t instanceof eG)return eT(t.innerType());if(t instanceof eH)return[t.value];if(t instanceof eq)return t.options;if(t instanceof eW)return l.objectValues(t.enum);else if(t instanceof eJ)return eT(t._def.innerType);else if(t instanceof e_)return[void 0];else if(t instanceof eO)return[null];else if(t instanceof eQ)return[void 0,...eT(t.unwrap())];else if(t instanceof eK)return[null,...eT(t.unwrap())];else if(t instanceof e1)return eT(t.unwrap());else if(t instanceof e4)return eT(t.unwrap());else if(t instanceof eY)return eT(t._def.innerType);else return[]};class eZ extends ee{_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==R.object)return F(r,{code:T.invalid_type,expected:R.object,received:r.parsedType}),z;let n=this.discriminator,i=r.data[n],a=this.optionsMap.get(i);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(F(r,{code:T.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),z)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let i=new Map;for(let n of r){let r=eT(n.shape[t]);if(!r.length)throw Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let a of r){if(i.has(a))throw Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);i.set(a,n)}}return new eZ({typeName:f.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...X(n)})}}class eI extends ee{_parse(t){let{status:r,ctx:n}=this._processInputParams(t),i=(t,i)=>{if(q(t)||q(i))return z;let a=function t(r,n){let i=M(r),a=M(n);if(r===n)return{valid:!0,data:r};if(i===R.object&&a===R.object){let i=l.objectKeys(n),a=l.objectKeys(r).filter(t=>-1!==i.indexOf(t)),o={...r,...n};for(let i of a){let a=t(r[i],n[i]);if(!a.valid)return{valid:!1};o[i]=a.data}return{valid:!0,data:o}}if(i===R.array&&a===R.array){if(r.length!==n.length)return{valid:!1};let i=[];for(let a=0;a<r.length;a++){let o=t(r[a],n[a]);if(!o.valid)return{valid:!1};i.push(o.data)}return{valid:!0,data:i}}if(i===R.date&&a===R.date&&+r==+n)return{valid:!0,data:r};return{valid:!1}}(t.value,i.value);return a.valid?((W(t)||W(i))&&r.dirty(),{status:r.value,value:a.data}):(F(n,{code:T.invalid_intersection_types}),z)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([t,r])=>i(t,r)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}eI.create=(t,r,n)=>new eI({left:t,right:r,typeName:f.ZodIntersection,...X(n)});class eV extends ee{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==R.array)return F(n,{code:T.invalid_type,expected:R.array,received:n.parsedType}),z;if(n.data.length<this._def.items.length)return F(n,{code:T.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),z;!this._def.rest&&n.data.length>this._def.items.length&&(F(n,{code:T.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...n.data].map((t,r)=>{let i=this._def.items[r]||this._def.rest;return i?i._parse(new J(n,t,n.path,r)):null}).filter(t=>!!t);return n.common.async?Promise.all(i).then(t=>$.mergeArray(r,t)):$.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new eV({...this._def,rest:t})}}eV.create=(t,r)=>{if(!Array.isArray(t))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new eV({items:t,typeName:f.ZodTuple,rest:null,...X(r)})};class eN extends ee{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==R.object)return F(n,{code:T.invalid_type,expected:R.object,received:n.parsedType}),z;let i=[],a=this._def.keyType,o=this._def.valueType;for(let t in n.data)i.push({key:a._parse(new J(n,t,n.path,t)),value:o._parse(new J(n,n.data[t],n.path,t)),alwaysSet:t in n.data});return n.common.async?$.mergeObjectAsync(r,i):$.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return new eN(r instanceof ee?{keyType:t,valueType:r,typeName:f.ZodRecord,...X(n)}:{keyType:eb.create(),valueType:t,typeName:f.ZodRecord,...X(r)})}}class eL extends ee{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==R.map)return F(n,{code:T.invalid_type,expected:R.map,received:n.parsedType}),z;let i=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([t,r],o)=>({key:i._parse(new J(n,t,n.path,[o,"key"])),value:a._parse(new J(n,r,n.path,[o,"value"]))}));if(n.common.async){let t=new Map;return Promise.resolve().then(async()=>{for(let n of o){let i=await n.key,a=await n.value;if("aborted"===i.status||"aborted"===a.status)return z;("dirty"===i.status||"dirty"===a.status)&&r.dirty(),t.set(i.value,a.value)}return{status:r.value,value:t}})}{let t=new Map;for(let n of o){let i=n.key,a=n.value;if("aborted"===i.status||"aborted"===a.status)return z;("dirty"===i.status||"dirty"===a.status)&&r.dirty(),t.set(i.value,a.value)}return{status:r.value,value:t}}}}eL.create=(t,r,n)=>new eL({valueType:r,keyType:t,typeName:f.ZodMap,...X(n)});class eF extends ee{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==R.set)return F(n,{code:T.invalid_type,expected:R.set,received:n.parsedType}),z;let i=this._def;null!==i.minSize&&n.data.size<i.minSize.value&&(F(n,{code:T.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),null!==i.maxSize&&n.data.size>i.maxSize.value&&(F(n,{code:T.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let a=this._def.valueType;function o(t){let n=new Set;for(let i of t){if("aborted"===i.status)return z;"dirty"===i.status&&r.dirty(),n.add(i.value)}return{status:r.value,value:n}}let s=[...n.data.values()].map((t,r)=>a._parse(new J(n,t,n.path,r)));return n.common.async?Promise.all(s).then(t=>o(t)):o(s)}min(t,r){return new eF({...this._def,minSize:{value:t,message:d.toString(r)}})}max(t,r){return new eF({...this._def,maxSize:{value:t,message:d.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}eF.create=(t,r)=>new eF({valueType:t,minSize:null,maxSize:null,typeName:f.ZodSet,...X(r)});class e$ extends ee{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==R.function)return F(r,{code:T.invalid_type,expected:R.function,received:r.parsedType}),z;function n(t,n){return L({data:t,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,N(),I].filter(t=>!!t),issueData:{code:T.invalid_arguments,argumentsError:n}})}function i(t,n){return L({data:t,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,N(),I].filter(t=>!!t),issueData:{code:T.invalid_return_type,returnTypeError:n}})}let a={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof eU){let t=this;return B(async function(...r){let s=new Z([]),l=await t._def.args.parseAsync(r,a).catch(t=>{throw s.addIssue(n(r,t)),s}),u=await Reflect.apply(o,this,l);return await t._def.returns._def.type.parseAsync(u,a).catch(t=>{throw s.addIssue(i(u,t)),s})})}{let t=this;return B(function(...r){let s=t._def.args.safeParse(r,a);if(!s.success)throw new Z([n(r,s.error)]);let l=Reflect.apply(o,this,s.data),u=t._def.returns.safeParse(l,a);if(!u.success)throw new Z([i(l,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e$({...this._def,args:eV.create(t).rest(eP.create())})}returns(t){return new e$({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new e$({args:t||eV.create([]).rest(eP.create()),returns:r||eP.create(),typeName:f.ZodFunction,...X(n)})}}class ez extends ee{get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}ez.create=(t,r)=>new ez({getter:t,typeName:f.ZodLazy,...X(r)});class eH extends ee{_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return F(r,{received:r.data,code:T.invalid_literal,expected:this._def.value}),z}return{status:"valid",value:t.data}}get value(){return this._def.value}}function eB(t,r){return new eq({values:t,typeName:f.ZodEnum,...X(r)})}eH.create=(t,r)=>new eH({value:t,typeName:f.ZodLiteral,...X(r)});class eq extends ee{constructor(){super(...arguments),c.set(this,void 0)}_parse(t){if("string"!=typeof t.data){let r=this._getOrReturnCtx(t),n=this._def.values;return F(r,{expected:l.joinValues(n),received:r.parsedType,code:T.invalid_type}),z}if(Q(this,c,"f")||K(this,c,new Set(this._def.values),"f"),!Q(this,c,"f").has(t.data)){let r=this._getOrReturnCtx(t),n=this._def.values;return F(r,{received:r.data,code:T.invalid_enum_value,options:n}),z}return B(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return eq.create(t,{...this._def,...r})}exclude(t,r=this._def){return eq.create(this.options.filter(r=>!t.includes(r)),{...this._def,...r})}}c=new WeakMap,eq.create=eB;class eW extends ee{constructor(){super(...arguments),p.set(this,void 0)}_parse(t){let r=l.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==R.string&&n.parsedType!==R.number){let t=l.objectValues(r);return F(n,{expected:l.joinValues(t),received:n.parsedType,code:T.invalid_type}),z}if(Q(this,p,"f")||K(this,p,new Set(l.getValidEnumValues(this._def.values)),"f"),!Q(this,p,"f").has(t.data)){let t=l.objectValues(r);return F(n,{received:n.data,code:T.invalid_enum_value,options:t}),z}return B(t.data)}get enum(){return this._def.values}}p=new WeakMap,eW.create=(t,r)=>new eW({values:t,typeName:f.ZodNativeEnum,...X(r)});class eU extends ee{unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);return r.parsedType!==R.promise&&!1===r.common.async?(F(r,{code:T.invalid_type,expected:R.promise,received:r.parsedType}),z):B((r.parsedType===R.promise?r.data:Promise.resolve(r.data)).then(t=>this._def.type.parseAsync(t,{path:r.path,errorMap:r.common.contextualErrorMap})))}}eU.create=(t,r)=>new eU({type:t,typeName:f.ZodPromise,...X(r)});class eG extends ee{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===f.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:t=>{F(n,t),t.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===i.type){let t=i.transform(n.data,a);if(n.common.async)return Promise.resolve(t).then(async t=>{if("aborted"===r.value)return z;let i=await this._def.schema._parseAsync({data:t,path:n.path,parent:n});return"aborted"===i.status?z:"dirty"===i.status||"dirty"===r.value?H(i.value):i});{if("aborted"===r.value)return z;let i=this._def.schema._parseSync({data:t,path:n.path,parent:n});return"aborted"===i.status?z:"dirty"===i.status||"dirty"===r.value?H(i.value):i}}if("refinement"===i.type){let t=t=>{let r=i.refinement(t,a);if(n.common.async)return Promise.resolve(r);if(r instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return t};if(!1!==n.common.async)return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>"aborted"===n.status?z:("dirty"===n.status&&r.dirty(),t(n.value).then(()=>({status:r.value,value:n.value}))));{let i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===i.status?z:("dirty"===i.status&&r.dirty(),t(i.value),{status:r.value,value:i.value})}}if("transform"===i.type){if(!1!==n.common.async)return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(t=>U(t)?Promise.resolve(i.transform(t.value,a)).then(t=>({status:r.value,value:t})):t);{let t=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!U(t))return t;let o=i.transform(t.value,a);if(o instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}}l.assertNever(i)}}eG.create=(t,r,n)=>new eG({schema:t,typeName:f.ZodEffects,effect:r,...X(n)}),eG.createWithPreprocess=(t,r,n)=>new eG({schema:r,effect:{type:"preprocess",transform:t},typeName:f.ZodEffects,...X(n)});class eQ extends ee{_parse(t){return this._getType(t)===R.undefined?B(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}eQ.create=(t,r)=>new eQ({innerType:t,typeName:f.ZodOptional,...X(r)});class eK extends ee{_parse(t){return this._getType(t)===R.null?B(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}eK.create=(t,r)=>new eK({innerType:t,typeName:f.ZodNullable,...X(r)});class eJ extends ee{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return r.parsedType===R.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}eJ.create=(t,r)=>new eJ({innerType:t,typeName:f.ZodDefault,defaultValue:"function"==typeof r.default?r.default:()=>r.default,...X(r)});class eY extends ee{_parse(t){let{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return G(i)?i.then(t=>({status:"valid",value:"valid"===t.status?t.value:this._def.catchValue({get error(){return new Z(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new Z(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}eY.create=(t,r)=>new eY({innerType:t,typeName:f.ZodCatch,catchValue:"function"==typeof r.catch?r.catch:()=>r.catch,...X(r)});class eX extends ee{_parse(t){if(this._getType(t)!==R.nan){let r=this._getOrReturnCtx(t);return F(r,{code:T.invalid_type,expected:R.nan,received:r.parsedType}),z}return{status:"valid",value:t.data}}}eX.create=t=>new eX({typeName:f.ZodNaN,...X(t)});let e0=Symbol("zod_brand");class e1 extends ee{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class e2 extends ee{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{let t=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===t.status?z:"dirty"===t.status?(r.dirty(),H(t.value)):this._def.out._parseAsync({data:t.value,path:n.path,parent:n})})();{let t=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===t.status?z:"dirty"===t.status?(r.dirty(),{status:"dirty",value:t.value}):this._def.out._parseSync({data:t.value,path:n.path,parent:n})}}static create(t,r){return new e2({in:t,out:r,typeName:f.ZodPipeline})}}class e4 extends ee{_parse(t){let r=this._def.innerType._parse(t),n=t=>(U(t)&&(t.value=Object.freeze(t.value)),t);return G(r)?r.then(t=>n(t)):n(r)}unwrap(){return this._def.innerType}}function e9(t,r){let n="function"==typeof t?t(r):"string"==typeof t?{message:t}:t;return"string"==typeof n?{message:n}:n}function e3(t,r={},n){return t?ek.create().superRefine((i,a)=>{var o,s;let l=t(i);if(l instanceof Promise)return l.then(t=>{var o,s;if(!t){let t=e9(r,i),l=null===(s=null!==(o=t.fatal)&&void 0!==o?o:n)||void 0===s||s;a.addIssue({code:"custom",...t,fatal:l})}});if(!l){let t=e9(r,i),l=null===(s=null!==(o=t.fatal)&&void 0!==o?o:n)||void 0===s||s;a.addIssue({code:"custom",...t,fatal:l})}}):ek.create()}e4.create=(t,r)=>new e4({innerType:t,typeName:f.ZodReadonly,...X(r)});let e5={object:eR.lazycreate};(s=f||(f={})).ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly";let e8=eb.create,e6=ex.create,e7=eX.create,te=ew.create,tt=ej.create,tr=eS.create,tn=eC.create,ti=e_.create,ta=eO.create,to=ek.create,ts=eP.create,tl=eE.create,tu=eD.create,td=eA.create,tc=eR.create,tp=eR.strictCreate,tf=eM.create,th=eZ.create,tm=eI.create,tg=eV.create,ty=eN.create,tv=eL.create,tb=eF.create,tx=e$.create,tw=ez.create,tj=eH.create,tS=eq.create,tC=eW.create,t_=eU.create,tO=eG.create,tk=eQ.create,tP=eK.create,tE=eG.createWithPreprocess,tD=e2.create;var tA=Object.freeze({__proto__:null,defaultErrorMap:I,setErrorMap:function(t){V=t},getErrorMap:N,makeIssue:L,EMPTY_PATH:[],addIssueToContext:F,ParseStatus:$,INVALID:z,DIRTY:H,OK:B,isAborted:q,isDirty:W,isValid:U,isAsync:G,get util(){return l},get objectUtil(){return u},ZodParsedType:R,getParsedType:M,ZodType:ee,datetimeRegex:ev,ZodString:eb,ZodNumber:ex,ZodBigInt:ew,ZodBoolean:ej,ZodDate:eS,ZodSymbol:eC,ZodUndefined:e_,ZodNull:eO,ZodAny:ek,ZodUnknown:eP,ZodNever:eE,ZodVoid:eD,ZodArray:eA,ZodObject:eR,ZodUnion:eM,ZodDiscriminatedUnion:eZ,ZodIntersection:eI,ZodTuple:eV,ZodRecord:eN,ZodMap:eL,ZodSet:eF,ZodFunction:e$,ZodLazy:ez,ZodLiteral:eH,ZodEnum:eq,ZodNativeEnum:eW,ZodPromise:eU,ZodEffects:eG,ZodTransformer:eG,ZodOptional:eQ,ZodNullable:eK,ZodDefault:eJ,ZodCatch:eY,ZodNaN:eX,BRAND:e0,ZodBranded:e1,ZodPipeline:e2,ZodReadonly:e4,custom:e3,Schema:ee,ZodSchema:ee,late:e5,get ZodFirstPartyTypeKind(){return f},coerce:{string:t=>eb.create({...t,coerce:!0}),number:t=>ex.create({...t,coerce:!0}),boolean:t=>ej.create({...t,coerce:!0}),bigint:t=>ew.create({...t,coerce:!0}),date:t=>eS.create({...t,coerce:!0})},any:to,array:td,bigint:te,boolean:tt,date:tr,discriminatedUnion:th,effect:tO,enum:tS,function:tx,instanceof:(t,r={message:`Input not instance of ${t.name}`})=>e3(r=>r instanceof t,r),intersection:tm,lazy:tw,literal:tj,map:tv,nan:e7,nativeEnum:tC,never:tl,null:ta,nullable:tP,number:e6,object:tc,oboolean:()=>tt().optional(),onumber:()=>e6().optional(),optional:tk,ostring:()=>e8().optional(),pipeline:tD,preprocess:tE,promise:t_,record:ty,set:tb,strictObject:tp,string:e8,symbol:tn,transformer:tO,tuple:tg,undefined:ti,union:tf,unknown:ts,void:tu,NEVER:z,ZodIssueCode:T,quotelessJson:t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:Z});let tR=tA.string().min(1,"Required").max(75,"Must be 75 or fewer characters long").regex(/^[a-zA-Z0-9_.-]+$/,"Must only contains alphanumerical characters and special characters _ . -"),tM=tA.object({name:tR}),tT=tM.extend({project:tR}),tZ=tA.object({kind:tA.string().min(1,"Required"),spec:tA.record(tA.string(),tA.any())}),tI=tA.object({name:tA.string().optional(),description:tA.string().optional()}),tV=tA.object({display:tI.optional(),default:tA.boolean(),plugin:tZ}),tN=tA.object({kind:tA.literal("Datasource"),metadata:tT,spec:tV}),tL=tA.object({kind:tA.literal("GlobalDatasource"),metadata:tM,spec:tV});tA.discriminatedUnion("kind",[tN,tL]);let tF=tA.object({name:tA.string().min(1),spec:tV}),t$=tA.object({name:tA.string().min(1,{message:"Required"}),description:tA.string().optional()}),tz=tA.object({kind:tA.string().min(1),spec:tA.object({plugin:tZ})}),tH=tA.object({name:tA.string().optional(),url:tA.string().min(1),tooltip:tA.string().optional(),renderVariables:tA.boolean().optional(),targetBlank:tA.boolean().optional()}),tB=tA.object({display:t$,plugin:tZ,queries:tA.array(tz).optional(),links:tA.array(tH).optional()}),tq=tA.object({kind:tA.literal("Panel"),spec:tB}),tW=tA.object({groupId:tA.number(),panelDefinition:tq}),tU=tA.object({name:tA.string().optional(),description:tA.string().optional(),hidden:tA.boolean().optional()}),tG=tA.object({name:tA.string().min(1),display:tU.optional(),defaultValue:tA.string().or(tA.array(tA.string())).optional(),allowAllValue:tA.boolean(),allowMultiple:tA.boolean(),customAllValue:tA.string().optional(),capturingRegexp:tA.string().optional(),sort:tA.enum(["none","alphabetical-asc","alphabetical-desc","numerical-asc","numerical-desc","alphabetical-ci-asc","alphabetical-ci-desc"]).optional(),plugin:tZ}),tQ=tA.object({kind:tA.literal("ListVariable"),spec:tG}),tK=tA.object({name:tA.string().min(1),display:tU.optional(),value:tA.string(),constant:tA.boolean().optional()}),tJ=tA.object({kind:tA.literal("TextVariable"),spec:tK}),tY=tA.discriminatedUnion("kind",[tJ,tQ]),tX=tA.object({kind:tA.literal("Variable"),metadata:tT,spec:tY}),t0=tA.object({kind:tA.literal("GlobalVariable"),metadata:tT,spec:tY});tA.discriminatedUnion("kind",[tX,t0]);let t1=(0,E.createContext)(void 0);function t2(){let t=(0,E.useContext)(t1);if(void 0===t)throw Error("No ValidationSchemasContext found. Did you forget a Provider?");return t}function t4({children:t}){let[r,n]=(0,E.useState)(tF),[i,a]=(0,E.useState)(tW),[o,s]=(0,E.useState)(tY);return(0,m.jsx)(t1.Provider,{value:{datasourceEditorSchema:r,panelEditorSchema:i,variableEditorSchema:o,setDatasourceEditorSchemaPlugin:function(t){n(tA.object({name:tA.string().min(1),spec:tA.object({display:tI.optional(),default:tA.boolean(),plugin:t})}))},setPanelEditorSchemaPlugin:function(t){a(tA.object({groupId:tA.number(),panelDefinition:tA.object({kind:tA.literal("Panel"),spec:tA.object({display:t$,plugin:t,queries:tA.array(tz).optional(),links:tA.array(tH).optional()})})}))},setVariableEditorSchemaPlugin:function(t){s(tA.discriminatedUnion("kind",[tA.object({kind:tA.literal("ListVariable"),spec:tA.object({name:tA.string().min(1),display:tU.optional(),defaultValue:tA.string().or(tA.array(tA.string())).optional(),allowAllValue:tA.boolean(),allowMultiple:tA.boolean(),customAllValue:tA.string().optional(),capturingRegexp:tA.string().optional(),sort:tA.enum(["none","alphabetical-asc","alphabetical-desc","numerical-asc","numerical-desc","alphabetical-ci-asc","alphabetical-ci-desc"]).optional(),plugin:t})}),tA.object({kind:tA.literal("TextVariable"),spec:tK})]))}},children:t})}function t9(t,r){return"read"===t?"View":r&&"create"===t?"Add":r||"create"!==t?"update"===t?"Edit":"":"Create"}function t3(t,r){return r&&"create"===t?"Add":r&&"update"===t?"Apply":r?"":"Save"}var t5=n(10517);let t8="undefined"==typeof window||"Deno"in window;function t6(){}function t7(t){return"number"==typeof t&&t>=0&&t!==1/0}function re(t,r){return t.filter(t=>!r.includes(t))}function rt(t,r){return Math.max(t+(r||0)-Date.now(),0)}function rr(t,r,n){return rg(t)?"function"==typeof r?{...n,queryKey:t,queryFn:r}:{...r,queryKey:t}:t}function rn(t,r,n){return rg(t)?"function"==typeof r?{...n,mutationKey:t,mutationFn:r}:{...r,mutationKey:t}:"function"==typeof t?{...r,mutationFn:t}:{...t}}function ri(t,r,n){return rg(t)?[{...r,queryKey:t},n]:[t||{},r]}function ra(t,r,n){return rg(t)?[{...r,mutationKey:t},n]:[t||{},r]}function ro(t,r){let{type:n="all",exact:i,fetchStatus:a,predicate:o,queryKey:s,stale:l}=t;if(rg(s)){if(i){if(r.queryHash!==rl(s,r.options))return!1}else{var u;if(u=r.queryKey,!rd(u,s))return!1}}if("all"!==n){let t=r.isActive();if("active"===n&&!t||"inactive"===n&&t)return!1}return("boolean"!=typeof l||r.isStale()===l)&&(void 0===a||a===r.state.fetchStatus)&&(!o||!!o(r))}function rs(t,r){let{exact:n,fetching:i,predicate:a,mutationKey:o}=t;if(rg(o)){if(!r.options.mutationKey)return!1;if(n){if(ru(r.options.mutationKey)!==ru(o))return!1}else{var s;if(s=r.options.mutationKey,!rd(s,o))return!1}}return("boolean"!=typeof i||"loading"===r.state.status===i)&&(!a||!!a(r))}function rl(t,r){return((null==r?void 0:r.queryKeyHashFn)||ru)(t)}function ru(t){return JSON.stringify(t,(t,r)=>rh(r)?Object.keys(r).sort().reduce((t,n)=>(t[n]=r[n],t),{}):r)}function rd(t,r){return t===r||typeof t==typeof r&&!!t&&!!r&&"object"==typeof t&&"object"==typeof r&&!Object.keys(r).some(n=>!rd(t[n],r[n]))}function rc(t,r){if(t===r)return t;let n=rf(t)&&rf(r);if(n||rh(t)&&rh(r)){let i=n?t.length:Object.keys(t).length,a=n?r:Object.keys(r),o=a.length,s=n?[]:{},l=0;for(let i=0;i<o;i++){let o=n?i:a[i];s[o]=rc(t[o],r[o]),s[o]===t[o]&&l++}return i===o&&l===i?t:s}return r}function rp(t,r){if(t&&!r||r&&!t)return!1;for(let n in t)if(t[n]!==r[n])return!1;return!0}function rf(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function rh(t){if(!rm(t))return!1;let r=t.constructor;if(void 0===r)return!0;let n=r.prototype;return!!(rm(n)&&n.hasOwnProperty("isPrototypeOf"))}function rm(t){return"[object Object]"===Object.prototype.toString.call(t)}function rg(t){return Array.isArray(t)}function ry(t){return t instanceof Error}function rv(t){return new Promise(r=>{setTimeout(r,t)})}function rb(t){rv(0).then(t)}function rx(t,r,n){return null!=n.isDataEqual&&n.isDataEqual(t,r)?t:"function"==typeof n.structuralSharing?n.structuralSharing(t,r):!1!==n.structuralSharing?rc(t,r):r}let rw=function(){let t=[],r=0,n=t=>{t()},i=t=>{t()},a=i=>{r?t.push(i):rb(()=>{n(i)})},o=()=>{let r=t;t=[],r.length&&rb(()=>{i(()=>{r.forEach(t=>{n(t)})})})};return{batch:t=>{let n;r++;try{n=t()}finally{--r||o()}return n},batchCalls:t=>(...r)=>{a(()=>{t(...r)})},schedule:a,setNotifyFunction:t=>{n=t},setBatchNotifyFunction:t=>{i=t}}}();class rj{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){let r={listener:t};return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}let rS=new class extends rj{constructor(){super(),this.setup=t=>{if(!t8&&window.addEventListener){let r=()=>t();return window.addEventListener("visibilitychange",r,!1),window.addEventListener("focus",r,!1),()=>{window.removeEventListener("visibilitychange",r),window.removeEventListener("focus",r)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;null==(t=this.cleanup)||t.call(this),this.cleanup=void 0}}setEventListener(t){var r;this.setup=t,null==(r=this.cleanup)||r.call(this),this.cleanup=t(t=>{"boolean"==typeof t?this.setFocused(t):this.onFocus()})}setFocused(t){this.focused!==t&&(this.focused=t,this.onFocus())}onFocus(){this.listeners.forEach(({listener:t})=>{t()})}isFocused(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}},rC=["online","offline"],r_=new class extends rj{constructor(){super(),this.setup=t=>{if(!t8&&window.addEventListener){let r=()=>t();return rC.forEach(t=>{window.addEventListener(t,r,!1)}),()=>{rC.forEach(t=>{window.removeEventListener(t,r)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;null==(t=this.cleanup)||t.call(this),this.cleanup=void 0}}setEventListener(t){var r;this.setup=t,null==(r=this.cleanup)||r.call(this),this.cleanup=t(t=>{"boolean"==typeof t?this.setOnline(t):this.onOnline()})}setOnline(t){this.online!==t&&(this.online=t,this.onOnline())}onOnline(){this.listeners.forEach(({listener:t})=>{t()})}isOnline(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine}};function rO(t){return Math.min(1e3*2**t,3e4)}function rk(t){return(null!=t?t:"online")!=="online"||r_.isOnline()}class rP{constructor(t){this.revert=null==t?void 0:t.revert,this.silent=null==t?void 0:t.silent}}function rE(t){return t instanceof rP}function rD(t){let r,n,i,a=!1,o=0,s=!1,l=new Promise((t,r)=>{n=t,i=r}),u=()=>!rS.isFocused()||"always"!==t.networkMode&&!r_.isOnline(),d=i=>{s||(s=!0,null==t.onSuccess||t.onSuccess(i),null==r||r(),n(i))},c=n=>{s||(s=!0,null==t.onError||t.onError(n),null==r||r(),i(n))},p=()=>new Promise(n=>{r=t=>{let r=s||!u();return r&&n(t),r},null==t.onPause||t.onPause()}).then(()=>{r=void 0,s||null==t.onContinue||t.onContinue()}),f=()=>{let r;if(!s){try{r=t.fn()}catch(t){r=Promise.reject(t)}Promise.resolve(r).then(d).catch(r=>{var n,i;if(s)return;let l=null!=(n=t.retry)?n:3,d=null!=(i=t.retryDelay)?i:rO,h="function"==typeof d?d(o,r):d,m=!0===l||"number"==typeof l&&o<l||"function"==typeof l&&l(o,r);if(a||!m){c(r);return}o++,null==t.onFail||t.onFail(o,r),rv(h).then(()=>{if(u())return p()}).then(()=>{a?c(r):f()})})}};return rk(t.networkMode)?f():p().then(f),{promise:l,cancel:r=>{s||(c(new rP(r)),null==t.abort||t.abort())},continue:()=>(null==r?void 0:r())?l:Promise.resolve(),cancelRetry:()=>{a=!0},continueRetry:()=>{a=!1}}}class rA extends rj{constructor(t,r){super(),this.client=t,this.options=r,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(r)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.currentQuery.addObserver(this),rR(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return rM(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return rM(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(t,r){let n=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(t),rp(n,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();let a=this.hasListeners();a&&rT(this.currentQuery,i,this.options,n)&&this.executeFetch(),this.updateResult(r),a&&(this.currentQuery!==i||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&this.updateStaleTimeout();let o=this.computeRefetchInterval();a&&(this.currentQuery!==i||this.options.enabled!==n.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(t){var r,n,i;let a=this.client.getQueryCache().build(this.client,t),o=this.createResult(a,t);return r=this,n=o,(i=t).keepPreviousData||(void 0!==i.placeholderData?!n.isPlaceholderData:rp(r.getCurrentResult(),n))||(this.currentResult=o,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),o}getCurrentResult(){return this.currentResult}trackResult(t){let r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(n),t[n])})}),r}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:t,...r}={}){return this.fetch({...r,meta:{refetchPage:t}})}fetchOptimistic(t){let r=this.client.defaultQueryOptions(t),n=this.client.getQueryCache().build(this.client,r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(t){var r;return this.executeFetch({...t,cancelRefetch:null==(r=t.cancelRefetch)||r}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(t){this.updateQuery();let r=this.currentQuery.fetch(this.options,t);return null!=t&&t.throwOnError||(r=r.catch(t6)),r}updateStaleTimeout(){if(this.clearStaleTimeout(),t8||this.currentResult.isStale||!t7(this.options.staleTime))return;let t=rt(this.currentResult.dataUpdatedAt,this.options.staleTime);this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},t+1)}computeRefetchInterval(){var t;return"function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(t=this.options.refetchInterval)&&t}updateRefetchInterval(t){this.clearRefetchInterval(),this.currentRefetchInterval=t,!t8&&!1!==this.options.enabled&&t7(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||rS.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(t,r){let n;let i=this.currentQuery,a=this.options,o=this.currentResult,s=this.currentResultState,l=this.currentResultOptions,u=t!==i,d=u?t.state:this.currentQueryInitialState,c=u?this.currentResult:this.previousQueryResult,{state:p}=t,{dataUpdatedAt:f,error:h,errorUpdatedAt:m,fetchStatus:g,status:y}=p,v=!1,b=!1;if(r._optimisticResults){let n=this.hasListeners(),o=!n&&rR(t,r),s=n&&rT(t,i,r,a);(o||s)&&(g=rk(t.options.networkMode)?"fetching":"paused",f||(y="loading")),"isRestoring"===r._optimisticResults&&(g="idle")}if(r.keepPreviousData&&!p.dataUpdatedAt&&null!=c&&c.isSuccess&&"error"!==y)n=c.data,f=c.dataUpdatedAt,y=c.status,v=!0;else if(r.select&&void 0!==p.data){if(o&&p.data===(null==s?void 0:s.data)&&r.select===this.selectFn)n=this.selectResult;else try{this.selectFn=r.select,n=r.select(p.data),n=rx(null==o?void 0:o.data,n,r),this.selectResult=n,this.selectError=null}catch(t){this.selectError=t}}else n=p.data;if(void 0!==r.placeholderData&&void 0===n&&"loading"===y){let t;if(null!=o&&o.isPlaceholderData&&r.placeholderData===(null==l?void 0:l.placeholderData))t=o.data;else if(t="function"==typeof r.placeholderData?r.placeholderData():r.placeholderData,r.select&&void 0!==t)try{t=r.select(t),this.selectError=null}catch(t){this.selectError=t}void 0!==t&&(y="success",n=rx(null==o?void 0:o.data,t,r),b=!0)}this.selectError&&(h=this.selectError,n=this.selectResult,m=Date.now(),y="error");let x="fetching"===g,w="loading"===y,j="error"===y;return{status:y,fetchStatus:g,isLoading:w,isSuccess:"success"===y,isError:j,isInitialLoading:w&&x,data:n,dataUpdatedAt:f,error:h,errorUpdatedAt:m,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>d.dataUpdateCount||p.errorUpdateCount>d.errorUpdateCount,isFetching:x,isRefetching:x&&!w,isLoadingError:j&&0===p.dataUpdatedAt,isPaused:"paused"===g,isPlaceholderData:b,isPreviousData:v,isRefetchError:j&&0!==p.dataUpdatedAt,isStale:rZ(t,r),refetch:this.refetch,remove:this.remove}}updateResult(t){let r=this.currentResult,n=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,rp(n,r))return;this.currentResult=n;let i={cache:!0};(null==t?void 0:t.listeners)!==!1&&(()=>{if(!r)return!0;let{notifyOnChangeProps:t}=this.options,n="function"==typeof t?t():t;if("all"===n||!n&&!this.trackedProps.size)return!0;let i=new Set(null!=n?n:this.trackedProps);return this.options.useErrorBoundary&&i.add("error"),Object.keys(this.currentResult).some(t=>this.currentResult[t]!==r[t]&&i.has(t))})()&&(i.listeners=!0),this.notify({...i,...t})}updateQuery(){let t=this.client.getQueryCache().build(this.client,this.options);if(t===this.currentQuery)return;let r=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==r||r.removeObserver(this),t.addObserver(this))}onQueryUpdate(t){let r={};"success"===t.type?r.onSuccess=!t.manual:"error"!==t.type||rE(t.error)||(r.onError=!0),this.updateResult(r),this.hasListeners()&&this.updateTimers()}notify(t){rw.batch(()=>{var r,n,i,a,o,s,l,u;t.onSuccess?(null==(r=(n=this.options).onSuccess)||r.call(n,this.currentResult.data),null==(i=(a=this.options).onSettled)||i.call(a,this.currentResult.data,null)):t.onError&&(null==(o=(s=this.options).onError)||o.call(s,this.currentResult.error),null==(l=(u=this.options).onSettled)||l.call(u,void 0,this.currentResult.error)),t.listeners&&this.listeners.forEach(({listener:t})=>{t(this.currentResult)}),t.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function rR(t,r){return!1!==r.enabled&&!t.state.dataUpdatedAt&&("error"!==t.state.status||!1!==r.retryOnMount)||t.state.dataUpdatedAt>0&&rM(t,r,r.refetchOnMount)}function rM(t,r,n){if(!1!==r.enabled){let i="function"==typeof n?n(t):n;return"always"===i||!1!==i&&rZ(t,r)}return!1}function rT(t,r,n,i){return!1!==n.enabled&&(t!==r||!1===i.enabled)&&(!n.suspense||"error"!==t.state.status)&&rZ(t,n)}function rZ(t,r){return t.isStaleByTime(r.staleTime)}let rI=n(70644).useSyncExternalStore;function rV(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}let rN=E.createContext(rV()),rL=()=>E.useContext(rN),rF=({children:t})=>{let[r]=E.useState(()=>rV());return E.createElement(rN.Provider,{value:r},"function"==typeof t?t(r):t)};var r$=n(39517);let rz=E.createContext(!1),rH=()=>E.useContext(rz),rB=rz.Provider;function rq(t,r){return"function"==typeof t?t(...r):!!t}let rW=(t,r)=>{(t.suspense||t.useErrorBoundary)&&!r.isReset()&&(t.retryOnMount=!1)},rU=t=>{E.useEffect(()=>{t.clearReset()},[t])},rG=({result:t,errorResetBoundary:r,useErrorBoundary:n,query:i})=>t.isError&&!r.isReset()&&!t.isFetching&&rq(n,[t.error,i]),rQ=t=>{t.suspense&&"number"!=typeof t.staleTime&&(t.staleTime=1e3)},rK=(t,r)=>t.isLoading&&t.isFetching&&!r,rJ=(t,r,n)=>(null==t?void 0:t.suspense)&&rK(r,n),rY=(t,r,n)=>r.fetchOptimistic(t).then(({data:r})=>{null==t.onSuccess||t.onSuccess(r),null==t.onSettled||t.onSettled(r,null)}).catch(r=>{n.clearReset(),null==t.onError||t.onError(r),null==t.onSettled||t.onSettled(void 0,r)});function rX(t,r){let n=(0,r$.NL)({context:t.context}),i=rH(),a=rL(),o=n.defaultQueryOptions(t);o._optimisticResults=i?"isRestoring":"optimistic",o.onError&&(o.onError=rw.batchCalls(o.onError)),o.onSuccess&&(o.onSuccess=rw.batchCalls(o.onSuccess)),o.onSettled&&(o.onSettled=rw.batchCalls(o.onSettled)),rQ(o),rW(o,a),rU(a);let[s]=E.useState(()=>new r(n,o)),l=s.getOptimisticResult(o);if(rI(E.useCallback(t=>{let r=i?()=>void 0:s.subscribe(rw.batchCalls(t));return s.updateResult(),r},[s,i]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),E.useEffect(()=>{s.setOptions(o,{listeners:!1})},[o,s]),rJ(o,l,i))throw rY(o,s,a);if(rG({result:l,errorResetBoundary:a,useErrorBoundary:o.useErrorBoundary,query:s.getCurrentQuery()}))throw l.error;return o.notifyOnChangeProps?l:s.trackResult(l)}function r0(t,r,n){return rX(rr(t,r,n),rA)}class r1 extends rj{constructor(t,r){super(),this.client=t,this.queries=[],this.result=[],this.observers=[],this.observersMap={},r&&this.setQueries(r)}onSubscribe(){1===this.listeners.size&&this.observers.forEach(t=>{t.subscribe(r=>{this.onUpdate(t,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.observers.forEach(t=>{t.destroy()})}setQueries(t,r){this.queries=t,rw.batch(()=>{let t=this.observers,n=this.findMatchingObservers(this.queries);n.forEach(t=>t.observer.setOptions(t.defaultedQueryOptions,r));let i=n.map(t=>t.observer),a=Object.fromEntries(i.map(t=>[t.options.queryHash,t])),o=i.map(t=>t.getCurrentResult()),s=i.some((r,n)=>r!==t[n]);if(t.length!==i.length||s)this.observers=i,this.observersMap=a,this.result=o,this.hasListeners()&&(re(t,i).forEach(t=>{t.destroy()}),re(i,t).forEach(t=>{t.subscribe(r=>{this.onUpdate(t,r)})}),this.notify())})}getCurrentResult(){return this.result}getQueries(){return this.observers.map(t=>t.getCurrentQuery())}getObservers(){return this.observers}getOptimisticResult(t){return this.findMatchingObservers(t).map(t=>t.observer.getOptimisticResult(t.defaultedQueryOptions))}findMatchingObservers(t){let r=this.observers,n=new Map(r.map(t=>[t.options.queryHash,t])),i=t.map(t=>this.client.defaultQueryOptions(t)),a=i.flatMap(t=>{let r=n.get(t.queryHash);return null!=r?[{defaultedQueryOptions:t,observer:r}]:[]}),o=new Set(a.map(t=>t.defaultedQueryOptions.queryHash)),s=i.filter(t=>!o.has(t.queryHash)),l=new Set(a.map(t=>t.observer)),u=r.filter(t=>!l.has(t)),d=t=>{let r=this.client.defaultQueryOptions(t),n=this.observersMap[r.queryHash];return null!=n?n:new rA(this.client,r)},c=s.map((t,r)=>{if(t.keepPreviousData){let n=u[r];if(void 0!==n)return{defaultedQueryOptions:t,observer:n}}return{defaultedQueryOptions:t,observer:d(t)}});return a.concat(c).sort((t,r)=>i.indexOf(t.defaultedQueryOptions)-i.indexOf(r.defaultedQueryOptions))}onUpdate(t,r){let n=this.observers.indexOf(t);-1!==n&&(this.result=function(t,r,n){let i=t.slice(0);return i[r]=n,i}(this.result,n,r),this.notify())}notify(){rw.batch(()=>{this.listeners.forEach(({listener:t})=>{t(this.result)})})}}function r2({queries:t,context:r}){let n=(0,r$.NL)({context:r}),i=rH(),a=rL(),o=E.useMemo(()=>t.map(t=>{let r=n.defaultQueryOptions(t);return r._optimisticResults=i?"isRestoring":"optimistic",r}),[t,n,i]);o.forEach(t=>{rQ(t),rW(t,a)}),rU(a);let[s]=E.useState(()=>new r1(n,o)),l=s.getOptimisticResult(o);rI(E.useCallback(t=>i?()=>void 0:s.subscribe(rw.batchCalls(t)),[s,i]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),E.useEffect(()=>{s.setQueries(o,{listeners:!1})},[o,s]);let u=l.some((t,r)=>rJ(o[r],t,i))?l.flatMap((t,r)=>{let n=o[r],l=s.getObservers()[r];if(n&&l){if(rJ(n,t,i))return rY(n,l,a);rK(t,i)&&rY(n,l,a)}return[]}):[];if(u.length>0)throw Promise.all(u);let d=s.getQueries(),c=l.find((t,r)=>{var n,i;return rG({result:t,errorResetBoundary:a,useErrorBoundary:null!=(n=null==(i=o[r])?void 0:i.useErrorBoundary)&&n,query:d[r]})});if(null!=c&&c.error)throw c.error;return l}let r4=(0,E.createContext)(void 0);function r9(){let t=(0,E.useContext)(r4);if(void 0===t)throw Error("PluginRegistryContext not found. Did you forget a provider?");return t}function r3(t,r,n){n={...n,enabled:(n?.enabled??!0)&&void 0!==t&&""!==r};let{getPlugin:i}=r9();return r0({queryKey:["getPlugin",t,r],queryFn:()=>i(t,r),...n})}function r5(t,r){let{getPlugin:n}=r9(),i=[...new Set(r.map(t=>t.kind))],a=r2({queries:i.map(r=>({queryKey:["getPlugin",t,r],queryFn:()=>n(t,r)}))});return r.map(t=>a[i.indexOf(t.kind)])}function r8(t,r){let{listPluginMetadata:n}=r9();return r0({queryKey:["listPluginMetadata",t],queryFn:()=>n(t),...r})}function r6(){let{getPlugin:t,listPluginMetadata:r}=r9();return r0({queryKey:["usePluginBuiltinVariableDefinitions"],queryFn:async()=>{let n=new Set((await r(["Datasource"])).map(t=>t.spec.name)),i=[];for(let r of n){let n=await t("Datasource",r);n.getBuiltinVariableDefinitions&&n.getBuiltinVariableDefinitions().forEach(t=>i.push(t))}return i}})}let r7=(0,E.forwardRef)((t,r)=>{let{pluginTypes:n,value:i,onChange:a,...o}=t,{data:s,isLoading:l}=r8(n),u=!i||l?"":nt(i),d=(0,E.useCallback)(t=>{if(""===t)return"";let r=nr(t);return s?.find(t=>t.kind===r.type&&t.spec.name===r.kind)?.spec.display.name},[s]);return(0,m.jsxs)(C.Z,{select:!0,inputRef:r,...o,value:u,"aria-label":u,onChange:t=>{a?.(nr(t.target.value))},SelectProps:{renderValue:d},"data-testid":"plugin-kind-select",children:[l&&(0,m.jsx)(t5.Z,{value:"",children:"Loading..."}),s?.map(t=>m.jsx(t5.Z,{"data-testid":"option",value:nt({type:t.kind,kind:t.spec.name}),children:t.spec.display.name},t.kind+t.spec.name))]})});r7.displayName="PluginKindSelect";let ne="_____";function nt(t){return[t.type,t.kind].join(ne)}function nr(t){let r=t.split(ne),n=r[0],i=r[1];if(void 0===n||void 0===i)throw Error("Invalid optionValue string");return{type:n,kind:i}}function nn(t){let{pluginSelection:{type:r,kind:n},...i}=t,{data:a,isLoading:o,error:s}=r3(r,n);if(s)return(0,m.jsx)(g.ErrorAlert,{error:s});if(o)return null;if(void 0===a)throw Error(`Missing implementation for ${r} plugin with kind '${n}'`);if("Panel"===r)throw Error("This editor should not be used for panel type. Please use Panel Spec Editor instead.");let{OptionsEditorComponent:l}=a;return void 0!==l?(0,m.jsx)(l,{...i}):null}var ni=n(67469),na=n(96494);function no(t){let{pluginTypes:r,value:n,onHideQueryEditorChange:i=()=>{}}=t,a=(0,ni.z)(t.onChange),o=(0,ni.z)(i),s=(0,E.useRef)({[n.selection.type]:{[n.selection.kind]:n.spec}}),l=(0,ni.z)(()=>{let t=s.current[n.selection.type];void 0===t&&(t={},s.current[n.selection.type]=t),t[n.selection.kind]=n.spec}),u=(0,E.useRef)({[n.selection.kind]:!1}),{defaultPluginKinds:d}=r9(),c=r[0],p=c?d?.[c]:void 0,f=c&&p?{type:c,kind:p}:void 0,h=!n.selection&&f?f:void 0,[m,g]=(0,E.useState)(h);(0,E.useEffect)(()=>{""===n.selection.kind&&(n.selection.kind=p||"")},[n.selection,p]);let{data:y,isFetching:v,error:b}=r3(m?.type,m?.kind||"");return(0,E.useEffect)(()=>{m&&void 0!==y&&(l(),a({selection:m,spec:y.createInitialOptions?y.createInitialOptions():{}}),"Panel"===m.type&&(u.current[m.kind]=!!y.hideQueryEditor,!!y.hideQueryEditor!==u.current[n.selection.kind]&&o(!!y.hideQueryEditor)),g(void 0))},[m,y,l,a,o,u,n.selection]),{pendingSelection:m,isLoading:v,error:b,onSelectionChange:t=>{let r=s.current[t.type]?.[t.kind];void 0!==r?(l(),a({selection:t,spec:r})):g(t),"Panel"===t.type&&void 0!==u.current[t.kind]&&u.current[n.selection.kind]!==u.current[t.kind]&&o(!!u.current[t.kind])},onSpecChange:t=>{a((0,na.produce)(n,r=>{r.spec=t}))},rememberCurrentSpecState:l}}function ns(t){let{value:r,pluginTypes:n,pluginKindLabel:i,onChange:a,isReadonly:o,...s}=t,{pendingSelection:l,isLoading:u,error:d,onSelectionChange:c,onSpecChange:p}=no(t);return(0,m.jsxs)(w.Z,{...s,children:[(0,m.jsx)(r7,{fullWidth:!1,sx:{mb:2,minWidth:120},margin:"dense",label:i,pluginTypes:n,disabled:u,value:l||r.selection,InputProps:{readOnly:o},error:!!d,helperText:d?.message,onChange:c}),(0,m.jsx)(g.ErrorBoundary,{FallbackComponent:g.ErrorAlert,children:(0,m.jsx)(nn,{pluginSelection:r.selection,value:r.spec,onChange:p,isReadonly:o})})]})}function nl(t){let{initialDatasourceDefinition:r,action:n,isDraft:i,isReadonly:a,onActionChange:o,onSave:s,onClose:l,onDelete:u}=t,[d,c]=(0,E.useState)(!1),p=t9(n,i),f=t3(n,i),{datasourceEditorSchema:h}=t2(),y=(0,A.useForm)({resolver:(0,x.F)(h),mode:"onBlur",defaultValues:r});function v(t){let r={...t};return r.spec.display?.name===void 0&&r.spec.display?.description===void 0&&delete r.spec.display,r}return(0,m.jsxs)(A.FormProvider,{...y,children:[(0,m.jsxs)(w.Z,{sx:{display:"flex",alignItems:"center",padding:t=>t.spacing(1,2),borderBottom:t=>`1px solid ${t.palette.divider}`},children:[(0,m.jsxs)(j.Z,{variant:"h2",children:[p," Datasource"]}),(0,m.jsx)(g.FormActions,{action:n,submitText:f,isReadonly:a,isValid:y.formState.isValid,onActionChange:o,onSubmit:y.handleSubmit(t=>{s(v(t))}),onDelete:u,onCancel:function(){JSON.stringify(r)!==JSON.stringify(v(y.getValues()))?c(!0):l()}})]}),(0,m.jsxs)(w.Z,{padding:2,sx:{overflowY:"scroll"},children:[(0,m.jsxs)(S.ZP,{container:!0,spacing:2,mb:2,children:[(0,m.jsx)(S.ZP,{item:!0,xs:4,children:(0,m.jsx)(A.Controller,{control:y.control,name:"name",render:({field:t,fieldState:r})=>(0,m.jsx)(C.Z,{...t,required:!0,fullWidth:!0,name:"name",label:"Name",InputLabelProps:{shrink:"read"===n||void 0},InputProps:{disabled:"update"===n&&!i,readOnly:"read"===n},error:!!r.error,helperText:r.error?.message,value:t.value??"",onChange:r=>{t.onChange(r)}})})}),(0,m.jsx)(S.ZP,{item:!0,xs:8,children:(0,m.jsx)(A.Controller,{control:y.control,name:"spec.display.name",render:({field:t,fieldState:r})=>(0,m.jsx)(C.Z,{...t,fullWidth:!0,name:"title",label:"Display Label",InputLabelProps:{shrink:"read"===n||void 0},InputProps:{readOnly:"read"===n},error:!!r.error,helperText:r.error?.message,value:t.value??"",onChange:r=>{t.onChange(r)}})})}),(0,m.jsx)(S.ZP,{item:!0,xs:12,children:(0,m.jsx)(A.Controller,{control:y.control,name:"spec.display.description",render:({field:t,fieldState:r})=>(0,m.jsx)(C.Z,{...t,fullWidth:!0,name:"description",label:"Description",InputLabelProps:{shrink:"read"===n||void 0},InputProps:{readOnly:"read"===n},error:!!r.error,helperText:r.error?.message,value:t.value??"",onChange:r=>{t.onChange(r)}})})}),(0,m.jsx)(S.ZP,{item:!0,xs:6,sx:{paddingTop:"5px !important"},children:(0,m.jsxs)(_.Z,{children:[(0,m.jsx)(A.Controller,{control:y.control,name:"spec.default",render:({field:t})=>(0,m.jsx)(O.Z,{label:"Set as default",control:(0,m.jsx)(k.Z,{...t,checked:!!t.value,readOnly:"read"===n,onChange:r=>{"read"!==n&&t.onChange(r)}})})}),(0,m.jsxs)(j.Z,{variant:"caption",children:["Whether this datasource should be the default ",y.getValues().spec.plugin.kind," to be used"]})]})})]}),(0,m.jsx)(P.Z,{}),(0,m.jsx)(j.Z,{py:1,variant:"h3",children:"Plugin Options"}),(0,m.jsx)(A.Controller,{control:y.control,name:"spec.plugin",render:({field:t})=>(0,m.jsx)(ns,{width:"100%",pluginTypes:["Datasource"],pluginKindLabel:"Source",value:{selection:{type:"Datasource",kind:t.value.kind},spec:t.value.spec},isReadonly:"read"===n,onChange:r=>{t.onChange({kind:r.selection.kind,spec:r.spec})}})})]}),(0,m.jsx)(g.DiscardChangesConfirmationDialog,{description:"Are you sure you want to discard your changes? Changes cannot be recovered.",isOpen:d,onCancel:()=>c(!1),onDiscardChanges:()=>{c(!1),l()}})]})}var nu=n(14371),nd=n(11774),nc=n(12577),np=n(52889),nf=n(75094);let nh=(0,E.createContext)(void 0);function nm(){let t=(0,E.useContext)(nh);if(void 0===t)throw Error("No DatasourceStoreContext found. Did you forget a Provider?");return t}function ng(t,r){let{listDatasourceSelectItems:n}=nm();return r0({queryKey:["listDatasourceSelectItems",t,r],queryFn:()=>n(t)})}function ny(t){let r=nm();return r0({queryKey:["getDatasourceClient",t],queryFn:()=>r.getDatasourceClient(t)})}function nv(t){let r=nm();return r0({queryKey:["getDatasource",t],queryFn:()=>r.getDatasource(t)})}function nb(t,r){let n=nj(t),i=t;return n.sort((t,r)=>r.length-t.length).forEach(t=>{let n=r[t];n&&void 0!==n.value&&(i=nx(i,t,n?.value))}),i}function nx(t,r,n){let i="";return Array.isArray(n)&&(i=`(${n.join("|")})`),"string"==typeof n&&(i=n),(t=t.replaceAll("$"+r,i)).replaceAll("${"+r+"}",i)}let nw=/\$(\w+)|\${(\w+)(?:\.([^:^\}]+))?(?::([^\}]+))?}/gm,nj=t=>{let r;let n=new Set;for(;null!==(r=nw.exec(t));)r&&(r[1]?n.add(r[1]):r[2]&&n.add(r[2]));return Array.from(n.values())},nS=(0,E.createContext)(void 0);function nC(){let t=(0,E.useContext)(nS);if(void 0===t)throw Error("No BuiltinVariableContext found. Did you forget a Provider?");return t}function n_(t){let{variables:r}=nC(),n=(0,E.useMemo)(()=>{let t={};for(let n of r)t[n.spec.name]={loading:!1,value:n.spec.value()};return t},[r]),i=(0,E.useMemo)(()=>{let r={};return t?.forEach(t=>{let i=n[t];i&&(r[t]=i)}),r},[t,n]);return void 0===t?n:i}function nO(){let{variables:t}=nC();return t}class nk{[na.immerable]=!0;DEFAULT_LOCAL_SOURCE_NAME="";_state={};get(t){return this._sourceStatesOrEmpty(t.source)[t.name]}set(t,r){let n=this._sourceName(t.source);return this._state[n]||(this._state[n]={}),this._sourceStatesOrEmpty(t.source)[t.name]=r,r}has(t){return void 0!==this._sourceStatesOrEmpty(t.source)[t.name]}delete(t){let r=this.has(t),n=this._sourceName(t.source),i=this._state[n];return i&&delete i[t.name],Object.keys(i??{})?.length===0&&delete this._state[n],r}_sourceName(t){return t??this.DEFAULT_LOCAL_SOURCE_NAME}_sourceStatesOrEmpty(t){return this._state[this._sourceName(t)]??{}}}let nP=(0,E.createContext)(void 0);function nE(t){let{state:r}=function(){let t=(0,E.useContext)(nP);if(void 0===t)throw Error("No VariableContext found. Did you forget a Provider?");return t}(),n=(0,E.useMemo)(()=>{let n={};return t?.forEach(t=>{let i=r[t];i&&(n[t]=i)}),n},[r,t]);return void 0===t?r:n}function nD(t){let r=nE(t),n=n_(t);return(0,E.useMemo)(()=>({...r,...n}),[r,n])}function nA(t){let r=nD(t?nj(t):[]);if(t)return nb(t,r)}let nR="__DATASOURCE_VARIABLE_VALUE__",nM={name:"",value:""};function nT(t){let{datasourcePluginKind:r,value:n,project:i,onChange:a,...o}=t,{data:s,isLoading:l}=ng(r,i),u=nE(),d=(0,E.useMemo)(()=>{if(nL(n))return n;let t=(s??[]).flatMap(t=>t.items).find(t=>n.kind===t.selector.kind&&n.name===t.selector.name&&!t.overridden)?.selector.group;return{...n,group:t}},[n,s]),c=(0,E.useMemo)(()=>{let t=(s||[]).flatMap(t=>t.items.map(r=>({groupLabel:t.group,groupEditLink:t.editLink,name:r.name,overriding:r.overriding,overridden:r.overridden,saved:r.saved??!0,group:r.selector.group,value:nV(r.selector)}))),r=new Map(t.map(t=>[t.name,t]));return[...t,...Object.entries(u).flatMap(([t,n])=>Array.isArray(n.value)||!r.get(n.value??"")?[]:{groupLabel:"Variables",name:`$${t}`,saved:!0,value:`${nR}$${t}`})]},[s,u]),p=l?nM:c.find(t=>t.value===nV(d)),f=t=>{t?a(nN(t?.value||"")):a({kind:r})},h=()=>{};return(0,m.jsx)(nd.Z,{options:c,renderInput:t=>(0,m.jsx)(C.Z,{...t,label:o.label,placeholder:""}),groupBy:t=>t.groupLabel||"No group",getOptionLabel:t=>t.name,onChange:(t,r)=>f(r),value:p,renderOption:(t,r)=>(0,E.createElement)("li",{...t,key:r.value},(0,m.jsxs)(_.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",width:"100%",children:[(0,m.jsx)(nc.Z,{children:(0,m.jsx)(nZ,{name:r.name,overridden:r.overridden,overriding:r.overriding})}),!r.saved&&(0,m.jsx)(nc.Z,{children:"Save the dashboard to enable this datasource"}),(0,m.jsx)(nc.Z,{style:{textAlign:"right"},children:r.groupLabel&&r.groupLabel.length>0&&(0,m.jsx)(np.Z,{disabled:!1,label:r.groupLabel,size:"small",onDelete:r.groupEditLink?h:void 0,deleteIcon:r.groupEditLink?(0,m.jsx)(nf.Z,{href:r.groupEditLink,target:"_blank",children:(0,m.jsx)(nu.default,{fontSize:"small"})}):void 0})})]}))})}function nZ(t){let{name:r,overridden:n,overriding:i}=t;return(0,m.jsxs)(m.Fragment,{children:[`${r} `,!n&&i&&(0,m.jsx)(w.Z,{display:"inline",fontWeight:"normal",color:t=>t.palette.primary.main,children:"(overriding)"}),n&&"(overridden)"]})}let nI="_____";function nV(t){return nL(t)?`${nR}${t}`:[t.kind,t.group??"",t.name??""].join(nI)}function nN(t){if(t.startsWith(nR))return t.split(nR)[1];let r=t.split(nI),n=r[0],i=r[2];if(void 0===n||void 0===i)throw Error("Invalid optionValue string");return{kind:n,name:""===i?void 0:i}}function nL(t){return"string"==typeof t&&t.startsWith("$")}let nF=(t,r,n)=>{if(!nL(t))return t;let[i]=nj(t),a=r[i??""];if(!a||Array.isArray(a.value))return;let o=(n||[]).flatMap(t=>t.items).find(t=>t.name===a.value);if(void 0!==o)return{kind:o.selector.kind,name:o.selector.name}},n$=(t,r)=>{let{data:n}=ng(r),i=nE();return nL(t)?nF(t,i,n)??{kind:r}:t};var nz=n(86396),nH=n(33755),nB=n(90192),nq=n(90496),nW=n(82267),nU=n(85843),nG=n(44124),nQ=n(6749);function nK(t){return(0,nQ.ZP)("MuiRadioGroup",t)}(0,nG.Z)("MuiRadioGroup",["root","row","error"]);var nJ=n(51183),nY=n(18817);let nX=E.createContext(void 0);var n0=n(56839);let n1=t=>{let{classes:r,row:n,error:i}=t;return(0,nW.Z)({root:["root",n&&"row",i&&"error"]},nK,r)},n2=E.forwardRef(function(t,r){let{actions:n,children:i,className:a,defaultValue:o,name:s,onChange:l,value:u,...d}=t,c=E.useRef(null),p=n1(t),[f,h]=(0,nY.Z)({controlled:u,default:o,name:"RadioGroup"});E.useImperativeHandle(n,()=>({focus:()=>{let t=c.current.querySelector("input:not(:disabled):checked");t||(t=c.current.querySelector("input:not(:disabled)")),t&&t.focus()}}),[]);let g=(0,nJ.Z)(r,c),y=(0,n0.Z)(s),v=E.useMemo(()=>({name:y,onChange(t){h(t.target.value),l&&l(t,t.target.value)},value:f}),[y,l,h,f]);return(0,m.jsx)(nX.Provider,{value:v,children:(0,m.jsx)(nU.Z,{role:"radiogroup",ref:g,className:(0,nq.Z)(p.root,a),...d,children:i})})});var n4=n(16838),n9=n(99140),n3=n(90247);let n5=(0,n3.Z)((0,m.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),n8=(0,n3.Z)((0,m.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked");var n6=n(73037),n7=n(12709),ie=n(82319);let it=(0,n7.ZP)("span",{shouldForwardProp:n6.Z})({position:"relative",display:"flex"}),ir=(0,n7.ZP)(n5)({transform:"scale(1)"}),ii=(0,n7.ZP)(n8)((0,ie.Z)(({theme:t})=>({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest}),variants:[{props:{checked:!0},style:{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})}}]}))),ia=function(t){let{checked:r=!1,classes:n={},fontSize:i}=t,a={...t,checked:r};return(0,m.jsxs)(it,{className:n.root,ownerState:a,children:[(0,m.jsx)(ir,{fontSize:i,className:n.background,ownerState:a}),(0,m.jsx)(ii,{fontSize:i,className:n.dot,ownerState:a})]})};var io=n(51640),is=n(65698),il=n(36683);function iu(t){return(0,nQ.ZP)("MuiRadio",t)}let id=(0,nG.Z)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]);var ic=n(90433),ip=n(16351),ih=n(51751);let im=t=>{let{classes:r,color:n,size:i}=t,a={root:["root",`color${(0,io.Z)(n)}`,"medium"!==i&&`size${(0,io.Z)(i)}`]};return{...r,...(0,nW.Z)(a,iu,r)}},ig=(0,n7.ZP)(n9.Z,{shouldForwardProp:t=>(0,n6.Z)(t)||"classes"===t,name:"MuiRadio",slot:"Root",overridesResolver:(t,r)=>{let{ownerState:n}=t;return[r.root,"medium"!==n.size&&r[`size${(0,io.Z)(n.size)}`],r[`color${(0,io.Z)(n.color)}`]]}})((0,ie.Z)(({theme:t})=>({color:(t.vars||t).palette.text.secondary,[`&.${id.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{color:"default",disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,n4.Fq)(t.palette.action.active,t.palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter((0,ic.Z)()).map(([r])=>({props:{color:r,disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,n4.Fq)(t.palette[r].main,t.palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter((0,ic.Z)()).map(([r])=>({props:{color:r,disabled:!1},style:{[`&.${id.checked}`]:{color:(t.vars||t).palette[r].main}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),iy=(0,m.jsx)(ia,{checked:!0}),iv=(0,m.jsx)(ia,{}),ib=E.forwardRef(function(t,r){let n=(0,ih.i)({props:t,name:"MuiRadio"}),{checked:i,checkedIcon:a=iy,color:o="primary",icon:s=iv,name:l,onChange:u,size:d="medium",className:c,disabled:p,disableRipple:f=!1,slots:h={},slotProps:g={},inputProps:y,...v}=n,b=(0,il.Z)(),x=p;b&&void 0===x&&(x=b.disabled),x??=!1;let w={...n,disabled:x,disableRipple:f,color:o,size:d},j=im(w),S=E.useContext(nX),C=i,_=(0,is.Z)(u,S&&S.onChange),O=l;if(S){if(void 0===C){var k,P;k=S.value,C="object"==typeof(P=n.value)&&null!==P?k===P:String(k)===String(P)}void 0===O&&(O=S.name)}let D=g.input??y,[A,R]=(0,ip.Z)("root",{ref:r,elementType:ig,className:(0,nq.Z)(j.root,c),shouldForwardComponentProp:!0,externalForwardedProps:{slots:h,slotProps:g,...v},getSlotProps:t=>({...t,onChange:(r,...n)=>{t.onChange?.(r,...n),_(r,...n)}}),ownerState:w,additionalProps:{type:"radio",icon:E.cloneElement(s,{fontSize:s.props.fontSize??d}),checkedIcon:E.cloneElement(a,{fontSize:a.props.fontSize??d}),disabled:x,name:O,checked:C,slots:h,slotProps:{input:"function"==typeof D?D(w):D}}});return(0,m.jsx)(A,{...R,classes:j})});function ix(t){let{children:r,value:n,index:i,...a}=t,o=n===i;return(0,m.jsx)("div",{role:"tabpanel",hidden:!o,id:`options-editor-tabpanel-${i}`,"aria-labelledby":`options-editor-tab-${i}`,...a,children:o&&(0,m.jsx)(w.Z,{mt:2,children:r})})}let iw=t=>{let{tabs:r,defaultTab:n,onModeChange:i,isReadonly:a}=t,[o,s]=(0,E.useState)(n);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(w.Z,{sx:{borderBottom:1,borderColor:t=>t.palette.divider},children:(0,m.jsx)(nB.Z,{children:(0,m.jsx)(n2,{row:!0,defaultValue:n,value:o,onChange:(t,r)=>{let n=parseInt(r);s(n),i(n)},"aria-labelledby":"Configuration radio",children:r.map(({label:t},r)=>(0,m.jsx)(O.Z,{disabled:a,value:r,control:(0,m.jsx)(ib,{}),label:t},t))})})}),r.map(({label:t,content:r},n)=>(0,m.jsx)(ix,{value:o,index:n,children:r},t))]})};function ij(t){let{value:r,onChange:n,isReadonly:i,initialSpecDirect:a,initialSpecProxy:o}=t,s="Direct access",l="Proxy";r.directUrl||r.proxy||Object.assign(r,o);let u=(t,r,n)=>void 0===t?t:{...Object.keys(t).reduce((i,a)=>(a===r?i[n]=t[r]||"":i[a]=t[a]||"",i),{})},d=[{label:s,content:(0,m.jsx)(A.Controller,{name:"URL",render:({field:t,fieldState:a})=>(0,m.jsx)(C.Z,{...t,fullWidth:!0,label:"URL",value:r.directUrl||"",error:!!a.error,helperText:a.error?.message,InputProps:{readOnly:i},InputLabelProps:{shrink:!!i||void 0},onChange:i=>{t.onChange(i),n((0,na.produce)(r,t=>{t.directUrl=i.target.value}))}})})},{label:l,content:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(A.Controller,{name:"URL",render:({field:t,fieldState:a})=>(0,m.jsx)(C.Z,{...t,fullWidth:!0,label:"URL",value:r.proxy?.spec.url||"",error:!!a.error,helperText:a.error?.message,InputProps:{readOnly:i},InputLabelProps:{shrink:!!i||void 0},onChange:i=>{t.onChange(i),n((0,na.produce)(r,t=>{void 0!==t.proxy&&(t.proxy.spec.url=i.target.value)}))},sx:{mb:2}})}),(0,m.jsx)(j.Z,{variant:"h4",mb:2,children:"Allowed endpoints"}),(0,m.jsxs)(S.ZP,{container:!0,spacing:2,mb:2,children:[r.proxy?.spec.allowedEndpoints&&r.proxy?.spec.allowedEndpoints.length!==0?r.proxy.spec.allowedEndpoints.map(({endpointPattern:t,method:a},o)=>(0,m.jsxs)(E.Fragment,{children:[(0,m.jsx)(S.ZP,{item:!0,xs:8,children:(0,m.jsx)(A.Controller,{name:`Endpoint pattern ${o}`,render:({field:a,fieldState:s})=>(0,m.jsx)(C.Z,{...a,fullWidth:!0,label:"Endpoint pattern",value:t,error:!!s.error,helperText:s.error?.message,InputProps:{readOnly:i},InputLabelProps:{shrink:!!i||void 0},onChange:t=>{a.onChange(t),n((0,na.produce)(r,r=>{void 0!==r.proxy&&(r.proxy.spec.allowedEndpoints=r.proxy.spec.allowedEndpoints?.map((r,n)=>o===n?{endpointPattern:t.target.value,method:r.method}:r))}))}})})}),(0,m.jsx)(S.ZP,{item:!0,xs:3,children:(0,m.jsx)(A.Controller,{name:`Method ${o}`,render:({field:t,fieldState:s})=>(0,m.jsxs)(C.Z,{...t,select:!0,fullWidth:!0,label:"Method",value:a,error:!!s.error,helperText:s.error?.message,InputProps:{readOnly:i},InputLabelProps:{shrink:!!i||void 0},onChange:i=>{t.onChange(i),n((0,na.produce)(r,t=>{void 0!==t.proxy&&(t.proxy.spec.allowedEndpoints=t.proxy.spec.allowedEndpoints?.map((t,r)=>o===r?{endpointPattern:t.endpointPattern,method:i.target.value}:t))}))},children:[(0,m.jsx)(t5.Z,{value:"GET",children:"GET"}),(0,m.jsx)(t5.Z,{value:"POST",children:"POST"}),(0,m.jsx)(t5.Z,{value:"PUT",children:"PUT"}),(0,m.jsx)(t5.Z,{value:"PATCH",children:"PATCH"}),(0,m.jsx)(t5.Z,{value:"DELETE",children:"DELETE"})]})})}),(0,m.jsx)(S.ZP,{item:!0,xs:1,children:(0,m.jsx)(A.Controller,{name:`Remove Endpoint ${o}`,render:({field:t})=>(0,m.jsx)(nf.Z,{...t,disabled:i,onClick:i=>{t.onChange(i),n((0,na.produce)(r,t=>{void 0!==t.proxy&&(t.proxy.spec.allowedEndpoints=[...t.proxy.spec.allowedEndpoints?.filter((t,r)=>r!==o)||[]])}))},children:(0,m.jsx)(nz.default,{})})})})]},o)):(0,m.jsx)(S.ZP,{item:!0,xs:4,children:(0,m.jsx)(j.Z,{sx:{fontStyle:"italic"},children:"None"})}),(0,m.jsx)(S.ZP,{item:!0,xs:12,sx:{paddingTop:"0px !important",paddingLeft:"5px !important"},children:(0,m.jsx)(nf.Z,{disabled:i,onClick:()=>n((0,na.produce)(r,t=>{void 0!==t.proxy&&(t.proxy.spec.allowedEndpoints=[...t.proxy.spec.allowedEndpoints??[],{endpointPattern:"",method:""}])})),children:(0,m.jsx)(nH.default,{})})})]}),(0,m.jsx)(j.Z,{variant:"h4",mb:2,children:"Request Headers"}),(0,m.jsxs)(S.ZP,{container:!0,spacing:2,mb:2,children:[r.proxy?.spec.headers&&Object.keys(r.proxy.spec.headers).map((t,a)=>(0,m.jsxs)(E.Fragment,{children:[(0,m.jsx)(S.ZP,{item:!0,xs:4,children:(0,m.jsx)(A.Controller,{name:`Header name ${a}`,render:({field:a,fieldState:o})=>(0,m.jsx)(C.Z,{...a,fullWidth:!0,label:"Header name",value:t,error:!!o.error,helperText:o.error?.message,InputProps:{readOnly:i},InputLabelProps:{shrink:!!i||void 0},onChange:i=>{a.onChange(i),n((0,na.produce)(r,r=>{void 0!==r.proxy&&(r.proxy.spec.headers=u(r.proxy.spec.headers,t,i.target.value))}))}})})}),(0,m.jsx)(S.ZP,{item:!0,xs:7,children:(0,m.jsx)(A.Controller,{name:`Header value ${a}`,render:({field:a,fieldState:o})=>(0,m.jsx)(C.Z,{...a,fullWidth:!0,label:"Header value",value:r.proxy?.spec.headers?.[t],error:!!o.error,helperText:o.error?.message,InputProps:{readOnly:i},InputLabelProps:{shrink:!!i||void 0},onChange:i=>{a.onChange(i),n((0,na.produce)(r,r=>{void 0!==r.proxy&&(r.proxy.spec.headers={...r.proxy.spec.headers,[t]:i.target.value})}))}})})}),(0,m.jsx)(S.ZP,{item:!0,xs:1,children:(0,m.jsx)(A.Controller,{name:`Remove Header ${a}`,render:({field:a})=>(0,m.jsx)(nf.Z,{...a,disabled:i,onClick:i=>{a.onChange(i);let o={...r.proxy?.spec.headers};delete o[t],n((0,na.produce)(r,t=>{void 0!==t.proxy&&(t.proxy.spec.headers=o)}))},children:(0,m.jsx)(nz.default,{})})})})]},a)),(0,m.jsx)(S.ZP,{item:!0,xs:12,sx:{paddingTop:"0px !important",paddingLeft:"5px !important"},children:(0,m.jsx)(nf.Z,{disabled:i,onClick:()=>n((0,na.produce)(r,t=>{void 0!==t.proxy&&(t.proxy.spec.headers={...t.proxy.spec.headers,"":""})})),children:(0,m.jsx)(nH.default,{})})})]}),(0,m.jsx)(A.Controller,{name:"Secret",render:({field:t,fieldState:a})=>(0,m.jsx)(C.Z,{...t,fullWidth:!0,label:"Secret",value:r.proxy?.spec.secret||"",error:!!a.error,helperText:a.error?.message,InputProps:{readOnly:i},InputLabelProps:{shrink:!!i||void 0},onChange:i=>{t.onChange(i),n((0,na.produce)(r,t=>{void 0!==t.proxy&&(t.proxy.spec.secret=i.target.value)}))}})})]})}],c=d.findIndex(t=>t.label===s),p=d.findIndex(t=>t.label===l),f=r.proxy?p:c,[h,g]=(0,E.useState)(a),[y,v]=(0,E.useState)(o);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(j.Z,{variant:"h4",mt:2,children:"HTTP Settings"}),(0,m.jsx)(iw,{isReadonly:i,tabs:d,defaultTab:f,onModeChange:t=>{if(d[t]?.label===s){v(r);let{proxy:t,...i}=r;n({...i,directUrl:h.directUrl})}else if(d[t]?.label===l){g(r);let{directUrl:t,...i}=r;n({...i,proxy:y.proxy})}}})]})}var iS=n(8193);let iC=["mean","first","first-number","last","last-number","min","max","sum"],i_={bottom:{label:"Bottom"},right:{label:"Right"}},iO={list:{label:"List"},table:{label:"Table"}},ik={small:{label:"Small"},medium:{label:"Medium"}},iP=iC.reduce((t,r)=>(t[r]=y.gO[r],t),{});function iE(t){return void 0===t||!!((0,iS.vo)(t.position)&&(!t.mode||(0,iS.kx)(t.mode))&&(!t.size||(0,iS.BL)(t.size)))}let iD=Object.entries(i_).map(([t,r])=>({id:t,...r})),iA=Object.entries(iO).map(([t,r])=>({id:t,...r})),iR=Object.entries(ik).map(([t,r])=>({id:t,...r})),iM=Object.entries(iP).map(([t,r])=>({id:t,...r}));function iT({value:t,onChange:r,showValuesEditor:n=!0}){let i=iE(t),a=(0,iS.Jj)(t?.position),o=i_[a],s=(0,iS.bk)(t?.mode),l=iO[s],u=(0,iS.dT)(t?.size),d=ik[u],c=(t?.values||[]).reduce((t,r)=>{let n=iP[r];return n&&t.push({...n,id:r}),t},[]);return(0,m.jsxs)(g.OptionsEditorGroup,{title:"Legend",children:[!i&&(0,m.jsx)(g.ErrorAlert,{error:{name:"invalid-legend",message:"Invalid legend spec"}}),(0,m.jsx)(g.OptionsEditorControl,{label:"Show",control:(0,m.jsx)(k.Z,{checked:void 0!==t,onChange:(t,n)=>{r(!0===n?{position:iS.zx.position}:void 0)}})}),(0,m.jsx)(g.OptionsEditorControl,{label:"Position",control:(0,m.jsx)(g.SettingsAutocomplete,{value:{...o,id:a},options:iD,onChange:(n,i)=>{r({...t,position:i.id})},disabled:void 0===t,disableClearable:!0})}),(0,m.jsx)(g.OptionsEditorControl,{label:"Mode",control:(0,m.jsx)(g.SettingsAutocomplete,{value:{...l,id:s},options:iA,onChange:(n,i)=>{r({...t,position:a,mode:i.id})},disabled:void 0===t,disableClearable:!0})}),(0,m.jsx)(g.OptionsEditorControl,{label:"Size",control:(0,m.jsx)(g.SettingsAutocomplete,{value:{...d,id:u},options:iR,onChange:(n,i)=>{r({...t,position:a,size:i.id})},disabled:void 0===t||"table"!==s,disableClearable:!0})}),n&&(0,m.jsx)(g.OptionsEditorControl,{label:"Values",control:(0,m.jsx)(g.SettingsAutocomplete,{multiple:!0,disableCloseOnSelect:!0,disableClearable:!0,value:c,options:iM,onChange:(n,i)=>{r({...t,position:a,values:i.map(t=>t.id)})},disabled:void 0===t||"table"!==s,limitTags:1,ChipProps:{size:"small"}})})]})}var iZ=n(48565),iI=n(22446),iV=n(12449),iN=n(84974);let iL=({queryTypes:t,index:r,query:n,isCollapsed:i,onDelete:a,onChange:o,onCollapseExpand:s})=>(0,m.jsxs)(_.Z,{spacing:1,children:[(0,m.jsxs)(_.Z,{direction:"row",alignItems:"center",borderBottom:1,borderColor:t=>t.palette.divider,children:[(0,m.jsx)(nf.Z,{size:"small",onClick:()=>s(r),children:i?(0,m.jsx)(iN.default,{}):(0,m.jsx)(iV.default,{})}),(0,m.jsxs)(j.Z,{variant:"overline",component:"h4",children:["Query #",r+1]}),(0,m.jsx)(nf.Z,{size:"small",sx:{marginLeft:"auto",visibility:`${a?"visible":"hidden"}`},onClick:()=>a&&a(r),children:(0,m.jsx)(iI.default,{})})]}),!i&&(0,m.jsx)(iF,{queryTypes:t,value:n,onChange:t=>o(r,t)})]},r);function iF(t){let{value:r,onChange:n,queryTypes:i,...a}=t;return(0,m.jsx)(w.Z,{...a,children:(0,m.jsx)(ns,{pluginTypes:i,pluginKindLabel:"Query Type",value:{selection:{kind:r.spec.plugin.kind,type:r.kind},spec:r.spec.plugin.spec},onChange:t=>{n((0,na.produce)(r,r=>{r.kind=t.selection.type,r.spec.plugin.kind=t.selection.kind,r.spec.plugin.spec=t.spec}))}})})}function i$({queryTypes:t,queries:r=[],onChange:n}){let{defaultInitialQueryDefinition:i,isLoading:a}=function(t){let r=t[0],{data:n,isLoading:i}=r8(t),{defaultPluginKinds:a}=r9(),o=a?.[r]??n?.[0]?.spec.name??"",{data:s}=r3(r,o,{useErrorBoundary:!0,enabled:!0});return{defaultInitialQueryDefinition:{kind:r,spec:{plugin:{kind:o,spec:s?.createInitialOptions()||{}}}},isLoading:i}}(t),[o,s]=(0,E.useState)(r.map(()=>!1)),l=(t,i)=>{n((0,na.produce)(r,r=>{r?r[t]=i:r=[i]}))},u=t=>{n((0,na.produce)(r,r=>{r.splice(t,1)})),s(r=>(r.splice(t,1),[...r]))},d=t=>{s(r=>(r[t]=!r[t],[...r]))},c=r.length?r:a?[]:[i];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(_.Z,{spacing:1,children:c.map((n,i)=>(0,m.jsx)(iL,{queryTypes:t,index:i,query:n,isCollapsed:!!o[i],onChange:l,onDelete:r.length>1?u:void 0,onCollapseExpand:d},i))}),(0,m.jsx)(iZ.Z,{variant:"contained",startIcon:(0,m.jsx)(nH.default,{}),sx:{marginTop:1},onClick:()=>{n((0,na.produce)(r,t=>{t?t.push(i):t=[...r,i]})),s(t=>(t.push(!1),[...t]))},children:"Add Query"})]})}var iz=n(51781),iH=n(49408);let iB=({tabs:t})=>{let[r,n]=(0,E.useState)(0);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(w.Z,{sx:{borderBottom:1,borderColor:t=>t.palette.divider},children:(0,m.jsx)(iz.Z,{value:r,onChange:(t,r)=>{n(r)},"aria-label":"Panel configuration tabs",children:t.map(({label:t},r)=>(0,m.jsx)(iH.Z,{label:t,id:`options-editor-tab-${r}`,"aria-controls":`options-editor-tabpanel-${r}`},t))})}),t.map(({label:t,content:n},i)=>(0,m.jsx)(ix,{value:r,index:i,children:n},t))]})},iq=(0,E.createContext)(0),iW=({queryCount:t,children:r})=>(0,m.jsx)(iq.Provider,{value:t,children:r}),iU=()=>(0,E.useContext)(iq);function iG(t){let{control:r,panelDefinition:n,onJSONChange:i,onQueriesChange:a,onPluginSpecChange:o}=t,{kind:s}=n.spec.plugin,{data:l,isLoading:u,error:d}=r3("Panel",s);if(d)return(0,m.jsx)(g.ErrorAlert,{error:d});if(u)return null;if(void 0===l)throw Error(`Missing implementation for panel plugin with kind '${s}'`);let{panelOptionsEditorComponents:c,hideQueryEditor:p}=l,f=[];return p||f.push({label:"Query",content:(0,m.jsx)(A.Controller,{control:r,name:"panelDefinition.spec.queries",render:({field:t})=>(0,m.jsx)(i$,{queryTypes:l.supportedQueryTypes??[],queries:n.spec.queries??[],onChange:r=>{t.onChange(r),a(r)}})})}),void 0!==c&&(f=f.concat(c.map(({label:t,content:i})=>({label:t,content:(0,m.jsx)(A.Controller,{control:r,name:"panelDefinition.spec.plugin.spec",render:({field:t})=>(0,m.jsx)(i,{value:n.spec.plugin.spec,onChange:r=>{t.onChange(r),o(r)}})})})))),f.push({label:"Links",content:(0,m.jsx)(g.LinksEditor,{control:r})}),f.push({label:"JSON",content:(0,m.jsx)(A.Controller,{control:r,name:"panelDefinition",render:({field:t})=>(0,m.jsx)(g.JSONEditor,{maxHeight:"80vh",value:n,onChange:r=>{t.onChange(JSON.parse(r)),i(r)}})})}),(0,m.jsx)(iW,{queryCount:(n.spec.queries??[]).length,children:(0,m.jsx)(iB,{tabs:f},f.length)})}function iQ(t){let{pluginLoader:{getInstalledPlugins:r,importPluginModule:n},children:i,defaultPluginKinds:a}=t,o=function(t){let r=(0,ni.z)(async()=>{let r=await t(),n=new Map,i=new Map;for(let t of r)for(let r of t.spec.plugins){var a,o;let{kind:s,spec:{name:l}}=r,u=(a=s,o=l,`${a}:${o}`);n.has(u)&&console.warn(`Got more than one ${s} plugin for kind ${l}`),n.set(u,t);let d=i.get(s);void 0===d&&(d=[],i.set(s,d)),d.push({...r,module:t.metadata})}return{pluginResourcesByNameAndKind:n,pluginMetadataByKind:i}}),n=(0,E.useRef)(void 0);return(0,E.useCallback)(()=>{let t=n.current;return void 0===t&&(t=r(),n.current=t,t.catch(()=>void 0===n.current)),t},[r])}(r),s=(0,E.useRef)(new Map),l=(0,ni.z)(t=>{let r=s.current.get(t);return void 0===r&&(r=n(t),s.current.set(t,r),r.catch(()=>s.current.delete(t))),r}),u=(0,E.useCallback)(async(t,r)=>{let n=await o(),i=`${t}:${r}`,a=n.pluginResourcesByNameAndKind.get(i);if(void 0===a)throw Error(`A ${r} plugin for kind '${t}' is not installed`);let s=(await l(a))[r];if(void 0===s)throw Error(`The ${r} plugin for kind '${t}' is missing from the ${a.metadata.name} plugin module`);return s},[o,l]),d=(0,E.useCallback)(async t=>{let r=await o();return t.flatMap(t=>r.pluginMetadataByKind.get(t)??[])},[o]),c=(0,E.useMemo)(()=>({getPlugin:u,listPluginMetadata:d,defaultPluginKinds:a}),[u,d,a]);return(0,m.jsx)(r4.Provider,{value:c,children:i})}var iK=n(67877),iJ=n(28278),iY=n(17001),iX=n(29085);let i0={refreshVariableValues:"Refresh values",copyVariableValues:"Copy values to clipboard",refresh:"Refresh",refreshInterval:"Auto refresh interval",zoomIn:"Zoom in",zoomOut:"Zoom out"};var i1=n(20461);let i2=(0,E.createContext)(void 0);function i4(){let t=(0,E.useContext)(i2);if(void 0===t)throw Error("No TimeRangeContext found. Did you forget a Provider?");return t}function i9(){return i4()}function i3(t){let{absoluteTimeRange:r}=i9();return void 0===t?0:(0,iX.YF)(r,t)}function i5(t){let{timeRange:r,refreshInterval:n,children:i,setTimeRange:a,setRefreshInterval:o}=t,[s,l]=(0,E.useState)(r),[u,d]=(0,E.useState)(n),[c,p]=(0,E.useState)(0);(0,E.useEffect)(()=>{l(r)},[r,c]),(0,E.useEffect)(()=>{d(n)},[n]);let f=(0,E.useCallback)(()=>{p(t=>t+1)},[p]),h=null!=u?(0,i1.milliseconds)((0,iX.Ib)(u)):0;(0,E.useEffect)(()=>{if(h>0){let t=setInterval(()=>{f()},h);return()=>clearInterval(t)}},[f,h]);let g=(0,E.useMemo)(()=>{let t=(0,iX.s3)(s)?(0,iX.sG)(s):s;return{timeRange:s,setTimeRange:a??l,absoluteTimeRange:t,refresh:f,refreshKey:`${t.start}:${t.end}:${u}:${c}`,refreshInterval:u,refreshIntervalInMs:h,setRefreshInterval:o??d}},[s,a,f,u,c,h,o]);return(0,m.jsx)(i2.Provider,{value:g,children:i})}let i8={showCustom:!0,showZoomButtons:!0,options:["5m","15m","30m","1h","6h","12h","24h","7d","14d"].map(t=>(0,g.buildRelativeTimeOption)(t))},i6=(0,E.createContext)(i8);function i7(){let t=(0,E.useContext)(i6);if(void 0===t)throw Error("No TimeRangeContext found. Did you forget a Provider?");return t}function ae(){return i7()}function at(t){let r=ae().showCustom;return void 0!==t?t:r}function ar(t){let r=ae().showZoomButtons;return void 0!==t?t:r}function an(t){let r=ae().options;return void 0!==t?t:r}function ai(t){let r=(0,E.useMemo)(()=>({showCustom:void 0===t.showCustom?i8.showCustom:t.showCustom,showZoomButtons:void 0===t.showZoomButtons?i8.showZoomButtons:t.showZoomButtons,options:void 0===t.options?i8.options:t.options}),[t.showCustom,t.showZoomButtons,t.options]);return(0,m.jsx)(i6.Provider,{value:r,children:t.children})}let aa=[{value:{pastDuration:"0s"},display:"Off"},{value:{pastDuration:"5s"},display:"5s"},{value:{pastDuration:"10s"},display:"10s"},{value:{pastDuration:"15s"},display:"15s"},{value:{pastDuration:"30s"},display:"30s"},{value:{pastDuration:"60s"},display:"1m"}];function ao({heightPx:t,showTimeRangeSelector:r=!0,showRefreshButton:n=!0,showRefreshInterval:i=!0,showCustomTimeRange:a,showZoomButtons:o=!0,timePresets:s}){let{timeRange:l,setTimeRange:u,refresh:d,refreshInterval:c,setRefreshInterval:p}=i9(),f=at(a),h=ar(o),y=an(s),v=void 0===t?"34px":`${t}px`;"pastDuration"in l&&!y.some(t=>t.value.pastDuration===l.pastDuration)&&y.push((0,g.buildRelativeTimeOption)(l.pastDuration));let b=(0,E.useCallback)(t=>{p(t)},[p]),x=t=>{let r=(0,iX.Ib)(t);return((r.seconds??0)+(r.minutes??0)*60+(r.hours??0)*3600+(r.days??0)*86400+(r.weeks??0)*604800+(r.months??0)*2629746+(r.years??0)*0x1e18558)*1e3},w=()=>{let t,r,n;let i=new Date;return Object.hasOwn(l,"start")?(n=(l.end.getTime()-l.start.getTime())/2,t=new Date(l.start.getTime()-n),r=new Date(l.end.getTime()+n)):(n=x(l.pastDuration)/2,t=new Date((r=void 0===l.end?i:new Date(l.end.getTime()+n)).getTime()-4*n)),r.getTime()>i.getTime()&&(r=i,t.setTime(i.getTime()-4*n)),1>t.getTime()&&t.setTime(1),{start:t,end:r}},j=()=>{let t,r;if(Object.hasOwn(l,"start")){let n=(l.end.getTime()-l.start.getTime())/4;t=new Date(l.start.getTime()+n),r=new Date(l.end.getTime()-n)}else{let n=x(l.pastDuration)/4;t=new Date((r=void 0!==l.end?new Date(l.end.getTime()-n):new Date).getTime()-2*n)}return t.getTime()>=r.getTime()-1e3&&t.setTime(r.getTime()-1e3),{start:t,end:r}};return(0,m.jsxs)(_.Z,{direction:"row",spacing:1,children:[r&&(0,m.jsx)(g.TimeRangeSelector,{timeOptions:y,value:l,onChange:u,height:v,showCustomTimeRange:f}),h&&(0,m.jsx)(g.InfoTooltip,{description:i0.zoomOut,children:(0,m.jsx)(g.ToolbarIconButton,{"aria-label":i0.zoomOut,onClick:()=>u(w()),sx:{height:v},children:(0,m.jsx)(iY.default,{})})}),h&&(0,m.jsx)(g.InfoTooltip,{description:i0.zoomIn,children:(0,m.jsx)(g.ToolbarIconButton,{"aria-label":i0.zoomIn,onClick:()=>u(j()),sx:{height:v},children:(0,m.jsx)(iJ.default,{})})}),n&&(0,m.jsx)(g.InfoTooltip,{description:i0.refresh,children:(0,m.jsx)(g.ToolbarIconButton,{"aria-label":i0.refresh,onClick:d,sx:{height:v},children:(0,m.jsx)(iK.default,{})})}),i&&(0,m.jsx)(g.InfoTooltip,{description:i0.refreshInterval,children:(0,m.jsx)(g.RefreshIntervalPicker,{timeOptions:aa,value:c,onChange:b,height:v})})]})}function as(t,r){let n=[],i=new Set;for(let a of t){let t=a.value.matchAll(r),o="";for(let r of t)for(let t=1;t<r.length;t++){let n=r[t];void 0!==n&&(o=`${o}${n}`)}""===o||i.has(o)||(i.add(o),n.push({label:a.label,value:o}))}return n}function al(t){let{data:r}=r3("Variable",t.spec.plugin.kind),n=nm(),i=nD(),{absoluteTimeRange:a,refreshKey:o}=i9(),s=t.spec.plugin.spec,l=void 0!==t.spec.capturingRegexp?RegExp(t.spec.capturingRegexp,"g"):void 0,u=Object.keys(i);if(r?.dependsOn){let t=r.dependsOn(s,{timeRange:a,datasourceStore:n,variables:i});u=t.variables?t.variables:u}let d=nD(u=u.filter(r=>r!==t.spec.name)),c=!1;return u&&(c=u.some(t=>d[t]?.loading)),r0({queryKey:[t,au(d),a,o],queryFn:async()=>{let t=await r?.getVariableOptions(s,{datasourceStore:n,variables:d,timeRange:a});return void 0===t?[]:l?as(t.data,l):t.data},enabled:!!r||c})}function au(t){return Object.values(t).map(t=>JSON.stringify(t.value)).join(",")}let ad=[{label:"List",kind:"ListVariable"},{label:"Text",kind:"TextVariable"}];var ac=n(70313),ap=n(84954),af=n(315),ah=n(50898),am=n(60993);function ag(t){let{values:r,onRefresh:n,isLoading:i,error:a}=t,[o,s]=(0,E.useState)(50),{infoSnackbar:l}=(0,g.useSnackbar)(),u=0;return r&&r?.length>0&&o&&(u=r.length-o),(0,m.jsxs)(w.Z,{children:[(0,m.jsxs)(_.Z,{direction:"row",spacing:1,alignItems:"center",mb:1,children:[(0,m.jsx)(j.Z,{variant:"h4",children:"Preview Values"}),n&&(0,m.jsx)(g.InfoTooltip,{description:i0.refreshVariableValues,children:(0,m.jsx)(nf.Z,{onClick:n,size:"small",children:(0,m.jsx)(iK.default,{})})}),(0,m.jsx)(g.InfoTooltip,{description:i0.copyVariableValues,children:(0,m.jsx)(nf.Z,{onClick:async()=>{r?.length&&(await navigator.clipboard.writeText(r.map(t=>t).join(", ")),l("Preview values copied to clipboard!"))},size:"small",children:(0,m.jsx)(am.default,{})})})]}),(0,m.jsx)(ap.Z,{variant:"outlined",children:(0,m.jsxs)(w.Z,{sx:{display:"flex",flexWrap:"wrap",gap:1,m:2},children:[a&&(0,m.jsx)(af.Z,{severity:"error",children:a}),r?.length===0&&(0,m.jsx)(af.Z,{severity:"info",children:"No results"}),i&&(0,m.jsx)(_.Z,{width:"100%",sx:{alignItems:"center",justifyContent:"center"},children:(0,m.jsx)(ah.Z,{})}),r?.slice(0,o).map((t,r)=>m.jsx(np.Z,{size:"small",label:t},r)),u>0&&(0,m.jsx)(np.Z,{onClick:()=>{s(void 0)},variant:"outlined",size:"small",label:`+${u} more`})]})})]})}function ay(t){let{definition:r,onRefresh:n}=t,{data:i,isFetching:a,error:o}=al(r),s=o?.message;return(0,m.jsx)(ag,{values:i?.map(t=>t.value)||[],onRefresh:n,isLoading:a,error:s})}function av(){return(0,m.jsx)("div",{children:"Error previewing values"})}function ab({action:t,control:r}){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(j.Z,{py:1,variant:"subtitle1",children:"Text Options"}),(0,m.jsxs)(_.Z,{spacing:2,children:[(0,m.jsx)(A.Controller,{control:r,name:"spec.value",render:({field:r,fieldState:n})=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(w.Z,{children:(0,m.jsx)(ag,{values:[r.value]})}),(0,m.jsx)(C.Z,{...r,label:"Value",InputLabelProps:{shrink:"read"===t||void 0},InputProps:{readOnly:"read"===t},error:!!n.error,helperText:n.error?.message,value:r.value??"",onChange:t=>{r.onChange(t)}})]})}),(0,m.jsx)(A.Controller,{control:r,name:"spec.constant",render:({field:r})=>(0,m.jsx)(O.Z,{label:"Constant",control:(0,m.jsx)(k.Z,{...r,checked:!!r.value,readOnly:"read"===t,value:r.value??!1,onChange:n=>{"read"!==t&&r.onChange(n)}})})})]})]})}function ax({action:t,control:r}){let n=(0,A.useFormContext)(),[i,a]=(0,E.useState)(n.getValues()),o=()=>{a(n.getValues())},s=(0,A.useWatch)({control:r,name:"spec.plugin"}),l=s?.kind,u=s?.spec,d=(0,A.useWatch)({control:r,name:"spec.allowAllValue"}),c=n.getValues();return void 0===c.spec.allowAllValue&&n.setValue("spec.allowAllValue",!1),void 0===c.spec.allowMultiple&&n.setValue("spec.allowMultiple",!1),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(j.Z,{py:1,variant:"subtitle1",children:"List Options"}),(0,m.jsxs)(_.Z,{spacing:2,mb:2,children:[l?(0,m.jsx)(w.Z,{children:(0,m.jsx)(g.ErrorBoundary,{FallbackComponent:av,resetKeys:[i],children:(0,m.jsx)(ay,{definition:i,onRefresh:o})})}):(0,m.jsx)(ag,{isLoading:!0}),(0,m.jsxs)(_.Z,{children:[(0,m.jsx)(ac.d,{onClickAway:()=>o(),children:(0,m.jsx)(w.Z,{})}),(0,m.jsx)(g.ErrorBoundary,{FallbackComponent:g.ErrorAlert,children:(0,m.jsx)(A.Controller,{control:r,name:"spec.plugin",render:({field:r})=>(0,m.jsx)(ns,{width:"100%",pluginTypes:["Variable"],pluginKindLabel:"Source",value:{selection:{type:"Variable",kind:l??"StaticListVariable"},spec:u??{values:[]}},isReadonly:"read"===t,onChange:t=>{r.onChange({kind:t.selection.kind,spec:t.spec})}})})})]}),(0,m.jsx)(_.Z,{children:(0,m.jsx)(A.Controller,{control:r,name:"spec.capturingRegexp",render:({field:r,fieldState:n})=>(0,m.jsx)(C.Z,{...r,label:"Capturing Regexp Filter",InputLabelProps:{shrink:"read"===t||void 0},InputProps:{readOnly:"read"===t},error:!!n.error,value:r.value??"",onChange:t=>{""===t.target.value?r.onChange(void 0):r.onChange(t)},helperText:n.error?.message?n.error.message:"Optional, if you want to filter on captured result."})})}),(0,m.jsx)(_.Z,{children:(0,m.jsx)(A.Controller,{control:r,name:"spec.sort",render:({field:r,fieldState:n})=>(0,m.jsxs)(C.Z,{select:!0,...r,fullWidth:!0,label:"Sort",InputLabelProps:{shrink:"read"===t||void 0},InputProps:{readOnly:"read"===t},error:!!n.error,helperText:n.error?.message,value:r.value??"none",onChange:t=>{r.onChange(t)},children:[(0,m.jsx)(t5.Z,{value:"none",children:"None"}),(0,m.jsx)(t5.Z,{value:"alphabetical-asc",children:"Alphabetical, asc"}),(0,m.jsx)(t5.Z,{value:"alphabetical-desc",children:"Alphabetical, desc"}),(0,m.jsx)(t5.Z,{value:"numerical-asc",children:"Numerical, asc"}),(0,m.jsx)(t5.Z,{value:"numerical-desc",children:"Numerical, desc"}),(0,m.jsx)(t5.Z,{value:"alphabetical-ci-asc",children:"Alphabetical, case-insensitive, asc"}),(0,m.jsx)(t5.Z,{value:"alphabetical-ci-desc",children:"Alphabetical, case-insensitive, desc"})]})})})]}),(0,m.jsx)(P.Z,{}),(0,m.jsx)(j.Z,{py:1,variant:"subtitle1",children:"Dropdown Options"}),(0,m.jsxs)(_.Z,{spacing:"2",children:[(0,m.jsxs)(_.Z,{children:[(0,m.jsx)(A.Controller,{control:r,name:"spec.allowMultiple",render:({field:r})=>(0,m.jsx)(O.Z,{label:"Allow Multiple Values",control:(0,m.jsx)(k.Z,{...r,checked:!!r.value,readOnly:"read"===t,value:r.value??!1,onChange:n=>{"read"!==t&&r.onChange(n)}})})}),(0,m.jsx)(j.Z,{variant:"caption",children:"Enables multiple values to be selected at the same time"})]}),(0,m.jsxs)(_.Z,{children:[(0,m.jsx)(A.Controller,{control:r,name:"spec.allowAllValue",render:({field:r})=>(0,m.jsx)(O.Z,{label:"Allow All option",control:(0,m.jsx)(k.Z,{...r,checked:!!r.value,readOnly:"read"===t,value:r.value??!1,onChange:n=>{"read"!==t&&r.onChange(n)}})})}),(0,m.jsx)(j.Z,{mb:1,variant:"caption",children:"Enables an option to include all variable values"}),d&&(0,m.jsx)(A.Controller,{control:r,name:"spec.customAllValue",render:({field:r,fieldState:n})=>(0,m.jsx)(C.Z,{...r,fullWidth:!0,label:"Custom All Value",InputLabelProps:{shrink:"read"===t||void 0},InputProps:{readOnly:"read"===t},error:!!n.error,helperText:n.error?.message?n.error.message:"When All is selected, this value will be used",value:r.value??"",onChange:t=>{""===t.target.value?r.onChange(void 0):r.onChange(t)}})})]})]})]})}function aw({initialVariableDefinition:t,action:r,isDraft:n,isReadonly:i,onActionChange:a,onSave:o,onClose:s,onDelete:l}){let[u,d]=(0,E.useState)(!1),c=t9(r,n),p=t3(r,n),{variableEditorSchema:f}=t2(),h=(0,A.useForm)({resolver:(0,x.F)(f),mode:"onBlur",defaultValues:t}),y=(0,A.useWatch)({control:h.control,name:"kind"});function v(t){let r={...t};return r.spec.display?.name===void 0&&r.spec.display?.description===void 0&&r.spec.display?.hidden===void 0&&delete r.spec.display,r}return(0,m.jsxs)(A.FormProvider,{...h,children:[(0,m.jsxs)(w.Z,{sx:{display:"flex",alignItems:"center",padding:t=>t.spacing(1,2),borderBottom:t=>`1px solid ${t.palette.divider}`},children:[(0,m.jsxs)(j.Z,{variant:"h2",children:[c," Variable"]}),(0,m.jsx)(g.FormActions,{action:r,submitText:p,isReadonly:i,isValid:h.formState.isValid,onActionChange:a,onSubmit:h.handleSubmit(t=>{o(v(t))}),onDelete:l,onCancel:function(){JSON.stringify(t)!==JSON.stringify(v(h.getValues()))?d(!0):s()}})]}),(0,m.jsxs)(w.Z,{padding:2,sx:{overflowY:"scroll"},children:[(0,m.jsxs)(S.ZP,{container:!0,spacing:2,mb:2,children:[(0,m.jsx)(S.ZP,{item:!0,xs:8,children:(0,m.jsx)(A.Controller,{control:h.control,name:"spec.name",render:({field:t,fieldState:i})=>(0,m.jsx)(C.Z,{...t,required:!0,fullWidth:!0,label:"Name",InputLabelProps:{shrink:"read"===r||void 0},InputProps:{disabled:"update"===r&&!n,readOnly:"read"===r},error:!!i.error,helperText:i.error?.message,value:t.value??"",onChange:r=>{t.onChange(r)}})})}),(0,m.jsx)(S.ZP,{item:!0,xs:4,children:(0,m.jsx)(A.Controller,{control:h.control,name:"spec.display.name",render:({field:t,fieldState:n})=>(0,m.jsx)(C.Z,{...t,fullWidth:!0,label:"Display Label",InputLabelProps:{shrink:"read"===r||void 0},InputProps:{readOnly:"read"===r},error:!!n.error,helperText:n.error?.message,value:t.value??"",onChange:r=>{t.onChange(r)}})})}),(0,m.jsx)(S.ZP,{item:!0,xs:8,children:(0,m.jsx)(A.Controller,{control:h.control,name:"spec.display.description",render:({field:t,fieldState:n})=>(0,m.jsx)(C.Z,{...t,fullWidth:!0,label:"Description",InputLabelProps:{shrink:"read"===r||void 0},InputProps:{readOnly:"read"===r},error:!!n.error,helperText:n.error?.message,value:t.value??"",onChange:r=>{t.onChange(r)}})})}),(0,m.jsx)(S.ZP,{item:!0,xs:4,children:(0,m.jsx)(A.Controller,{control:h.control,name:"kind",render:({field:t,fieldState:n})=>(0,m.jsx)(C.Z,{select:!0,...t,fullWidth:!0,label:"Type",InputLabelProps:{shrink:"read"===r||void 0},InputProps:{readOnly:"read"===r},error:!!n.error,helperText:n.error?.message,value:t.value??"TextVariable",onChange:r=>{t.onChange(r)},children:ad.map(t=>(0,m.jsx)(t5.Z,{value:t.kind,children:t.label},t.kind))})})})]}),(0,m.jsx)(P.Z,{}),"TextVariable"===y&&(0,m.jsx)(g.ErrorBoundary,{FallbackComponent:g.ErrorAlert,children:(0,m.jsx)(ab,{action:r,control:h.control})}),"ListVariable"===y&&(0,m.jsx)(g.ErrorBoundary,{FallbackComponent:g.ErrorAlert,children:(0,m.jsx)(ax,{action:r,control:h.control})})]}),(0,m.jsx)(g.DiscardChangesConfirmationDialog,{description:"Are you sure you want to discard these changes? Changes cannot be recovered.",isOpen:u,onCancel:()=>{d(!1)},onDiscardChanges:()=>{d(!1),s()}})]})}var aj=n(63767);async function aS(...t){let r=await n.g.fetch(...t);if(!1===r.ok){let t=r.headers.get("content-type");if(t?.includes("application/json")){let t=await r.json();if(t.error)throw new aO(t.error,r.status);if(t.message)throw new aO(t.message,r.status)}let n=await r.text();if(n)throw new aO(n,r.status);throw new a_(r)}return r}async function aC(...t){let r=await aS(...t);return await r.json()}class a_ extends Error{status;constructor(t){super(`${t.status} ${t.statusText}`),this.status=t.status,Object.setPrototypeOf(this,a_.prototype)}}class aO extends Error{status;constructor(t,r){super(t),this.status=r,Object.setPrototypeOf(this,aO.prototype)}}var ak=n(51564);let aP=(0,E.createContext)(void 0);function aE(){return r0({queryKey:["projects"],queryFn:()=>aC("/api/v1/projects")})}function aD(){let t=(0,E.useContext)(aP);if(void 0===t)throw Error("No ProjectStoreContext found. Did you forget a Provider?");return t}function aA(t){let{children:r,enabledURLParams:n}=t,{project:i,setProject:a}=function(t=!0){let[r,n]=(0,ak.useQueryParams)({project:""},{updateType:"replaceIn"}),[i,a]=(0,E.useState)("none"),o=(0,E.useCallback)(t=>n({project:t}),[n]);return t?{project:r.project||"none",setProject:o}:{project:i,setProject:a}}(n),o=(0,E.useMemo)(()=>({project:{kind:"Project",metadata:{name:i}},setProject:t=>{a(t.metadata.name)}}),[i,a]);return(0,m.jsx)(aP.Provider,{value:o,children:r})}function aR(t){let{onChange:r,value:n,...i}=t,{data:a,isLoading:o}=aE(),s=o?"":n.metadata.name??"none";return(0,m.jsxs)(aj.Z,{...i,value:s,onChange:t=>{r({kind:"Project",metadata:{name:t.target.value},spec:{}})},children:[(0,m.jsx)(t5.Z,{value:"none",children:(0,m.jsx)(_.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",width:"100%",height:32,children:(0,m.jsx)(nc.Z,{children:"None"})})}),a?.map(t=>[m.jsx(t5.Z,{value:t.metadata.name,children:m.jsx(_.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",width:"100%",height:32,children:m.jsx(nc.Z,{children:t.metadata.name})})},t.metadata.name)])]})}let aM=({value:t,onChange:r})=>(0,m.jsx)(g.OptionsEditorControl,{label:"Metric label",description:"Specify label to display",control:(0,m.jsx)(C.Z,{fullWidth:!0,name:"Metric label",value:t||"",onChange:t=>{r(t.target.value||void 0)}})});function aT(t){let r=new Map(t.map(t=>[t.resource,t.importPlugin]));return{getInstalledPlugins:async()=>Promise.resolve(Array.from(r.keys())),importPluginModule(t){let n=r.get(t);if(void 0===n)throw Error("Plugin not found");return n()}}}function aZ(t){return!t||"string"==typeof t&&(0,iX.fs)(t)?t:(1e3*(0,i1.getUnixTime)(t)).toString()}function aI(t){let r=function(t,r){if(!t||0===t.length)return null;let n=t instanceof Array?t[0]:t;return null==n?n:""!==n?n:null}(t);return r?(0,iX.fs)(r)?r:new Date(Number(r)):null}let aV={encode:aZ,decode:aI,equals:(t,r)=>t===r||(t&&r?t.valueOf()===r.valueOf():t===r)},aN={start:aV,end:aV},aL={refresh:aV};function aF(t){let[r]=(0,ak.useQueryParams)(aN,{updateType:"replaceIn"}),{start:n,end:i}=r;return(0,E.useMemo)(()=>{let r={pastDuration:t};if(!n)return r;let a=n.toString();return(0,iX.fs)(a)?r={pastDuration:a}:(0,i1.isDate)(n)&&(0,i1.isDate)(i)&&(r={start:n,end:i}),r},[n,i,t])}function a$(t){let[r,n]=(0,ak.useQueryParams)(aN,{updateType:"replaceIn"}),[i,a]=(0,E.useState)(!1),{start:o}=r;return(0,E.useEffect)(()=>{!i&&!o&&(0,iX.s3)(t)&&(n({start:t.pastDuration,end:void 0}),a(!0))},[t,i,o,n]),{timeRange:t,setTimeRange:(0,E.useCallback)(t=>{(0,iX.s3)(t)?n({start:t.pastDuration,end:void 0}):n(t)},[n])}}function az(t){let[r]=(0,ak.useQueryParams)(aL,{updateType:"replaceIn"}),{refresh:n}=r;return(0,E.useMemo)(()=>{let r=t;if(!n)return r;let i=n.toString();return(0,iX.fs)(i)&&(r=i),r},[t,n])}function aH(t){let[r,n]=(0,ak.useQueryParams)(aL,{updateType:"replaceIn"}),[i,a]=(0,E.useState)(!1),{refresh:o}=r;return(0,E.useEffect)(()=>{i||o||(n({refresh:t}),a(!0))},[t,i,o,n]),{refreshInterval:t,setRefreshInterval:(0,E.useCallback)(t=>n({refresh:t}),[n])}}function aB(t){let{initialTimeRange:r,initialRefreshInterval:n,children:i}=t,{timeRange:a,setTimeRange:o}=a$(r),{refreshInterval:s,setRefreshInterval:l}=aH(n);return(0,m.jsx)(i5,{timeRange:a,refreshInterval:s,setTimeRange:o,setRefreshInterval:l,children:i})}function aq(t,r){return r?Object.fromEntries(Object.entries(t).filter(([t])=>r.includes(t))):t}function aW(t){return Object.values(t).map(t=>JSON.stringify(t.value)).join(",")}let aU="TimeSeriesQuery";function aG({plugin:t,definition:r,context:n}){let{timeRange:i,datasourceStore:a,suggestedStepMs:o,mode:s,variableState:l,refreshKey:u}=n,d=t?.dependsOn?t.dependsOn(r.spec.plugin.spec,n):{},c=d?.variables,p=[r,i,a,o,s,aW(aq(l,c)),u],f=!1;return c&&(f=c.some(t=>l[t]?.loading)),{queryKey:p,queryEnabled:void 0!==t&&!f}}let aQ=(t,r,n)=>{let{data:i}=r3(aU,t.spec.plugin.kind),a=aJ(),{queryEnabled:o,queryKey:s}=aG({plugin:i,definition:t,context:a});return r0({enabled:(n?.enabled??!0)||o,queryKey:s,queryFn:()=>{if(void 0===i)throw Error("Expected plugin to be loaded");let n={...a,suggestedStepMs:r?.suggestedStepMs};return i.getTimeSeriesData(t.spec.plugin.spec,n)}})};function aK(t,r,n){let{getPlugin:i}=r9(),a={...aJ(),mode:r?.mode},o=r5(aU,t.map(t=>({kind:t.spec.plugin.kind})));return r2({queries:t.map((t,s)=>{let{queryEnabled:l,queryKey:u}=aG({plugin:o[s]?.data,definition:t,context:a});return{...n,enabled:(n?.enabled??!0)&&l,queryKey:u,queryFn:async()=>{let n={...a,suggestedStepMs:r?.suggestedStepMs},o=await i(aU,t.spec.plugin.kind);return await o.getTimeSeriesData(t.spec.plugin.spec,n)}}})})}function aJ(){let{absoluteTimeRange:t,refreshKey:r}=i9();return{timeRange:t,variableState:nD(),datasourceStore:nm(),refreshKey:r}}function aY(){return aX((0,r$.NL)().getQueryCache())}function aX(t){let r=[];for(let n of t.findAll({type:"active"})){let t=n.queryKey?.[0];t?.kind&&t.kind.startsWith(aU)&&r.push(n)}return r}let a0="TraceQuery";function a1(t){let{start:r,end:n}=t;return{start:Math.ceil((0,i1.getUnixTime)(r)),end:Math.ceil((0,i1.getUnixTime)(n))}}function a2(t){let{getPlugin:r}=r9(),n=function(){let{absoluteTimeRange:t}=i9();return{variableState:nD(),datasourceStore:nm(),absoluteTimeRange:t}}(),i=r5("TraceQuery",t.map(t=>({kind:t.spec.plugin.kind})));return r2({queries:t.map((t,a)=>{let{queryEnabled:o,queryKey:s}=function({plugin:t,definition:r,context:n}){let{datasourceStore:i,variableState:a,absoluteTimeRange:o}=n,s=t?.dependsOn?t.dependsOn(r.spec.plugin.spec,n):{},l=s?.variables,u=[r,i,o,aW(aq(a,l))],d=!1;return l&&(d=l.some(t=>a[t]?.loading)),{queryKey:u,queryEnabled:void 0!==t&&!d}}({context:n,definition:t,plugin:i[a]?.data}),l=t?.spec?.plugin?.kind;return{enabled:o,queryKey:s,queryFn:async()=>{let i=await r(a0,l);return await i.getTraceData(t.spec.plugin.spec,n)}}})})}let a4=(0,E.createContext)(void 0),a9=()=>(0,E.useContext)(a4),a3=()=>{let t=a9();return{markQuery:(r,n)=>{if(void 0===t)return;let i=JSON.stringify(r);if((!t.pendingQueries.has(i)||"pending"!==n)&&t.pendingQueries.get(i)!==n){t.pendingQueries.set(i,n),"error"===n&&(t.renderErrorCount+=1);let r=[...t.pendingQueries.values()].every(t=>"pending"!==t);0===t.renderDurationMs&&r&&(t.renderDurationMs=Date.now()-t.startRenderTime,a5(t))}}}},a5=async t=>{await aS("/api/v1/view",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project:t.project,dashboard:t.dashboard,render_time:t.renderDurationMs/1e3,render_errors:t.renderErrorCount})})},a8=({project:t,dashboard:r,children:n})=>{let i={project:t,dashboard:r,renderErrorCount:0,startRenderTime:Date.now(),renderDurationMs:0,pendingQueries:new Map};return(0,m.jsx)(a4.Provider,{value:i,children:n})};function a6(t,r){return t.map(({data:t,isFetching:n,isLoading:i,refetch:a,error:o},s)=>({definition:r[s],data:t,isFetching:n,isLoading:i,refetch:a,error:o}))}function a7(){let{data:t,isLoading:r}=r8(["TimeSeriesQuery"]),{data:n,isLoading:i}=r8(["TraceQuery"]),a=(0,E.useMemo)(()=>{let r={TimeSeriesQuery:[],TraceQuery:[]};return t&&t.forEach(t=>{r[t.kind]?.push(t.spec.name)}),n&&n.forEach(t=>{r[t.kind]?.push(t.spec.name)}),r},[t,n]);return(0,E.useCallback)(t=>{if(!(t=>{switch(t){case"PrometheusTimeSeriesQuery":return r;case"TempoTraceQuery":return i}return i||r})(t)){for(let r in a)if(a[r]?.includes(t))return r;throw Error(`Unable to determine the query type: ${t}`)}},[a,r,i])}let oe=(0,E.createContext)(void 0);function ot(){let t=(0,E.useContext)(oe);if(void 0===t)throw Error("No DataQueriesContext found. Did you forget a Provider?");return t}function or(t){let r=ot(),n=r.queryResults.filter(r=>r?.definition?.kind===t),i=r.errors.filter((n,i)=>r.queryResults[i]?.definition?.kind===t);return{queryResults:n,isFetching:n.some(t=>t.isFetching),isLoading:n.some(t=>t.isLoading),refetchAll:r.refetchAll,errors:i}}function on(t){let{definitions:r,options:n,children:i,queryOptions:a}=t,o=a7(),s=r.map(t=>({kind:o(t.kind),spec:{plugin:t}})),l=a3(),u=s.filter(t=>"TimeSeriesQuery"===t.kind),d=aK(u,n,a),c=s.filter(t=>"TraceQuery"===t.kind),p=a2(c),f=(0,E.useCallback)(()=>{d.forEach(t=>t.refetch()),p.forEach(t=>t.refetch())},[d,p]),h=(0,E.useMemo)(()=>{let t=[...a6(d,u),...a6(p,c)];if(a?.enabled)for(let r of t)r.isLoading||r.isFetching||r.error?r.error?l.markQuery(r.definition,"error"):l.markQuery(r.definition,"pending"):l.markQuery(r.definition,"success");return{queryResults:t,isFetching:t.some(t=>t.isFetching),isLoading:t.some(t=>t.isLoading),refetchAll:f,errors:t.map(t=>t.error)}},[u,d,c,p,f,a?.enabled,l]);return(0,m.jsx)(oe.Provider,{value:h,children:i})}function oi(...t){let r={kind:"PluginModule",metadata:{name:"Fake Plugin Module for Tests",version:"0"},spec:{plugins:t.map(({kind:t,spec:{name:r}})=>({kind:t,spec:{name:r,display:{name:oa(t,r)}}}))}},n={};for(let r of t)n[r.spec.name]=r.plugin;return{pluginLoader:{getInstalledPlugins:()=>Promise.resolve([r]),importPluginModule:()=>Promise.resolve(n)},defaultPluginKinds:{TimeSeriesQuery:"PrometheusTimeSeriesQuery"}}}function oa(t,r){return`${t} Plugin for ${r}`}var oo=n(82749);let os=console;class ol{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),t7(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,null!=t?t:t8?1/0:3e5)}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class ou extends ol{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||os,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||function(t){let r="function"==typeof t.initialData?t.initialData():t.initialData,n=void 0!==r,i=n?"function"==typeof t.initialDataUpdatedAt?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:n?null!=i?i:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)}setData(t,r){let n=rx(this.state.data,t,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:null==r?void 0:r.updatedAt,manual:null==r?void 0:r.manual}),n}setState(t,r){this.dispatch({type:"setState",state:t,setStateOptions:r})}cancel(t){var r;let n=this.promise;return null==(r=this.retryer)||r.cancel(t),n?n.then(t6).catch(t6):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(t=>!1!==t.options.enabled)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!rt(this.state.dataUpdatedAt,t)}onFocus(){var t;let r=this.observers.find(t=>t.shouldFetchOnWindowFocus());r&&r.refetch({cancelRefetch:!1}),null==(t=this.retryer)||t.continue()}onOnline(){var t;let r=this.observers.find(t=>t.shouldFetchOnReconnect());r&&r.refetch({cancelRefetch:!1}),null==(t=this.retryer)||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,r){var n,i,a,o;if("idle"!==this.state.fetchStatus){if(this.state.dataUpdatedAt&&null!=r&&r.cancelRefetch)this.cancel({silent:!0});else if(this.promise)return null==(a=this.retryer)||a.continueRetry(),this.promise}if(t&&this.setOptions(t),!this.options.queryFn){let t=this.observers.find(t=>t.options.queryFn);t&&this.setOptions(t.options)}let s=function(){if("function"==typeof AbortController)return new AbortController}(),l={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},u=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>{if(s)return this.abortSignalConsumed=!0,s.signal}})};u(l);let d={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(l)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'")};u(d),null==(n=this.options.behavior)||n.onFetch(d),this.revertState=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(i=d.fetchOptions)?void 0:i.meta))&&this.dispatch({type:"fetch",meta:null==(o=d.fetchOptions)?void 0:o.meta});let c=t=>{if(rE(t)&&t.silent||this.dispatch({type:"error",error:t}),!rE(t)){var r,n,i,a;null==(r=(n=this.cache.config).onError)||r.call(n,t,this),null==(i=(a=this.cache.config).onSettled)||i.call(a,this.state.data,t,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=rD({fn:d.fetchFn,abort:null==s?void 0:s.abort.bind(s),onSuccess:t=>{var r,n,i,a;if(void 0===t){c(Error(this.queryHash+" data is undefined"));return}this.setData(t),null==(r=(n=this.cache.config).onSuccess)||r.call(n,t,this),null==(i=(a=this.cache.config).onSettled)||i.call(a,t,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:c,onFail:(t,r)=>{this.dispatch({type:"failed",failureCount:t,error:r})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){this.state=(r=>{var n,i;switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(n=t.meta)?n:null,fetchStatus:rk(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:null!=(i=t.dataUpdatedAt)?i:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let a=t.error;if(rE(a)&&a.revert&&this.revertState)return{...this.revertState,fetchStatus:"idle"};return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}})(this.state),rw.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(t)}),this.cache.notify({query:this,type:"updated",action:t})})}}class od extends rj{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,r,n){var i;let a=r.queryKey,o=null!=(i=r.queryHash)?i:rl(a,r),s=this.get(o);return s||(s=new ou({cache:this,logger:t.getLogger(),queryKey:a,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(s)),s}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){let r=this.queriesMap[t.queryHash];r&&(t.destroy(),this.queries=this.queries.filter(r=>r!==t),r===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){rw.batch(()=>{this.queries.forEach(t=>{this.remove(t)})})}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,r){let[n]=ri(t,r);return void 0===n.exact&&(n.exact=!0),this.queries.find(t=>ro(n,t))}findAll(t,r){let[n]=ri(t,r);return Object.keys(n).length>0?this.queries.filter(t=>ro(n,t)):this.queries}notify(t){rw.batch(()=>{this.listeners.forEach(({listener:r})=>{r(t)})})}onFocus(){rw.batch(()=>{this.queries.forEach(t=>{t.onFocus()})})}onOnline(){rw.batch(()=>{this.queries.forEach(t=>{t.onOnline()})})}}class oc extends ol{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||os,this.observers=[],this.state=t.state||op(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter(r=>r!==t),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||("loading"===this.state.status?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,r;return null!=(t=null==(r=this.retryer)?void 0:r.continue())?t:this.execute()}async execute(){var t,r,n,i,a,o,s,l,u,d,c,p,f,h,m,g,y,v,b,x;let w="loading"===this.state.status;try{if(!w){this.dispatch({type:"loading",variables:this.options.variables}),await (null==(u=(d=this.mutationCache.config).onMutate)?void 0:u.call(d,this.state.variables,this));let t=await (null==(c=(p=this.options).onMutate)?void 0:c.call(p,this.state.variables));t!==this.state.context&&this.dispatch({type:"loading",context:t,variables:this.state.variables})}let f=await (()=>{var t;return this.retryer=rD({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(t,r)=>{this.dispatch({type:"failed",failureCount:t,error:r})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:null!=(t=this.options.retry)?t:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise})();return await (null==(t=(r=this.mutationCache.config).onSuccess)?void 0:t.call(r,f,this.state.variables,this.state.context,this)),await (null==(n=(i=this.options).onSuccess)?void 0:n.call(i,f,this.state.variables,this.state.context)),await (null==(a=(o=this.mutationCache.config).onSettled)?void 0:a.call(o,f,null,this.state.variables,this.state.context,this)),await (null==(s=(l=this.options).onSettled)?void 0:s.call(l,f,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:f}),f}catch(t){try{throw await (null==(f=(h=this.mutationCache.config).onError)?void 0:f.call(h,t,this.state.variables,this.state.context,this)),await (null==(m=(g=this.options).onError)?void 0:m.call(g,t,this.state.variables,this.state.context)),await (null==(y=(v=this.mutationCache.config).onSettled)?void 0:y.call(v,void 0,t,this.state.variables,this.state.context,this)),await (null==(b=(x=this.options).onSettled)?void 0:b.call(x,void 0,t,this.state.variables,this.state.context)),t}finally{this.dispatch({type:"error",error:t})}}}dispatch(t){this.state=(r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!rk(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...r,...t.state}}})(this.state),rw.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(t)}),this.mutationCache.notify({mutation:this,type:"updated",action:t})})}}function op(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class of extends rj{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,r,n){let i=new oc({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(r),state:n,defaultOptions:r.mutationKey?t.getMutationDefaults(r.mutationKey):void 0});return this.add(i),i}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter(r=>r!==t),this.notify({type:"removed",mutation:t})}clear(){rw.batch(()=>{this.mutations.forEach(t=>{this.remove(t)})})}getAll(){return this.mutations}find(t){return void 0===t.exact&&(t.exact=!0),this.mutations.find(r=>rs(t,r))}findAll(t){return this.mutations.filter(r=>rs(t,r))}notify(t){rw.batch(()=>{this.listeners.forEach(({listener:r})=>{r(t)})})}resumePausedMutations(){var t;return this.resuming=(null!=(t=this.resuming)?t:Promise.resolve()).then(()=>{let t=this.mutations.filter(t=>t.state.isPaused);return rw.batch(()=>t.reduce((t,r)=>t.then(()=>r.continue().catch(t6)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function oh(){return{onFetch:t=>{t.fetchFn=()=>{var r,n,i,a,o,s;let l;let u=null==(r=t.fetchOptions)?void 0:null==(n=r.meta)?void 0:n.refetchPage,d=null==(i=t.fetchOptions)?void 0:null==(a=i.meta)?void 0:a.fetchMore,c=null==d?void 0:d.pageParam,p=(null==d?void 0:d.direction)==="forward",f=(null==d?void 0:d.direction)==="backward",h=(null==(o=t.state.data)?void 0:o.pages)||[],m=(null==(s=t.state.data)?void 0:s.pageParams)||[],g=m,y=!1,v=r=>{Object.defineProperty(r,"signal",{enumerable:!0,get:()=>{var r,n;return null!=(r=t.signal)&&r.aborted?y=!0:null==(n=t.signal)||n.addEventListener("abort",()=>{y=!0}),t.signal}})},b=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),x=(t,r,n,i)=>(g=i?[r,...g]:[...g,r],i?[n,...t]:[...t,n]),w=(r,n,i,a)=>{if(y)return Promise.reject("Cancelled");if(void 0===i&&!n&&r.length)return Promise.resolve(r);let o={queryKey:t.queryKey,pageParam:i,meta:t.options.meta};return v(o),Promise.resolve(b(o)).then(t=>x(r,i,t,a))};if(h.length){if(p){let r=void 0!==c,n=r?c:om(t.options,h);l=w(h,r,n)}else if(f){let r=void 0!==c,n=r?c:og(t.options,h);l=w(h,r,n,!0)}else{g=[];let r=void 0===t.options.getNextPageParam;l=!u||!h[0]||u(h[0],0,h)?w([],r,m[0]):Promise.resolve(x([],m[0],h[0]));for(let n=1;n<h.length;n++)l=l.then(i=>{if(!u||!h[n]||u(h[n],n,h)){let a=r?m[n]:om(t.options,i);return w(i,r,a)}return Promise.resolve(x(i,m[n],h[n]))})}}else l=w([]);return l.then(t=>({pages:t,pageParams:g}))}}}}function om(t,r){return null==t.getNextPageParam?void 0:t.getNextPageParam(r[r.length-1],r)}function og(t,r){return null==t.getPreviousPageParam?void 0:t.getPreviousPageParam(r[0],r)}class oy{constructor(t={}){this.queryCache=t.queryCache||new od,this.mutationCache=t.mutationCache||new of,this.logger=t.logger||os,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,1===this.mountCount&&(this.unsubscribeFocus=rS.subscribe(()=>{rS.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=r_.subscribe(()=>{r_.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var t,r;this.mountCount--,0===this.mountCount&&(null==(t=this.unsubscribeFocus)||t.call(this),this.unsubscribeFocus=void 0,null==(r=this.unsubscribeOnline)||r.call(this),this.unsubscribeOnline=void 0)}isFetching(t,r){let[n]=ri(t,r);return n.fetchStatus="fetching",this.queryCache.findAll(n).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,r){var n;return null==(n=this.queryCache.find(t,r))?void 0:n.state.data}ensureQueryData(t,r,n){let i=rr(t,r,n),a=this.getQueryData(i.queryKey);return a?Promise.resolve(a):this.fetchQuery(i)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:t,state:r})=>[t,r.data])}setQueryData(t,r,n){let i=this.queryCache.find(t),a=null==i?void 0:i.state.data,o="function"==typeof r?r(a):r;if(void 0===o)return;let s=rr(t),l=this.defaultQueryOptions(s);return this.queryCache.build(this,l).setData(o,{...n,manual:!0})}setQueriesData(t,r,n){return rw.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:t})=>[t,this.setQueryData(t,r,n)]))}getQueryState(t,r){var n;return null==(n=this.queryCache.find(t,r))?void 0:n.state}removeQueries(t,r){let[n]=ri(t,r),i=this.queryCache;rw.batch(()=>{i.findAll(n).forEach(t=>{i.remove(t)})})}resetQueries(t,r,n){let[i,a]=ri(t,r,n),o=this.queryCache,s={type:"active",...i};return rw.batch(()=>(o.findAll(i).forEach(t=>{t.reset()}),this.refetchQueries(s,a)))}cancelQueries(t,r,n){let[i,a={}]=ri(t,r,n);return void 0===a.revert&&(a.revert=!0),Promise.all(rw.batch(()=>this.queryCache.findAll(i).map(t=>t.cancel(a)))).then(t6).catch(t6)}invalidateQueries(t,r,n){let[i,a]=ri(t,r,n);return rw.batch(()=>{var t,r;if(this.queryCache.findAll(i).forEach(t=>{t.invalidate()}),"none"===i.refetchType)return Promise.resolve();let n={...i,type:null!=(t=null!=(r=i.refetchType)?r:i.type)?t:"active"};return this.refetchQueries(n,a)})}refetchQueries(t,r,n){let[i,a]=ri(t,r,n),o=Promise.all(rw.batch(()=>this.queryCache.findAll(i).filter(t=>!t.isDisabled()).map(t=>{var r;return t.fetch(void 0,{...a,cancelRefetch:null==(r=null==a?void 0:a.cancelRefetch)||r,meta:{refetchPage:i.refetchPage}})}))).then(t6);return null!=a&&a.throwOnError||(o=o.catch(t6)),o}fetchQuery(t,r,n){let i=rr(t,r,n),a=this.defaultQueryOptions(i);void 0===a.retry&&(a.retry=!1);let o=this.queryCache.build(this,a);return o.isStaleByTime(a.staleTime)?o.fetch(a):Promise.resolve(o.state.data)}prefetchQuery(t,r,n){return this.fetchQuery(t,r,n).then(t6).catch(t6)}fetchInfiniteQuery(t,r,n){let i=rr(t,r,n);return i.behavior=oh(),this.fetchQuery(i)}prefetchInfiniteQuery(t,r,n){return this.fetchInfiniteQuery(t,r,n).then(t6).catch(t6)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,r){let n=this.queryDefaults.find(r=>ru(t)===ru(r.queryKey));n?n.defaultOptions=r:this.queryDefaults.push({queryKey:t,defaultOptions:r})}getQueryDefaults(t){if(!t)return;let r=this.queryDefaults.find(r=>rd(t,r.queryKey));return null==r?void 0:r.defaultOptions}setMutationDefaults(t,r){let n=this.mutationDefaults.find(r=>ru(t)===ru(r.mutationKey));n?n.defaultOptions=r:this.mutationDefaults.push({mutationKey:t,defaultOptions:r})}getMutationDefaults(t){if(!t)return;let r=this.mutationDefaults.find(r=>rd(t,r.mutationKey));return null==r?void 0:r.defaultOptions}defaultQueryOptions(t){if(null!=t&&t._defaulted)return t;let r={...this.defaultOptions.queries,...this.getQueryDefaults(null==t?void 0:t.queryKey),...t,_defaulted:!0};return!r.queryHash&&r.queryKey&&(r.queryHash=rl(r.queryKey,r)),void 0===r.refetchOnReconnect&&(r.refetchOnReconnect="always"!==r.networkMode),void 0===r.useErrorBoundary&&(r.useErrorBoundary=!!r.suspense),r}defaultMutationOptions(t){return null!=t&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(null==t?void 0:t.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class ov extends rA{constructor(t,r){super(t,r)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t,r){super.setOptions({...t,behavior:oh()},r)}getOptimisticResult(t){return t.behavior=oh(),super.getOptimisticResult(t)}fetchNextPage({pageParam:t,...r}={}){return this.fetch({...r,meta:{fetchMore:{direction:"forward",pageParam:t}}})}fetchPreviousPage({pageParam:t,...r}={}){return this.fetch({...r,meta:{fetchMore:{direction:"backward",pageParam:t}}})}createResult(t,r){var n,i,a,o,s,l;let{state:u}=t,d=super.createResult(t,r),{isFetching:c,isRefetching:p}=d,f=c&&(null==(n=u.fetchMeta)?void 0:null==(i=n.fetchMore)?void 0:i.direction)==="forward",h=c&&(null==(a=u.fetchMeta)?void 0:null==(o=a.fetchMore)?void 0:o.direction)==="backward";return{...d,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:function(t,r){if(t.getNextPageParam&&Array.isArray(r)){let n=om(t,r);return null!=n&&!1!==n}}(r,null==(s=u.data)?void 0:s.pages),hasPreviousPage:function(t,r){if(t.getPreviousPageParam&&Array.isArray(r)){let n=og(t,r);return null!=n&&!1!==n}}(r,null==(l=u.data)?void 0:l.pages),isFetchingNextPage:f,isFetchingPreviousPage:h,isRefetching:p&&!f&&!h}}}class ob extends rj{constructor(t,r){super(),this.client=t,this.setOptions(r),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var r;let n=this.options;this.options=this.client.defaultMutationOptions(t),rp(n,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(r=this.currentMutation)||r.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var t;null==(t=this.currentMutation)||t.removeObserver(this)}}onMutationUpdate(t){this.updateResult();let r={listeners:!0};"success"===t.type?r.onSuccess=!0:"error"===t.type&&(r.onError=!0),this.notify(r)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,r){return this.mutateOptions=r,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:void 0!==t?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){let t=this.currentMutation?this.currentMutation.state:op(),r="loading"===t.status,n={...t,isLoading:r,isPending:r,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset};this.currentResult=n}notify(t){rw.batch(()=>{if(this.mutateOptions&&this.hasListeners()){var r,n,i,a,o,s,l,u;t.onSuccess?(null==(r=(n=this.mutateOptions).onSuccess)||r.call(n,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(i=(a=this.mutateOptions).onSettled)||i.call(a,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)):t.onError&&(null==(o=(s=this.mutateOptions).onError)||o.call(s,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(l=(u=this.mutateOptions).onSettled)||l.call(u,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context))}t.listeners&&this.listeners.forEach(({listener:t})=>{t(this.currentResult)})})}}function ox(t){return t.state.isPaused}function ow(t){return"success"===t.state.status}function oj(t,r={}){let n=[],i=[];if(!1!==r.dehydrateMutations){let i=r.shouldDehydrateMutation||ox;t.getMutationCache().getAll().forEach(t=>{if(i(t))n.push({mutationKey:t.options.mutationKey,state:t.state})})}if(!1!==r.dehydrateQueries){let n=r.shouldDehydrateQuery||ow;t.getQueryCache().getAll().forEach(t=>{if(n(t))i.push({state:t.state,queryKey:t.queryKey,queryHash:t.queryHash})})}return{mutations:n,queries:i}}function oS(t,r,n){if("object"!=typeof r||null===r)return;let i=t.getMutationCache(),a=t.getQueryCache(),o=r.mutations||[],s=r.queries||[];o.forEach(r=>{var a;i.build(t,{...null==n?void 0:null==(a=n.defaultOptions)?void 0:a.mutations,mutationKey:r.mutationKey},r.state)}),s.forEach(({queryKey:r,state:i,queryHash:o})=>{var s;let l=a.get(o);if(l){if(l.state.dataUpdatedAt<i.dataUpdatedAt){let{fetchStatus:t,...r}=i;l.setState(r)}return}a.build(t,{...null==n?void 0:null==(s=n.defaultOptions)?void 0:s.queries,queryKey:r,queryHash:o},{...i,fetchStatus:"idle"})})}function oC(t){return rX({...t,enabled:!0,useErrorBoundary:!0,suspense:!0,placeholderData:void 0,networkMode:"always"},rA)}function o_({queries:t,context:r}){return r2({queries:t.map(t=>({...t,enabled:!0,useErrorBoundary:!0,suspense:!0,placeholderData:void 0,networkMode:"always"})),context:r})}function oO(t,r={}){let n=(0,r$.NL)({context:r.context}),i=E.useRef(r);i.current=r,E.useMemo(()=>{t&&oS(n,t,i.current)},[n,t])}let ok=({children:t,options:r,state:n})=>(oO(n,r),t);function oP(t,r,n){let[i,a={}]=ri(t,r,n),o=(0,r$.NL)({context:a.context}),s=o.getQueryCache();return rI(E.useCallback(t=>s.subscribe(rw.batchCalls(t)),[s]),()=>o.isFetching(i),()=>o.isFetching(i))}function oE(t,r,n){let[i,a={}]=ra(t,r,n),o=(0,r$.NL)({context:a.context}),s=o.getMutationCache();return rI(E.useCallback(t=>s.subscribe(rw.batchCalls(t)),[s]),()=>o.isMutating(i),()=>o.isMutating(i))}function oD(t,r,n){let i=rn(t,r,n),a=(0,r$.NL)({context:i.context}),[o]=E.useState(()=>new ob(a,i));E.useEffect(()=>{o.setOptions(i)},[o,i]);let s=rI(E.useCallback(t=>o.subscribe(rw.batchCalls(t)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),l=E.useCallback((t,r)=>{o.mutate(t,r).catch(oA)},[o]);if(s.error&&rq(o.options.useErrorBoundary,[s.error]))throw s.error;return{...s,mutate:l,mutateAsync:s.mutate}}function oA(){}function oR(t,r,n){return rX(rr(t,r,n),ov)}function oM(t){return t}var oT=n(28830),oZ=n.n(oT),oI=n(65895);let oV=null,oN=()=>(null===oV&&(oV=(0,oo.init)({name:"@perses/perses-ui-host",remotes:[],shared:{react:{version:D().version,lib:()=>D(),shareConfig:{singleton:!0,requiredVersion:`^${D().version}`}},"react-dom":{version:"18.3.1",lib:()=>oZ(),shareConfig:{singleton:!0,requiredVersion:"^18.3.1"}},"react-router-dom":{version:"6.26.0",lib:()=>oI,shareConfig:{singleton:!0,requiredVersion:"^6.26.0"}},"@tanstack/react-query":{version:"4.39.1",lib:()=>h,shareConfig:{singleton:!0,requiredVersion:"^4.39.1"}},"react-hook-form":{version:"7.52.2",lib:()=>A,shareConfig:{singleton:!0,requiredVersion:"^7.52.2"}},echarts:{version:"5.5.0",lib:()=>n(30156),shareConfig:{singleton:!0,requiredVersion:"^5.5.0"}},"@perses-dev/components":{version:"0.51.0-beta.0",lib:()=>n(20370),shareConfig:{singleton:!0,requiredVersion:"^0.51.0-rc.0"}},"@perses-dev/plugin-system":{version:"0.51.0-beta.0",lib:()=>n(57751),shareConfig:{singleton:!0,requiredVersion:"^0.51.0-rc.0"}},"@perses-dev/explore":{version:"0.51.0-beta.0",lib:()=>n(73223),shareConfig:{singleton:!0,requiredVersion:"^0.51.0-rc.0"}},"@perses-dev/dashboards":{version:"0.51.0-beta.0",lib:()=>n(27284),shareConfig:{singleton:!0,requiredVersion:"^0.51.0-rc.0"}},"date-fns":{version:"4.1.0",lib:()=>n(20461),shareConfig:{singleton:!0,requiredVersion:"^4.1.0"}},"date-fns-tz":{version:"3.2.0",lib:()=>n(4665),shareConfig:{singleton:!0,requiredVersion:"^3.2.0"}},lodash:{version:"4.17.21",lib:()=>n(74614),shareConfig:{singleton:!0,requiredVersion:"^4.17.21"}},"@emotion/react":{version:"11.11.3",lib:()=>n(72116),shareConfig:{singleton:!0,requiredVersion:"^11.11.3"}},"@emotion/styled":{version:"11.11.0",lib:()=>n(55922),shareConfig:{singleton:!0,requiredVersion:"^11.11.0"}},"@hookform/resolvers/zod":{version:"3.3.4",lib:()=>n(22538),shareConfig:{singleton:!0,requiredVersion:"^3.3.4"}},"use-resize-observer":{version:"9.1.0",lib:()=>n(4338),shareConfig:{singleton:!0,requiredVersion:"^9.1.0"}},"mdi-material-ui":{version:"7.4.0",lib:()=>n(99765),shareConfig:{singleton:!0,requiredVersion:"^7.4.0"}},immer:{version:"10.1.1",lib:()=>n(96494),shareConfig:{singleton:!0,requiredVersion:"^10.1.1"}}}})),oV),oL=(t,r)=>{let n=oN();if(!n.options.remotes.find(r=>r.name===t)){let i=r?`${r}/${t}/mf-manifest.json`:`/plugins/${t}/mf-manifest.json`;n.registerRemotes([{name:t,entry:i,alias:t}])}},oF=async(t,r,n)=>(oL(t,n),(0,oo.loadRemote)(`${t}/${r}`));function o$({pluginFn:t,props:r}){return t(r)}function oz({plugin:t,props:r,field:n}){let{loadPlugin:i}=function({plugin:t}){return{pluginRuntime:oN(),loadPlugin:()=>oF(t.moduleName,t.name,t.baseURL)}}({plugin:t}),[a,o]=(0,E.useState)(null),[s,l]=(0,E.useState)(null),u=`${t.moduleName}-${t.name}`,d=(0,E.useRef)(u);if((0,E.useEffect)(()=>{d.current=u,l(null),i().then(t=>{o(t)}).catch(r=>{o(null),console.error(`PluginLoaderComponent: Error loading plugin ${t.name} from module ${t.moduleName}:`,r),l(Error(`PluginLoaderComponent: Error loading plugin ${t.name} from module ${t.moduleName}`))})},[u]),s)throw s;if(!a)return null;let c=a[t.name];if(n&&c&&"object"==typeof c&&n in c&&(c=c[n]),!c)throw Error(`PluginLoaderComponent: Plugin module ${t.moduleName} does not have a ${t.name} export`);if("function"!=typeof c)throw Error(`PluginLoaderComponent: Plugin ${t.name} export is not a function`);return d.current!==u?null:(0,m.jsx)(o$,{pluginFn:c,props:r},u)}let oH=t=>"object"==typeof t&&null!==t&&"kind"in t&&"spec"in t&&"object"==typeof t.spec&&null!==t.spec&&"name"in t.spec,oB=t=>"object"==typeof t&&null!==t&&"metadata"in t&&"spec"in t&&"object"==typeof t.spec&&null!==t.spec&&"plugins"in t.spec&&Array.isArray(t.spec.plugins)&&t.spec.plugins.every(oH),oq=t=>({getInstalledPlugins:async()=>{let r=await fetch(`${t||""}/api/v1/plugins`),n=await r.json(),i=[];return Array.isArray(n)?i=n.filter(oB):console.error("RemotePluginLoader: Error loading plugins, response is not an array"),i.length||console.error("RemotePluginLoader: No valid plugins found"),i},importPluginModule:async t=>{let r=t.metadata.name,n={};for(let i of t.spec.plugins){let t=await oF(r,i.spec.name),a=t?.[i.spec.name];a?n[i.spec.name]=a:console.error(`RemotePluginLoader: Error loading plugin ${i.spec.name}`)}return n}})},6088:function(t,r,n){"use strict";var i=n(20132),a=n(52453),o=n(31720),s=n(68273);t.exports=s||i.call(o,a)},52453:function(t){"use strict";t.exports=Function.prototype.apply},31720:function(t){"use strict";t.exports=Function.prototype.call},11519:function(t,r,n){"use strict";var i=n(20132),a=n(31805),o=n(31720),s=n(6088);t.exports=function(t){if(t.length<1||"function"!=typeof t[0])throw new a("a function is required");return s(i,o,t)}},68273:function(t){"use strict";t.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},75343:function(t,r,n){"use strict";var i=n(68750),a=n(11519),o=a([i("%String.prototype.indexOf%")]);t.exports=function(t,r){var n=i(t,!!r);return"function"==typeof n&&o(t,".prototype.")>-1?a([n]):n}},36234:function(t){function r(){for(var t,r,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(r=function t(r){var n,i,a="";if("string"==typeof r||"number"==typeof r)a+=r;else if("object"==typeof r){if(Array.isArray(r)){var o=r.length;for(n=0;n<o;n++)r[n]&&(i=t(r[n]))&&(a&&(a+=" "),a+=i)}else for(i in r)r[i]&&(a&&(a+=" "),a+=i)}return a}(t))&&(i&&(i+=" "),i+=r);return i}t.exports=r,t.exports.clsx=r},97755:function(t,r,n){"use strict";var i,a=n(11519),o=n(77502);try{i=[].__proto__===Array.prototype}catch(t){if(!t||"object"!=typeof t||!("code"in t)||"ERR_PROTO_ACCESS"!==t.code)throw t}var s=!!i&&o&&o(Object.prototype,"__proto__"),l=Object,u=l.getPrototypeOf;t.exports=s&&"function"==typeof s.get?a([s.get]):"function"==typeof u&&function(t){return u(null==t?t:l(t))}},51544:function(t){"use strict";var r=Object.defineProperty||!1;if(r)try{r({},"a",{value:1})}catch(t){r=!1}t.exports=r},73573:function(t){"use strict";t.exports=EvalError},85513:function(t){"use strict";t.exports=Error},77679:function(t){"use strict";t.exports=RangeError},39269:function(t){"use strict";t.exports=ReferenceError},74329:function(t){"use strict";t.exports=SyntaxError},31805:function(t){"use strict";t.exports=TypeError},99491:function(t){"use strict";t.exports=URIError},19767:function(t){"use strict";t.exports=Object},89377:function(t,r){!function(t){"use strict";function r(t){return function(r,n,i,a,o,s,l){return t(r,n,l)}}function n(t){return function(r,n,i,a){if(!r||!n||"object"!=typeof r||"object"!=typeof n)return t(r,n,i,a);var o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=t(r,n,i,a);return a.delete(r),a.delete(n),l}}function i(t,r){var n={};for(var i in t)n[i]=t[i];for(var i in r)n[i]=r[i];return n}function a(t){return t.constructor===Object||null==t.constructor}function o(t){return"function"==typeof t.then}function s(t,r){return t===r||t!=t&&r!=r}var l=Object.prototype.toString;function u(t){var r=t.areArraysEqual,n=t.areDatesEqual,i=t.areMapsEqual,u=t.areObjectsEqual,d=t.areRegExpsEqual,c=t.areSetsEqual,p=(0,t.createIsNestedEqual)(f);function f(t,f,h){if(t===f)return!0;if(!t||!f||"object"!=typeof t||"object"!=typeof f)return t!=t&&f!=f;if(a(t)&&a(f))return u(t,f,p,h);var m=Array.isArray(t),g=Array.isArray(f);if(m||g)return m===g&&r(t,f,p,h);var y=l.call(t);return y===l.call(f)&&("[object Date]"===y?n(t,f,p,h):"[object RegExp]"===y?d(t,f,p,h):"[object Map]"===y?i(t,f,p,h):"[object Set]"===y?c(t,f,p,h):"[object Object]"===y||"[object Arguments]"===y?!(o(t)||o(f))&&u(t,f,p,h):("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)&&s(t.valueOf(),f.valueOf()))}return f}function d(t,r,n,i){var a=t.length;if(r.length!==a)return!1;for(;a-- >0;)if(!n(t[a],r[a],a,a,t,r,i))return!1;return!0}var c=n(d);function p(t,r){return s(t.valueOf(),r.valueOf())}function f(t,r,n,i){var a=t.size===r.size;if(!a)return!1;if(!t.size)return!0;var o={},s=0;return t.forEach(function(l,u){if(a){var d=!1,c=0;r.forEach(function(a,p){!d&&!o[c]&&(d=n(u,p,s,c,t,r,i)&&n(l,a,u,p,t,r,i))&&(o[c]=!0),c++}),s++,a=d}}),a}var h=n(f),m=Object.prototype.hasOwnProperty;function g(t,r,n,i){var a,o=Object.keys(t),s=o.length;if(Object.keys(r).length!==s)return!1;for(;s-- >0;){if("_owner"===(a=o[s])){var l=!!t.$$typeof,u=!!r.$$typeof;if((l||u)&&l!==u)return!1}if(!m.call(r,a)||!n(t[a],r[a],a,a,t,r,i))return!1}return!0}var y=n(g);function v(t,r){return t.source===r.source&&t.flags===r.flags}function b(t,r,n,i){var a=t.size===r.size;if(!a)return!1;if(!t.size)return!0;var o={};return t.forEach(function(s,l){if(a){var u=!1,d=0;r.forEach(function(a,c){!u&&!o[d]&&(u=n(s,a,l,c,t,r,i))&&(o[d]=!0),d++}),a=u}}),a}var x=n(b),w=Object.freeze({areArraysEqual:d,areDatesEqual:p,areMapsEqual:f,areObjectsEqual:g,areRegExpsEqual:v,areSetsEqual:b,createIsNestedEqual:r}),j=Object.freeze({areArraysEqual:c,areDatesEqual:p,areMapsEqual:h,areObjectsEqual:y,areRegExpsEqual:v,areSetsEqual:x,createIsNestedEqual:r}),S=u(w),C=u(i(w,{createIsNestedEqual:function(){return s}})),_=u(j),O=u(i(j,{createIsNestedEqual:function(){return s}}));t.circularDeepEqual=function(t,r){return _(t,r,new WeakMap)},t.circularShallowEqual=function(t,r){return O(t,r,new WeakMap)},t.createCustomCircularEqual=function(t){var r=u(i(j,t(j)));return function(t,n,i){return void 0===i&&(i=new WeakMap),r(t,n,i)}},t.createCustomEqual=function(t){return u(i(w,t(w)))},t.deepEqual=function(t,r){return S(t,r,void 0)},t.sameValueZeroEqual=s,t.shallowEqual=function(t,r){return C(t,r,void 0)},Object.defineProperty(t,"__esModule",{value:!0})}(r)},68458:function(t){"use strict";var r=Object.prototype.toString,n=Math.max,i=function(t,r){for(var n=[],i=0;i<t.length;i+=1)n[i]=t[i];for(var a=0;a<r.length;a+=1)n[a+t.length]=r[a];return n},a=function(t,r){for(var n=[],i=r||0,a=0;i<t.length;i+=1,a+=1)n[a]=t[i];return n},o=function(t,r){for(var n="",i=0;i<t.length;i+=1)n+=t[i],i+1<t.length&&(n+=r);return n};t.exports=function(t){var s,l=this;if("function"!=typeof l||"[object Function]"!==r.apply(l))throw TypeError("Function.prototype.bind called on incompatible "+l);for(var u=a(arguments,1),d=n(0,l.length-u.length),c=[],p=0;p<d;p++)c[p]="$"+p;if(s=Function("binder","return function ("+o(c,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof s){var r=l.apply(this,i(u,arguments));return Object(r)===r?r:this}return l.apply(t,i(u,arguments))}),l.prototype){var f=function(){};f.prototype=l.prototype,s.prototype=new f,f.prototype=null}return s}},20132:function(t,r,n){"use strict";var i=n(68458);t.exports=Function.prototype.bind||i},68750:function(t,r,n){"use strict";var i,a=n(19767),o=n(85513),s=n(73573),l=n(77679),u=n(39269),d=n(74329),c=n(31805),p=n(99491),f=n(36354),h=n(72244),m=n(24268),g=n(55139),y=n(89544),v=n(56298),b=n(87558),x=Function,w=function(t){try{return x('"use strict"; return ('+t+").constructor;")()}catch(t){}},j=n(77502),S=n(51544),C=function(){throw new c},_=j?function(){try{return arguments.callee,C}catch(t){try{return j(arguments,"callee").get}catch(t){return C}}}():C,O=n(40679)(),k=n(87778),P=n(77819),E=n(84578),D=n(52453),A=n(31720),R={},M="undefined"!=typeof Uint8Array&&k?k(Uint8Array):i,T={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":O&&k?k([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":R,"%AsyncGenerator%":R,"%AsyncGeneratorFunction%":R,"%AsyncIteratorPrototype%":R,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?i:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":s,"%Float16Array%":"undefined"==typeof Float16Array?i:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":x,"%GeneratorFunction%":R,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":O&&k?k(k([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&O&&k?k(new Map()[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":a,"%Object.getOwnPropertyDescriptor%":j,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":l,"%ReferenceError%":u,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&O&&k?k(new Set()[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":O&&k?k(""[Symbol.iterator]()):i,"%Symbol%":O?Symbol:i,"%SyntaxError%":d,"%ThrowTypeError%":_,"%TypedArray%":M,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":p,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet,"%Function.prototype.call%":A,"%Function.prototype.apply%":D,"%Object.defineProperty%":S,"%Object.getPrototypeOf%":P,"%Math.abs%":f,"%Math.floor%":h,"%Math.max%":m,"%Math.min%":g,"%Math.pow%":y,"%Math.round%":v,"%Math.sign%":b,"%Reflect.getPrototypeOf%":E};if(k)try{null.error}catch(t){var Z=k(k(t));T["%Error.prototype%"]=Z}var I=function t(r){var n;if("%AsyncFunction%"===r)n=w("async function () {}");else if("%GeneratorFunction%"===r)n=w("function* () {}");else if("%AsyncGeneratorFunction%"===r)n=w("async function* () {}");else if("%AsyncGenerator%"===r){var i=t("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===r){var a=t("%AsyncGenerator%");a&&k&&(n=k(a.prototype))}return T[r]=n,n},V={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},N=n(20132),L=n(71712),F=N.call(A,Array.prototype.concat),$=N.call(D,Array.prototype.splice),z=N.call(A,String.prototype.replace),H=N.call(A,String.prototype.slice),B=N.call(A,RegExp.prototype.exec),q=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,W=/\\(\\)?/g,U=function(t){var r=H(t,0,1),n=H(t,-1);if("%"===r&&"%"!==n)throw new d("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==r)throw new d("invalid intrinsic syntax, expected opening `%`");var i=[];return z(t,q,function(t,r,n,a){i[i.length]=n?z(a,W,"$1"):r||t}),i},G=function(t,r){var n,i=t;if(L(V,i)&&(i="%"+(n=V[i])[0]+"%"),L(T,i)){var a=T[i];if(a===R&&(a=I(i)),void 0===a&&!r)throw new c("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:a}}throw new d("intrinsic "+t+" does not exist!")};t.exports=function(t,r){if("string"!=typeof t||0===t.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof r)throw new c('"allowMissing" argument must be a boolean');if(null===B(/^%?[^%]*%?$/,t))throw new d("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=U(t),i=n.length>0?n[0]:"",a=G("%"+i+"%",r),o=a.name,s=a.value,l=!1,u=a.alias;u&&(i=u[0],$(n,F([0,1],u)));for(var p=1,f=!0;p<n.length;p+=1){var h=n[p],m=H(h,0,1),g=H(h,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new d("property names with quotes must have matching quotes");if("constructor"!==h&&f||(l=!0),i+="."+h,L(T,o="%"+i+"%"))s=T[o];else if(null!=s){if(!(h in s)){if(!r)throw new c("base intrinsic for "+t+" exists, but the property is not available.");return}if(j&&p+1>=n.length){var y=j(s,h);s=(f=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:s[h]}else f=L(s,h),s=s[h];f&&!l&&(T[o]=s)}}return s}},77819:function(t,r,n){"use strict";var i=n(19767);t.exports=i.getPrototypeOf||null},84578:function(t){"use strict";t.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},87778:function(t,r,n){"use strict";var i=n(84578),a=n(77819),o=n(97755);t.exports=i?function(t){return i(t)}:a?function(t){if(!t||"object"!=typeof t&&"function"!=typeof t)throw TypeError("getProto: not an object");return a(t)}:o?function(t){return o(t)}:null},76158:function(t){"use strict";t.exports=Object.getOwnPropertyDescriptor},77502:function(t,r,n){"use strict";var i=n(76158);if(i)try{i([],"length")}catch(t){i=null}t.exports=i},40679:function(t,r,n){"use strict";var i="undefined"!=typeof Symbol&&Symbol,a=n(8186);t.exports=function(){return"function"==typeof i&&"function"==typeof Symbol&&"symbol"==typeof i("foo")&&"symbol"==typeof Symbol("bar")&&a()}},8186:function(t){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},r=Symbol("test"),n=Object(r);if("string"==typeof r||"[object Symbol]"!==Object.prototype.toString.call(r)||"[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(var i in t[r]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var a=Object.getOwnPropertySymbols(t);if(1!==a.length||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,r);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},71712:function(t,r,n){"use strict";var i=Function.prototype.call,a=Object.prototype.hasOwnProperty,o=n(20132);t.exports=o.call(i,a)},36354:function(t){"use strict";t.exports=Math.abs},72244:function(t){"use strict";t.exports=Math.floor},77890:function(t){"use strict";t.exports=Number.isNaN||function(t){return t!=t}},24268:function(t){"use strict";t.exports=Math.max},55139:function(t){"use strict";t.exports=Math.min},89544:function(t){"use strict";t.exports=Math.pow},56298:function(t){"use strict";t.exports=Math.round},87558:function(t,r,n){"use strict";var i=n(77890);t.exports=function(t){return i(t)||0===t?t:t<0?-1:1}},47512:function(t,r,n){"use strict";r.default=void 0;var i,a=(i=n(30265))&&i.__esModule?i:{default:i};r.default=(0,a.default)("M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z","Alert")},15758:function(t,r,n){"use strict";r.default=void 0;var i,a=(i=n(30265))&&i.__esModule?i:{default:i};r.default=(0,a.default)("M19.5,3.09L15,7.59V4H13V11H20V9H16.41L20.91,4.5L19.5,3.09M4,13V15H7.59L3.09,19.5L4.5,20.91L9,16.41V20H11V13H4Z","ArrowCollapse")},61679:function(t,r,n){"use strict";r.default=void 0;var i,a=(i=n(30265))&&i.__esModule?i:{default:i};r.default=(0,a.default)("M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z","ArrowDown")},13801:function(t,r,n){"use strict";r.default=void 0;var i,a=(i=n(30265))&&i.__esModule?i:{default:i};r.default=(0,a.default)("M10,21V19H6.41L10.91,14.5L9.5,13.09L5,17.59V14H3V21H10M14.5,10.91L19,6.41V10H21V3H14V5H17.59L13.09,9.5L14.5,10.91Z","ArrowExpand")},47501:function(t,r,n){"use strict";r.default=void 0;var i,a=(i=n(30265))&&i.__esModule?i:{default:i};r.default=(0,a.default)("M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z","ArrowUp")},31243:function(t,r,n){"use strict";r.default=void 0;var i,a=(i=n(30265))&&i.__esModule?i:{default:i};r.default=(0,a.default)("M22 5V7H19V10H17V7H14V5H17V2H19V5H22M19 19H5V5H11V3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V13H19V19M15 13V17H17V13H15M11 17H13V9H11V17M9 17V11H7V17H9Z","ChartBoxPlusOutline")},6849:function(t,r,n){"use strict";r.default=void 0;var i,a=(i=n(30265))&&i.__esModule?i:{default:i};r.default=(0,a.default)("M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z","ChevronUp")},60993:function(t,r,n){"use strict";r.default=void 0;var i,a=(i=n(30265))&&i.__esModule?i:{default:i};r.default=(0,a.default)("M19,3H14.82C14.4,1.84 13.3,1 12,1C10.7,1 9.6,1.84 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M7,7H17V5H19V19H5V5H7V7Z","ClipboardOutline")},40427:function(t,r,n){"use strict";r.default=void 0;var i,a=(i=n(30265))&&i.__esModule?i:{default:i};r.default=(0,a.default)("M8,3A2,2 0 0,0 6,5V9A2,2 0 0,1 4,11H3V13H4A2,2 0 0,1 6,15V19A2,2 0 0,0 8,21H10V19H8V14A2,2 0 0,0 6,12A2,2 0 0,0 8,10V5H10V3M16,3A2,2 0 0,1 18,5V9A2,2 0 0,0 20,11H21V13H20A2,2 0 0,0 18,15V19A2,2 0 0,1 16,21H14V19H16V14A2,2 0 0,1 18,12A2,2 0 0,1 16,10V5H14V3H16Z","CodeBraces")},50345:function(t,r,n){"use strict";r.default=void 0;var i,a=(i=n(30265))&&i.__esModule?i:{default:i};r.default=(0,a.default)("M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z","ContentCopy")},64315:function(t,r,n){"use strict";r.default=void 0;var i,a=(i=n(30265))&&i.__esModule?i:{default:i};r.default=(0,a.default)("M11,17H4A2,2 0 0,1 2,15V3A2,2 0 0,1 4,1H16V3H4V15H11V13L15,16L11,19V17M19,21V7H8V13H6V7A2,2 0 0,1 8,5H19A2,2 0 0,1 21,7V21A2,2 0 0,1 19,23H8A2,2 0 0,1 6,21V19H8V21H19Z","ContentDuplicate")},29379:function(t,r,n){"use strict";r.default=void 0;var i,a=(i=n(30265))&&i.__esModule?i:{default:i};r.default=(0,a.default)("M13,5V11H14.17L12,13.17L9.83,11H11V5H13M15,3H9V9H5L12,16L19,9H15V3M19,18H5V20H19V18Z","DownloadOutline")},18979:function(t,r,n){"use strict";r.default=void 0;var i,a=(i=n(30265))&&i.__esModule?i:{default:i};r.default=(0,a.default)("M9,3H11V5H9V3M13,3H15V5H13V3M9,7H11V9H9V7M13,7H15V9H13V7M9,11H11V13H9V11M13,11H15V13H13V11M9,15H11V17H9V15M13,15H15V17H13V15M9,19H11V21H9V19M13,19H15V21H13V19Z","DragVertical")},14434:function(t,r,n){"use strict";r.default=void 0;var i,a=(i=n(30265))&&i.__esModule?i:{default:i};r.default=(0,a.default)("M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z","Launch")},93051:function(t,r,n){"use strict";r.default=void 0;var i,a=(i=n(30265))&&i.__esModule?i:{default:i};r.default=(0,a.default)("M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z","Menu")},17001:function(t,r,n){"use strict";r.default=void 0;var i,a=(i=n(30265))&&i.__esModule?i:{default:i};r.default=(0,a.default)("M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,13H17V11H7","MinusCircleOutline")},14371:function(t,r,n){"use strict";r.default=void 0;var i,a=(i=n(30265))&&i.__esModule?i:{default:i};r.default=(0,a.default)("M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z","OpenInNew")},22212:function(t,r,n){"use strict";r.default=void 0;var i,a=(i=n(30265))&&i.__esModule?i:{default:i};r.default=(0,a.default)("M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z","Pencil")},57739:function(t,r,n){"use strict";r.default=void 0;var i,a=(i=n(30265))&&i.__esModule?i:{default:i};r.default=(0,a.default)("M14.06,9L15,9.94L5.92,19H5V18.08L14.06,9M17.66,3C17.41,3 17.15,3.1 16.96,3.29L15.13,5.12L18.88,8.87L20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18.17,3.09 17.92,3 17.66,3M14.06,6.19L3,17.25V21H6.75L17.81,9.94L14.06,6.19Z","PencilOutline")},42402:function(t,r,n){"use strict";r.default=void 0;var i,a=(i=n(30265))&&i.__esModule?i:{default:i};r.default=(0,a.default)("M8,6.2V4H7V2H17V4H16V12L18,14V16H17.8L14,12.2V4H10V8.2L8,6.2M20,20.7L18.7,22L12.8,16.1V22H11.2V16H6V14L8,12V11.3L2,5.3L3.3,4L20,20.7M8.8,14H10.6L9.7,13.1L8.8,14Z","PinOffOutline")},69472:function(t,r,n){"use strict";r.default=void 0;var i,a=(i=n(30265))&&i.__esModule?i:{default:i};r.default=(0,a.default)("M19,19V5H5V19H19M19,3A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5C3,3.89 3.9,3 5,3H19M11,7H13V11H17V13H13V17H11V13H7V11H11V7Z","PlusBoxOutline")},28278:function(t,r,n){"use strict";r.default=void 0;var i,a=(i=n(30265))&&i.__esModule?i:{default:i};r.default=(0,a.default)("M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z","PlusCircleOutline")},67877:function(t,r,n){"use strict";r.default=void 0;var i,a=(i=n(30265))&&i.__esModule?i:{default:i};r.default=(0,a.default)("M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z","Refresh")},74081:function(t,r,n){"use strict";r.default=void 0;var i,a=(i=n(30265))&&i.__esModule?i:{default:i};r.default=(0,a.default)("M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M9,8H11V17H9V8M13,8H15V17H13V8Z","TrashCan")},86524:function(t,r,n){var i="function"==typeof Map&&Map.prototype,a=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=i&&a&&"function"==typeof a.get?a.get:null,s=i&&Map.prototype.forEach,l="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&l?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,d=l&&u&&"function"==typeof u.get?u.get:null,c=l&&Set.prototype.forEach,p="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,f="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,h="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,m=Boolean.prototype.valueOf,g=Object.prototype.toString,y=Function.prototype.toString,v=String.prototype.match,b=String.prototype.slice,x=String.prototype.replace,w=String.prototype.toUpperCase,j=String.prototype.toLowerCase,S=RegExp.prototype.test,C=Array.prototype.concat,_=Array.prototype.join,O=Array.prototype.slice,k=Math.floor,P="function"==typeof BigInt?BigInt.prototype.valueOf:null,E=Object.getOwnPropertySymbols,D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,A="function"==typeof Symbol&&"object"==typeof Symbol.iterator,R="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===A?"object":"symbol")?Symbol.toStringTag:null,M=Object.prototype.propertyIsEnumerable,T=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Z(t,r){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||S.call(/e/,r))return r;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var i=t<0?-k(-t):k(t);if(i!==t){var a=String(i),o=b.call(r,a.length+1);return x.call(a,n,"$&_")+"."+x.call(x.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return x.call(r,n,"$&_")}var I=n(56050),V=I.custom,N=q(V)?V:null,L={__proto__:null,double:'"',single:"'"},F={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function $(t,r,n){var i=L[n.quoteStyle||r];return i+t+i}function z(t){return!R||!("object"==typeof t&&(R in t||void 0!==t[R]))}function H(t){return"[object Array]"===G(t)&&z(t)}function B(t){return"[object RegExp]"===G(t)&&z(t)}function q(t){if(A)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!D)return!1;try{return D.call(t),!0}catch(t){}return!1}t.exports=function t(r,i,a,l){var u,g,w,S,k,E=i||{};if(U(E,"quoteStyle")&&!U(L,E.quoteStyle))throw TypeError('option "quoteStyle" must be "single" or "double"');if(U(E,"maxStringLength")&&("number"==typeof E.maxStringLength?E.maxStringLength<0&&E.maxStringLength!==1/0:null!==E.maxStringLength))throw TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var V=!U(E,"customInspect")||E.customInspect;if("boolean"!=typeof V&&"symbol"!==V)throw TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(U(E,"indent")&&null!==E.indent&&"	"!==E.indent&&!(parseInt(E.indent,10)===E.indent&&E.indent>0))throw TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(U(E,"numericSeparator")&&"boolean"!=typeof E.numericSeparator)throw TypeError('option "numericSeparator", if provided, must be `true` or `false`');var W=E.numericSeparator;if(void 0===r)return"undefined";if(null===r)return"null";if("boolean"==typeof r)return r?"true":"false";if("string"==typeof r)return function t(r,n){if(r.length>n.maxStringLength){var i=r.length-n.maxStringLength;return t(b.call(r,0,n.maxStringLength),n)+("... "+i)+" more character"+(i>1?"s":"")}var a=F[n.quoteStyle||"single"];return a.lastIndex=0,$(x.call(x.call(r,a,"\\$1"),/[\x00-\x1f]/g,K),"single",n)}(r,E);if("number"==typeof r){if(0===r)return 1/0/r>0?"0":"-0";var er=String(r);return W?Z(r,er):er}if("bigint"==typeof r){var en=String(r)+"n";return W?Z(r,en):en}var ei=void 0===E.depth?5:E.depth;if(void 0===a&&(a=0),a>=ei&&ei>0&&"object"==typeof r)return H(r)?"[Array]":"[Object]";var ea=function(t,r){var n;if("	"===t.indent)n="	";else{if("number"!=typeof t.indent||!(t.indent>0))return null;n=_.call(Array(t.indent+1)," ")}return{base:n,prev:_.call(Array(r+1),n)}}(E,a);if(void 0===l)l=[];else if(Q(l,r)>=0)return"[Circular]";function eo(r,n,i){if(n&&(l=O.call(l)).push(n),i){var o={depth:E.depth};return U(E,"quoteStyle")&&(o.quoteStyle=E.quoteStyle),t(r,o,a+1,l)}return t(r,E,a+1,l)}if("function"==typeof r&&!B(r)){var es=function(t){if(t.name)return t.name;var r=v.call(y.call(t),/^function\s*([\w$]+)/);return r?r[1]:null}(r),el=et(r,eo);return"[Function"+(es?": "+es:" (anonymous)")+"]"+(el.length>0?" { "+_.call(el,", ")+" }":"")}if(q(r)){var eu=A?x.call(String(r),/^(Symbol\(.*\))_[^)]*$/,"$1"):D.call(r);return"object"!=typeof r||A?eu:J(eu)}if((ed=r)&&"object"==typeof ed&&("undefined"!=typeof HTMLElement&&ed instanceof HTMLElement||"string"==typeof ed.nodeName&&"function"==typeof ed.getAttribute)){for(var ed,ec,ep="<"+j.call(String(r.nodeName)),ef=r.attributes||[],eh=0;eh<ef.length;eh++){ep+=" "+ef[eh].name+"="+$((ec=ef[eh].value,x.call(String(ec),/"/g,"&quot;")),"double",E)}return ep+=">",r.childNodes&&r.childNodes.length&&(ep+="..."),ep+="</"+j.call(String(r.nodeName))+">"}if(H(r)){if(0===r.length)return"[]";var em=et(r,eo);return ea&&!function(t){for(var r=0;r<t.length;r++)if(Q(t[r],"\n")>=0)return!1;return!0}(em)?"["+ee(em,ea)+"]":"[ "+_.call(em,", ")+" ]"}if("[object Error]"===G(u=r)&&z(u)){var eg=et(r,eo);return"cause"in Error.prototype||!("cause"in r)||M.call(r,"cause")?0===eg.length?"["+String(r)+"]":"{ ["+String(r)+"] "+_.call(eg,", ")+" }":"{ ["+String(r)+"] "+_.call(C.call("[cause]: "+eo(r.cause),eg),", ")+" }"}if("object"==typeof r&&V){if(N&&"function"==typeof r[N]&&I)return I(r,{depth:ei-a});if("symbol"!==V&&"function"==typeof r.inspect)return r.inspect()}if(function(t){if(!o||!t||"object"!=typeof t)return!1;try{o.call(t);try{d.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(r)){var ey=[];return s&&s.call(r,function(t,n){ey.push(eo(n,r,!0)+" => "+eo(t,r))}),X("Map",o.call(r),ey,ea)}if(function(t){if(!d||!t||"object"!=typeof t)return!1;try{d.call(t);try{o.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(r)){var ev=[];return c&&c.call(r,function(t){ev.push(eo(t,r))}),X("Set",d.call(r),ev,ea)}if(function(t){if(!p||!t||"object"!=typeof t)return!1;try{p.call(t,p);try{f.call(t,f)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(r))return Y("WeakMap");if(function(t){if(!f||!t||"object"!=typeof t)return!1;try{f.call(t,f);try{p.call(t,p)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(r))return Y("WeakSet");if(function(t){if(!h||!t||"object"!=typeof t)return!1;try{return h.call(t),!0}catch(t){}return!1}(r))return Y("WeakRef");if("[object Number]"===G(g=r)&&z(g))return J(eo(Number(r)));if(function(t){if(!t||"object"!=typeof t||!P)return!1;try{return P.call(t),!0}catch(t){}return!1}(r))return J(eo(P.call(r)));if("[object Boolean]"===G(w=r)&&z(w))return J(m.call(r));if("[object String]"===G(S=r)&&z(S))return J(eo(String(r)));if("undefined"!=typeof window&&r===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&r===globalThis||void 0!==n.g&&r===n.g)return"{ [object globalThis] }";if(!("[object Date]"===G(k=r)&&z(k))&&!B(r)){var eb=et(r,eo),ex=T?T(r)===Object.prototype:r instanceof Object||r.constructor===Object,ew=r instanceof Object?"":"null prototype",ej=!ex&&R&&Object(r)===r&&R in r?b.call(G(r),8,-1):ew?"Object":"",eS=(ex||"function"!=typeof r.constructor?"":r.constructor.name?r.constructor.name+" ":"")+(ej||ew?"["+_.call(C.call([],ej||[],ew||[]),": ")+"] ":"");return 0===eb.length?eS+"{}":ea?eS+"{"+ee(eb,ea)+"}":eS+"{ "+_.call(eb,", ")+" }"}return String(r)};var W=Object.prototype.hasOwnProperty||function(t){return t in this};function U(t,r){return W.call(t,r)}function G(t){return g.call(t)}function Q(t,r){if(t.indexOf)return t.indexOf(r);for(var n=0,i=t.length;n<i;n++)if(t[n]===r)return n;return -1}function K(t){var r=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[r];return n?"\\"+n:"\\x"+(r<16?"0":"")+w.call(r.toString(16))}function J(t){return"Object("+t+")"}function Y(t){return t+" { ? }"}function X(t,r,n,i){return t+" ("+r+") {"+(i?ee(n,i):_.call(n,", "))+"}"}function ee(t,r){if(0===t.length)return"";var n="\n"+r.prev+r.base;return n+_.call(t,","+n)+"\n"+r.prev}function et(t,r){var n,i=H(t),a=[];if(i){a.length=t.length;for(var o=0;o<t.length;o++)a[o]=U(t,o)?r(t[o],t):""}var s="function"==typeof E?E(t):[];if(A){n={};for(var l=0;l<s.length;l++)n["$"+s[l]]=s[l]}for(var u in t){if(U(t,u)&&(!i||String(Number(u))!==u||!(u<t.length)))!(A&&n["$"+u]instanceof Symbol)&&(S.call(/[^\w$]/,u)?a.push(r(u,t)+": "+r(t[u],t)):a.push(u+": "+r(t[u],t)))}if("function"==typeof E)for(var d=0;d<s.length;d++)M.call(t,s[d])&&a.push("["+r(s[d])+"]: "+r(t[s[d]],t));return a}},69771:function(t){"use strict";var r=String.prototype.replace,n=/%20/g,i="RFC3986";t.exports={default:i,formatters:{RFC1738:function(t){return r.call(t,n,"+")},RFC3986:function(t){return String(t)}},RFC1738:"RFC1738",RFC3986:i}},8139:function(t,r,n){"use strict";var i=n(56360),a=n(19520),o=n(69771);t.exports={formats:o,parse:a,stringify:i}},19520:function(t,r,n){"use strict";var i=n(54330),a=Object.prototype.hasOwnProperty,o=Array.isArray,s={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:i.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},l=function(t,r){return t&&"string"==typeof t&&r.comma&&t.indexOf(",")>-1?t.split(","):t},u=function(t,r){var n={__proto__:null},u=r.ignoreQueryPrefix?t.replace(/^\?/,""):t;u=u.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var d=r.parameterLimit===1/0?void 0:r.parameterLimit,c=u.split(r.delimiter,d),p=-1,f=r.charset;if(r.charsetSentinel)for(h=0;h<c.length;++h)0===c[h].indexOf("utf8=")&&("utf8=%E2%9C%93"===c[h]?f="utf-8":"utf8=%26%2310003%3B"===c[h]&&(f="iso-8859-1"),p=h,h=c.length);for(h=0;h<c.length;++h)if(h!==p){var h,m,g,y=c[h],v=y.indexOf("]="),b=-1===v?y.indexOf("="):v+1;-1===b?(m=r.decoder(y,s.decoder,f,"key"),g=r.strictNullHandling?null:""):(m=r.decoder(y.slice(0,b),s.decoder,f,"key"),g=i.maybeMap(l(y.slice(b+1),r),function(t){return r.decoder(t,s.decoder,f,"value")})),g&&r.interpretNumericEntities&&"iso-8859-1"===f&&(g=g.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})),y.indexOf("[]=")>-1&&(g=o(g)?[g]:g);var x=a.call(n,m);x&&"combine"===r.duplicates?n[m]=i.combine(n[m],g):x&&"last"!==r.duplicates||(n[m]=g)}return n},d=function(t,r,n,i){for(var a=i?r:l(r,n),o=t.length-1;o>=0;--o){var s,u=t[o];if("[]"===u&&n.parseArrays)s=n.allowEmptyArrays&&(""===a||n.strictNullHandling&&null===a)?[]:[].concat(a);else{s=n.plainObjects?Object.create(null):{};var d="["===u.charAt(0)&&"]"===u.charAt(u.length-1)?u.slice(1,-1):u,c=n.decodeDotInKeys?d.replace(/%2E/g,"."):d,p=parseInt(c,10);n.parseArrays||""!==c?!isNaN(p)&&u!==c&&String(p)===c&&p>=0&&n.parseArrays&&p<=n.arrayLimit?(s=[])[p]=a:"__proto__"!==c&&(s[c]=a):s={0:a}}a=s}return a},c=function(t,r,n,i){if(t){var o=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/g,l=n.depth>0&&/(\[[^[\]]*])/.exec(o),u=l?o.slice(0,l.index):o,c=[];if(u){if(!n.plainObjects&&a.call(Object.prototype,u)&&!n.allowPrototypes)return;c.push(u)}for(var p=0;n.depth>0&&null!==(l=s.exec(o))&&p<n.depth;){if(p+=1,!n.plainObjects&&a.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(l[1])}if(l){if(!0===n.strictDepth)throw RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");c.push("["+o.slice(l.index)+"]")}return d(c,r,n,i)}},p=function(t){if(!t)return s;if(void 0!==t.allowEmptyArrays&&"boolean"!=typeof t.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==t.decodeDotInKeys&&"boolean"!=typeof t.decodeDotInKeys)throw TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=void 0===t.charset?s.charset:t.charset,n=void 0===t.duplicates?s.duplicates:t.duplicates;if("combine"!==n&&"first"!==n&&"last"!==n)throw TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===t.allowDots?!0===t.decodeDotInKeys||s.allowDots:!!t.allowDots,allowEmptyArrays:"boolean"==typeof t.allowEmptyArrays?!!t.allowEmptyArrays:s.allowEmptyArrays,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:s.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:s.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:s.arrayLimit,charset:r,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:s.comma,decodeDotInKeys:"boolean"==typeof t.decodeDotInKeys?t.decodeDotInKeys:s.decodeDotInKeys,decoder:"function"==typeof t.decoder?t.decoder:s.decoder,delimiter:"string"==typeof t.delimiter||i.isRegExp(t.delimiter)?t.delimiter:s.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:s.depth,duplicates:n,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:s.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:s.plainObjects,strictDepth:"boolean"==typeof t.strictDepth?!!t.strictDepth:s.strictDepth,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:s.strictNullHandling}};t.exports=function(t,r){var n=p(r);if(""===t||null==t)return n.plainObjects?Object.create(null):{};for(var a="string"==typeof t?u(t,n):t,o=n.plainObjects?Object.create(null):{},s=Object.keys(a),l=0;l<s.length;++l){var d=s[l],f=c(d,a[d],n,"string"==typeof t);o=i.merge(o,f,n)}return!0===n.allowSparse?o:i.compact(o)}},56360:function(t,r,n){"use strict";var i=n(95337),a=n(54330),o=n(69771),s=Object.prototype.hasOwnProperty,l={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,r){return t+"["+r+"]"},repeat:function(t){return t}},u=Array.isArray,d=Array.prototype.push,c=function(t,r){d.apply(t,u(r)?r:[r])},p=Date.prototype.toISOString,f=o.default,h={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:a.encode,encodeValuesOnly:!1,format:f,formatter:o.formatters[f],indices:!1,serializeDate:function(t){return p.call(t)},skipNulls:!1,strictNullHandling:!1},m={},g=function t(r,n,o,s,l,d,p,f,g,y,v,b,x,w,j,S,C,_){for(var O,k,P=r,E=_,D=0,A=!1;void 0!==(E=E.get(m))&&!A;){var R=E.get(r);if(D+=1,void 0!==R){if(R===D)throw RangeError("Cyclic object value");A=!0}void 0===E.get(m)&&(D=0)}if("function"==typeof y?P=y(n,P):P instanceof Date?P=x(P):"comma"===o&&u(P)&&(P=a.maybeMap(P,function(t){return t instanceof Date?x(t):t})),null===P){if(d)return g&&!S?g(n,h.encoder,C,"key",w):n;P=""}if("string"==typeof(O=P)||"number"==typeof O||"boolean"==typeof O||"symbol"==typeof O||"bigint"==typeof O||a.isBuffer(P))return g?[j(S?n:g(n,h.encoder,C,"key",w))+"="+j(g(P,h.encoder,C,"value",w))]:[j(n)+"="+j(String(P))];var M=[];if(void 0===P)return M;if("comma"===o&&u(P))S&&g&&(P=a.maybeMap(P,g)),k=[{value:P.length>0?P.join(",")||null:void 0}];else if(u(y))k=y;else{var T=Object.keys(P);k=v?T.sort(v):T}var Z=f?n.replace(/\./g,"%2E"):n,I=s&&u(P)&&1===P.length?Z+"[]":Z;if(l&&u(P)&&0===P.length)return I+"[]";for(var V=0;V<k.length;++V){var N=k[V],L="object"==typeof N&&void 0!==N.value?N.value:P[N];if(!p||null!==L){var F=b&&f?N.replace(/\./g,"%2E"):N,$=u(P)?"function"==typeof o?o(I,F):I:I+(b?"."+F:"["+F+"]");_.set(r,D);var z=i();z.set(m,_),c(M,t(L,$,o,s,l,d,p,f,"comma"===o&&S&&u(P)?null:g,y,v,b,x,w,j,S,C,z))}}return M},y=function(t){if(!t)return h;if(void 0!==t.allowEmptyArrays&&"boolean"!=typeof t.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==t.encodeDotInKeys&&"boolean"!=typeof t.encodeDotInKeys)throw TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw TypeError("Encoder has to be a function.");var r,n=t.charset||h.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=o.default;if(void 0!==t.format){if(!s.call(o.formatters,t.format))throw TypeError("Unknown format option provided.");i=t.format}var a=o.formatters[i],d=h.filter;if(("function"==typeof t.filter||u(t.filter))&&(d=t.filter),r=t.arrayFormat in l?t.arrayFormat:"indices"in t?t.indices?"indices":"repeat":h.arrayFormat,"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw TypeError("`commaRoundTrip` must be a boolean, or absent");var c=void 0===t.allowDots?!0===t.encodeDotInKeys||h.allowDots:!!t.allowDots;return{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:h.addQueryPrefix,allowDots:c,allowEmptyArrays:"boolean"==typeof t.allowEmptyArrays?!!t.allowEmptyArrays:h.allowEmptyArrays,arrayFormat:r,charset:n,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:h.charsetSentinel,commaRoundTrip:t.commaRoundTrip,delimiter:void 0===t.delimiter?h.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:h.encode,encodeDotInKeys:"boolean"==typeof t.encodeDotInKeys?t.encodeDotInKeys:h.encodeDotInKeys,encoder:"function"==typeof t.encoder?t.encoder:h.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:h.encodeValuesOnly,filter:d,format:i,formatter:a,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:h.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:h.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:h.strictNullHandling}};t.exports=function(t,r){var n,a,o=t,s=y(r);"function"==typeof s.filter?o=(0,s.filter)("",o):u(s.filter)&&(n=s.filter);var d=[];if("object"!=typeof o||null===o)return"";var p=l[s.arrayFormat],f="comma"===p&&s.commaRoundTrip;n||(n=Object.keys(o)),s.sort&&n.sort(s.sort);for(var h=i(),m=0;m<n.length;++m){var v=n[m];(!s.skipNulls||null!==o[v])&&c(d,g(o[v],v,p,f,s.allowEmptyArrays,s.strictNullHandling,s.skipNulls,s.encodeDotInKeys,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,h))}var b=d.join(s.delimiter),x=!0===s.addQueryPrefix?"?":"";return s.charsetSentinel&&("iso-8859-1"===s.charset?x+="utf8=%26%2310003%3B&":x+="utf8=%E2%9C%93&"),b.length>0?x+b:""}},54330:function(t,r,n){"use strict";var i=n(69771),a=Object.prototype.hasOwnProperty,o=Array.isArray,s=function(){for(var t=[],r=0;r<256;++r)t.push("%"+((r<16?"0":"")+r.toString(16)).toUpperCase());return t}(),l=function(t){for(;t.length>1;){var r=t.pop(),n=r.obj[r.prop];if(o(n)){for(var i=[],a=0;a<n.length;++a)void 0!==n[a]&&i.push(n[a]);r.obj[r.prop]=i}}},u=function(t,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<t.length;++i)void 0!==t[i]&&(n[i]=t[i]);return n};t.exports={arrayToObject:u,assign:function(t,r){return Object.keys(r).reduce(function(t,n){return t[n]=r[n],t},t)},combine:function(t,r){return[].concat(t,r)},compact:function(t){for(var r=[{obj:{o:t},prop:"o"}],n=[],i=0;i<r.length;++i)for(var a=r[i],o=a.obj[a.prop],s=Object.keys(o),u=0;u<s.length;++u){var d=s[u],c=o[d];"object"==typeof c&&null!==c&&-1===n.indexOf(c)&&(r.push({obj:o,prop:d}),n.push(c))}return l(r),t},decode:function(t,r,n){var i=t.replace(/\+/g," ");if("iso-8859-1"===n)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(t){return i}},encode:function(t,r,n,a,o){if(0===t.length)return t;var l=t;if("symbol"==typeof t?l=Symbol.prototype.toString.call(t):"string"!=typeof t&&(l=String(t)),"iso-8859-1"===n)return escape(l).replace(/%u[0-9a-f]{4}/gi,function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"});for(var u="",d=0;d<l.length;d+=1024){for(var c=l.length>=1024?l.slice(d,d+1024):l,p=[],f=0;f<c.length;++f){var h=c.charCodeAt(f);if(45===h||46===h||95===h||126===h||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||o===i.RFC1738&&(40===h||41===h)){p[p.length]=c.charAt(f);continue}if(h<128){p[p.length]=s[h];continue}if(h<2048){p[p.length]=s[192|h>>6]+s[128|63&h];continue}if(h<55296||h>=57344){p[p.length]=s[224|h>>12]+s[128|h>>6&63]+s[128|63&h];continue}f+=1,h=65536+((1023&h)<<10|1023&c.charCodeAt(f)),p[p.length]=s[240|h>>18]+s[128|h>>12&63]+s[128|h>>6&63]+s[128|63&h]}u+=p.join("")}return u},isBuffer:function(t){return!!t&&"object"==typeof t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,r){if(o(t)){for(var n=[],i=0;i<t.length;i+=1)n.push(r(t[i]));return n}return r(t)},merge:function t(r,n,i){if(!n)return r;if("object"!=typeof n){if(o(r))r.push(n);else{if(!r||"object"!=typeof r)return[r,n];(i&&(i.plainObjects||i.allowPrototypes)||!a.call(Object.prototype,n))&&(r[n]=!0)}return r}if(!r||"object"!=typeof r)return[r].concat(n);var s=r;return(o(r)&&!o(n)&&(s=u(r,i)),o(r)&&o(n))?(n.forEach(function(n,o){if(a.call(r,o)){var s=r[o];s&&"object"==typeof s&&n&&"object"==typeof n?r[o]=t(s,n,i):r.push(n)}else r[o]=n}),r):Object.keys(n).reduce(function(r,o){var s=n[o];return a.call(r,o)?r[o]=t(r[o],s,i):r[o]=s,r},s)}}},55322:function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),r.default=void 0;var i=function(t,r){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=h(r);if(n&&n.has(t))return n.get(t);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=a?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=t[o]}return i.default=t,n&&n.set(t,i),i}(n(8218)),a=f(n(23615)),o=f(n(28830)),s=f(n(43007)),l=n(88065),u=n(39237),d=n(70972),c=f(n(50700)),p=f(n(73936));function f(t){return t&&t.__esModule?t:{default:t}}function h(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(h=function(t){return t?n:r})(t)}function m(){return(m=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function g(t,r,n){var i;return(r="symbol"==typeof(i=function(t,r){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(r,"string"))?i:String(i))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}class y extends i.Component{static getDerivedStateFromProps(t,r){let{position:n}=t,{prevPropsPosition:i}=r;return n&&(!i||n.x!==i.x||n.y!==i.y)?((0,p.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:i}),{x:n.x,y:n.y,prevPropsPosition:{...n}}):null}constructor(t){super(t),g(this,"onDragStart",(t,r)=>{if((0,p.default)("Draggable: onDragStart: %j",r),!1===this.props.onStart(t,(0,u.createDraggableData)(this,r)))return!1;this.setState({dragging:!0,dragged:!0})}),g(this,"onDrag",(t,r)=>{if(!this.state.dragging)return!1;(0,p.default)("Draggable: onDrag: %j",r);let n=(0,u.createDraggableData)(this,r),i={x:n.x,y:n.y,slackX:0,slackY:0};if(this.props.bounds){let{x:t,y:r}=i;i.x+=this.state.slackX,i.y+=this.state.slackY;let[a,o]=(0,u.getBoundPosition)(this,i.x,i.y);i.x=a,i.y=o,i.slackX=this.state.slackX+(t-i.x),i.slackY=this.state.slackY+(r-i.y),n.x=i.x,n.y=i.y,n.deltaX=i.x-this.state.x,n.deltaY=i.y-this.state.y}if(!1===this.props.onDrag(t,n))return!1;this.setState(i)}),g(this,"onDragStop",(t,r)=>{if(!this.state.dragging||!1===this.props.onStop(t,(0,u.createDraggableData)(this,r)))return!1;(0,p.default)("Draggable: onDragStop: %j",r);let n={dragging:!1,slackX:0,slackY:0};if(this.props.position){let{x:t,y:r}=this.props.position;n.x=t,n.y=r}this.setState(n)}),this.state={dragging:!1,dragged:!1,x:t.position?t.position.x:t.defaultPosition.x,y:t.position?t.position.y:t.defaultPosition.y,prevPropsPosition:{...t.position},slackX:0,slackY:0,isElementSVG:!1},t.position&&!(t.onDrag||t.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var t,r;return null!==(t=null===(r=this.props)||void 0===r||null===(r=r.nodeRef)||void 0===r?void 0:r.current)&&void 0!==t?t:o.default.findDOMNode(this)}render(){let{axis:t,bounds:r,children:n,defaultPosition:a,defaultClassName:o,defaultClassNameDragging:d,defaultClassNameDragged:p,position:f,positionOffset:h,scale:g,...y}=this.props,v={},b=null,x=!f||this.state.dragging,w=f||a,j={x:(0,u.canDragX)(this)&&x?this.state.x:w.x,y:(0,u.canDragY)(this)&&x?this.state.y:w.y};this.state.isElementSVG?b=(0,l.createSVGTransform)(j,h):v=(0,l.createCSSTransform)(j,h);let S=(0,s.default)(n.props.className||"",o,{[d]:this.state.dragging,[p]:this.state.dragged});return i.createElement(c.default,m({},y,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),i.cloneElement(i.Children.only(n),{className:S,style:{...n.props.style,...v},transform:b}))}}r.default=y,g(y,"displayName","Draggable"),g(y,"propTypes",{...c.default.propTypes,axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:d.dontSetMe,style:d.dontSetMe,transform:d.dontSetMe}),g(y,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})},50700:function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=function(t,r){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=p(r);if(n&&n.has(t))return n.get(t);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=a?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=t[o]}return i.default=t,n&&n.set(t,i),i}(n(8218)),a=c(n(23615)),o=c(n(28830)),s=n(88065),l=n(39237),u=n(70972),d=c(n(73936));function c(t){return t&&t.__esModule?t:{default:t}}function p(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(p=function(t){return t?n:r})(t)}function f(t,r,n){var i;return(r="symbol"==typeof(i=function(t,r){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(r,"string"))?i:String(i))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}let h={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},m=h.mouse;class g extends i.Component{constructor(){super(...arguments),f(this,"dragging",!1),f(this,"lastX",NaN),f(this,"lastY",NaN),f(this,"touchIdentifier",null),f(this,"mounted",!1),f(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;let r=this.findDOMNode();if(!r||!r.ownerDocument||!r.ownerDocument.body)throw Error("<DraggableCore> not mounted on DragStart!");let{ownerDocument:n}=r;if(this.props.disabled||!(t.target instanceof n.defaultView.Node)||this.props.handle&&!(0,s.matchesSelectorAndParentsTo)(t.target,this.props.handle,r)||this.props.cancel&&(0,s.matchesSelectorAndParentsTo)(t.target,this.props.cancel,r))return;"touchstart"===t.type&&t.preventDefault();let i=(0,s.getTouchIdentifier)(t);this.touchIdentifier=i;let a=(0,l.getControlPosition)(t,i,this);if(null==a)return;let{x:o,y:u}=a,c=(0,l.createCoreData)(this,o,u);(0,d.default)("DraggableCore: handleDragStart: %j",c),(0,d.default)("calling",this.props.onStart),!1!==this.props.onStart(t,c)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,s.addUserSelectStyles)(n),this.dragging=!0,this.lastX=o,this.lastY=u,(0,s.addEvent)(n,m.move,this.handleDrag),(0,s.addEvent)(n,m.stop,this.handleDragStop))}),f(this,"handleDrag",t=>{let r=(0,l.getControlPosition)(t,this.touchIdentifier,this);if(null==r)return;let{x:n,y:i}=r;if(Array.isArray(this.props.grid)){let t=n-this.lastX,r=i-this.lastY;if([t,r]=(0,l.snapToGrid)(this.props.grid,t,r),!t&&!r)return;n=this.lastX+t,i=this.lastY+r}let a=(0,l.createCoreData)(this,n,i);if((0,d.default)("DraggableCore: handleDrag: %j",a),!1===this.props.onDrag(t,a)||!1===this.mounted){try{this.handleDragStop(new MouseEvent("mouseup"))}catch(r){let t=document.createEvent("MouseEvents");t.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(t)}return}this.lastX=n,this.lastY=i}),f(this,"handleDragStop",t=>{if(!this.dragging)return;let r=(0,l.getControlPosition)(t,this.touchIdentifier,this);if(null==r)return;let{x:n,y:i}=r;if(Array.isArray(this.props.grid)){let t=n-this.lastX||0,r=i-this.lastY||0;[t,r]=(0,l.snapToGrid)(this.props.grid,t,r),n=this.lastX+t,i=this.lastY+r}let a=(0,l.createCoreData)(this,n,i);if(!1===this.props.onStop(t,a)||!1===this.mounted)return!1;let o=this.findDOMNode();o&&this.props.enableUserSelectHack&&(0,s.removeUserSelectStyles)(o.ownerDocument),(0,d.default)("DraggableCore: handleDragStop: %j",a),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,o&&((0,d.default)("DraggableCore: Removing handlers"),(0,s.removeEvent)(o.ownerDocument,m.move,this.handleDrag),(0,s.removeEvent)(o.ownerDocument,m.stop,this.handleDragStop))}),f(this,"onMouseDown",t=>(m=h.mouse,this.handleDragStart(t))),f(this,"onMouseUp",t=>(m=h.mouse,this.handleDragStop(t))),f(this,"onTouchStart",t=>(m=h.touch,this.handleDragStart(t))),f(this,"onTouchEnd",t=>(m=h.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;let t=this.findDOMNode();t&&(0,s.addEvent)(t,h.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;let t=this.findDOMNode();if(t){let{ownerDocument:r}=t;(0,s.removeEvent)(r,h.mouse.move,this.handleDrag),(0,s.removeEvent)(r,h.touch.move,this.handleDrag),(0,s.removeEvent)(r,h.mouse.stop,this.handleDragStop),(0,s.removeEvent)(r,h.touch.stop,this.handleDragStop),(0,s.removeEvent)(t,h.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,s.removeUserSelectStyles)(r)}}findDOMNode(){var t,r;return null!==(t=this.props)&&void 0!==t&&t.nodeRef?null===(r=this.props)||void 0===r||null===(r=r.nodeRef)||void 0===r?void 0:r.current:o.default.findDOMNode(this)}render(){return i.cloneElement(i.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}r.default=g,f(g,"displayName","DraggableCore"),f(g,"propTypes",{allowAnyClick:a.default.bool,children:a.default.node.isRequired,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:function(t,r){if(t[r]&&1!==t[r].nodeType)throw Error("Draggable's offsetParent must be a DOM Node.")},grid:a.default.arrayOf(a.default.number),handle:a.default.string,cancel:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number,className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),f(g,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},49529:function(t,r,n){"use strict";let{default:i,DraggableCore:a}=n(55322);t.exports=i,t.exports.default=i,t.exports.DraggableCore=a},88065:function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.addClassName=d,r.addEvent=function(t,r,n,i){if(!t)return;let a={capture:!0,...i};t.addEventListener?t.addEventListener(r,n,a):t.attachEvent?t.attachEvent("on"+r,n):t["on"+r]=n},r.addUserSelectStyles=function(t){if(!t)return;let r=t.getElementById("react-draggable-style-el");r||((r=t.createElement("style")).type="text/css",r.id="react-draggable-style-el",r.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",r.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",t.getElementsByTagName("head")[0].appendChild(r)),t.body&&d(t.body,"react-draggable-transparent-selection")},r.createCSSTransform=function(t,r){let n=u(t,r,"px");return{[(0,a.browserPrefixToKey)("transform",a.default)]:n}},r.createSVGTransform=function(t,r){return u(t,r,"")},r.getTouch=function(t,r){return t.targetTouches&&(0,i.findInArray)(t.targetTouches,t=>r===t.identifier)||t.changedTouches&&(0,i.findInArray)(t.changedTouches,t=>r===t.identifier)},r.getTouchIdentifier=function(t){return t.targetTouches&&t.targetTouches[0]?t.targetTouches[0].identifier:t.changedTouches&&t.changedTouches[0]?t.changedTouches[0].identifier:void 0},r.getTranslation=u,r.innerHeight=function(t){let r=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return r-=(0,i.int)(n.paddingTop),r-=(0,i.int)(n.paddingBottom)},r.innerWidth=function(t){let r=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return r-=(0,i.int)(n.paddingLeft),r-=(0,i.int)(n.paddingRight)},r.matchesSelector=l,r.matchesSelectorAndParentsTo=function(t,r,n){let i=t;do{if(l(i,r))return!0;if(i===n)break;i=i.parentNode}while(i);return!1},r.offsetXYFromParent=function(t,r,n){let i=r===r.ownerDocument.body?{left:0,top:0}:r.getBoundingClientRect();return{x:(t.clientX+r.scrollLeft-i.left)/n,y:(t.clientY+r.scrollTop-i.top)/n}},r.outerHeight=function(t){let r=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return r+=(0,i.int)(n.borderTopWidth),r+=(0,i.int)(n.borderBottomWidth)},r.outerWidth=function(t){let r=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return r+=(0,i.int)(n.borderLeftWidth),r+=(0,i.int)(n.borderRightWidth)},r.removeClassName=c,r.removeEvent=function(t,r,n,i){if(!t)return;let a={capture:!0,...i};t.removeEventListener?t.removeEventListener(r,n,a):t.detachEvent?t.detachEvent("on"+r,n):t["on"+r]=null},r.removeUserSelectStyles=function(t){if(t)try{if(t.body&&c(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{let r=(t.defaultView||window).getSelection();r&&"Caret"!==r.type&&r.removeAllRanges()}}catch(t){}};var i=n(70972),a=function(t,r){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=o(r);if(n&&n.has(t))return n.get(t);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var l=a?Object.getOwnPropertyDescriptor(t,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}(n(42249));function o(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(o=function(t){return t?n:r})(t)}let s="";function l(t,r){return s||(s=(0,i.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,i.isFunction)(t[r])})),!!(0,i.isFunction)(t[s])&&t[s](r)}function u(t,r,n){let{x:i,y:a}=t,o="translate(".concat(i).concat(n,",").concat(a).concat(n,")");if(r){let t="".concat("string"==typeof r.x?r.x:r.x+n),i="".concat("string"==typeof r.y?r.y:r.y+n);o="translate(".concat(t,", ").concat(i,")")+o}return o}function d(t,r){t.classList?t.classList.add(r):t.className.match(new RegExp("(?:^|\\s)".concat(r,"(?!\\S)")))||(t.className+=" ".concat(r))}function c(t,r){t.classList?t.classList.remove(r):t.className=t.className.replace(RegExp("(?:^|\\s)".concat(r,"(?!\\S)"),"g"),"")}},42249:function(t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.browserPrefixToKey=a,r.browserPrefixToStyle=function(t,r){return r?"-".concat(r.toLowerCase(),"-").concat(t):t},r.default=void 0,r.getPrefix=i;let n=["Moz","Webkit","O","ms"];function i(){var t;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";let i=null===(t=window.document)||void 0===t||null===(t=t.documentElement)||void 0===t?void 0:t.style;if(!i||r in i)return"";for(let t=0;t<n.length;t++)if(a(r,n[t])in i)return n[t];return""}function a(t,r){return r?"".concat(r).concat(function(t){let r="",n=!0;for(let i=0;i<t.length;i++)n?(r+=t[i].toUpperCase(),n=!1):"-"===t[i]?n=!0:r+=t[i];return r}(t)):t}r.default=i()},73936:function(t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){}},39237:function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.canDragX=function(t){return"both"===t.props.axis||"x"===t.props.axis},r.canDragY=function(t){return"both"===t.props.axis||"y"===t.props.axis},r.createCoreData=function(t,r,n){let a=!(0,i.isNum)(t.lastX),s=o(t);return a?{node:s,deltaX:0,deltaY:0,lastX:r,lastY:n,x:r,y:n}:{node:s,deltaX:r-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:r,y:n}},r.createDraggableData=function(t,r){let n=t.props.scale;return{node:r.node,x:t.state.x+r.deltaX/n,y:t.state.y+r.deltaY/n,deltaX:r.deltaX/n,deltaY:r.deltaY/n,lastX:t.state.x,lastY:t.state.y}},r.getBoundPosition=function(t,r,n){var s;if(!t.props.bounds)return[r,n];let{bounds:l}=t.props;l="string"==typeof l?l:{left:(s=l).left,top:s.top,right:s.right,bottom:s.bottom};let u=o(t);if("string"==typeof l){let t;let{ownerDocument:r}=u,n=r.defaultView;if(!((t="parent"===l?u.parentNode:r.querySelector(l))instanceof n.HTMLElement))throw Error('Bounds selector "'+l+'" could not find an element.');let o=n.getComputedStyle(u),s=n.getComputedStyle(t);l={left:-u.offsetLeft+(0,i.int)(s.paddingLeft)+(0,i.int)(o.marginLeft),top:-u.offsetTop+(0,i.int)(s.paddingTop)+(0,i.int)(o.marginTop),right:(0,a.innerWidth)(t)-(0,a.outerWidth)(u)-u.offsetLeft+(0,i.int)(s.paddingRight)-(0,i.int)(o.marginRight),bottom:(0,a.innerHeight)(t)-(0,a.outerHeight)(u)-u.offsetTop+(0,i.int)(s.paddingBottom)-(0,i.int)(o.marginBottom)}}return(0,i.isNum)(l.right)&&(r=Math.min(r,l.right)),(0,i.isNum)(l.bottom)&&(n=Math.min(n,l.bottom)),(0,i.isNum)(l.left)&&(r=Math.max(r,l.left)),(0,i.isNum)(l.top)&&(n=Math.max(n,l.top)),[r,n]},r.getControlPosition=function(t,r,n){let i="number"==typeof r?(0,a.getTouch)(t,r):null;if("number"==typeof r&&!i)return null;let s=o(n),l=n.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,a.offsetXYFromParent)(i||t,l,n.props.scale)},r.snapToGrid=function(t,r,n){return[Math.round(r/t[0])*t[0],Math.round(n/t[1])*t[1]]};var i=n(70972),a=n(88065);function o(t){let r=t.findDOMNode();if(!r)throw Error("<DraggableCore>: Unmounted during event!");return r}},70972:function(t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.dontSetMe=function(t,r,n){if(t[r])return Error("Invalid prop ".concat(r," passed to ").concat(n," - do not set this, set it on the child."))},r.findInArray=function(t,r){for(let n=0,i=t.length;n<i;n++)if(r.apply(r,[t[n],n,t]))return t[n]},r.int=function(t){return parseInt(t,10)},r.isFunction=function(t){return"function"==typeof t||"[object Function]"===Object.prototype.toString.call(t)},r.isNum=function(t){return"number"==typeof t&&!isNaN(t)}},43007:function(t,r,n){"use strict";function i(){for(var t,r,n=0,i="";n<arguments.length;)(t=arguments[n++])&&(r=function t(r){var n,i,a="";if("string"==typeof r||"number"==typeof r)a+=r;else if("object"==typeof r){if(Array.isArray(r))for(n=0;n<r.length;n++)r[n]&&(i=t(r[n]))&&(a&&(a+=" "),a+=i);else for(n in r)r[n]&&(a&&(a+=" "),a+=n)}return a}(t))&&(i&&(i+=" "),i+=r);return i}n.r(r),n.d(r,{clsx:()=>i,default:()=>a});let a=i},33275:function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=f(n(8218)),a=n(28830),o=f(n(23615)),s=n(49529),l=n(34026),u=n(47728),d=n(46284),c=n(42288),p=f(n(36234));function f(t){return t&&t.__esModule?t:{default:t}}function h(t,r,n){var i;return(r="symbol"==typeof(i=function(t,r){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(r,"string"))?i:String(i))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}class m extends i.default.Component{constructor(){super(...arguments),h(this,"state",{resizing:null,dragging:null,className:""}),h(this,"elementRef",i.default.createRef()),h(this,"onDragStart",(t,r)=>{let{node:n}=r,{onDragStart:i,transformScale:a}=this.props;if(!i)return;let o={top:0,left:0},{offsetParent:s}=n;if(!s)return;let l=s.getBoundingClientRect(),u=n.getBoundingClientRect(),c=u.left/a,p=l.left/a,f=u.top/a,h=l.top/a;o.left=c-p+s.scrollLeft,o.top=f-h+s.scrollTop,this.setState({dragging:o});let{x:m,y:g}=(0,d.calcXY)(this.getPositionParams(),o.top,o.left,this.props.w,this.props.h);return i.call(this,this.props.i,m,g,{e:t,node:n,newPosition:o})}),h(this,"onDrag",(t,r,n)=>{let{node:i,deltaX:o,deltaY:s}=r,{onDrag:l}=this.props;if(!l)return;if(!this.state.dragging)throw Error("onDrag called before onDragStart.");let u=this.state.dragging.top+s,c=this.state.dragging.left+o,{isBounded:p,i:f,w:h,h:m,containerWidth:g}=this.props,y=this.getPositionParams();if(p){let{offsetParent:t}=i;if(t){let{margin:r,rowHeight:n,containerPadding:i}=this.props,a=t.clientHeight-(0,d.calcGridItemWHPx)(m,n,r[1]);u=(0,d.clamp)(u-i[1],0,a);let o=(0,d.calcGridColWidth)(y),s=g-(0,d.calcGridItemWHPx)(h,o,r[0]);c=(0,d.clamp)(c-i[0],0,s)}}let v={top:u,left:c};n?this.setState({dragging:v}):(0,a.flushSync)(()=>{this.setState({dragging:v})});let{x:b,y:x}=(0,d.calcXY)(y,u,c,h,m);return l.call(this,f,b,x,{e:t,node:i,newPosition:v})}),h(this,"onDragStop",(t,r)=>{let{node:n}=r,{onDragStop:i}=this.props;if(!i)return;if(!this.state.dragging)throw Error("onDragEnd called before onDragStart.");let{w:a,h:o,i:s}=this.props,{left:l,top:u}=this.state.dragging;this.setState({dragging:null});let{x:c,y:p}=(0,d.calcXY)(this.getPositionParams(),u,l,a,o);return i.call(this,s,c,p,{e:t,node:n,newPosition:{top:u,left:l}})}),h(this,"onResizeStop",(t,r,n)=>this.onResizeHandler(t,r,n,"onResizeStop")),h(this,"onResizeStart",(t,r,n)=>this.onResizeHandler(t,r,n,"onResizeStart")),h(this,"onResize",(t,r,n)=>this.onResizeHandler(t,r,n,"onResize"))}shouldComponentUpdate(t,r){if(this.props.children!==t.children||this.props.droppingPosition!==t.droppingPosition)return!0;let n=(0,d.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),i=(0,d.calcGridItemPosition)(this.getPositionParams(t),t.x,t.y,t.w,t.h,r);return!(0,u.fastPositionEqual)(n,i)||this.props.useCSSTransforms!==t.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(t){this.moveDroppingItem(t)}moveDroppingItem(t){let{droppingPosition:r}=this.props;if(!r)return;let n=this.elementRef.current;if(!n)return;let i=t.droppingPosition||{left:0,top:0},{dragging:a}=this.state,o=a&&r.left!==i.left||r.top!==i.top;if(a){if(o){let t=r.left-a.left,i=r.top-a.top;this.onDrag(r.e,{node:n,deltaX:t,deltaY:i},!0)}}else this.onDragStart(r.e,{node:n,deltaX:r.left,deltaY:r.top})}getPositionParams(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{cols:t.cols,containerPadding:t.containerPadding,containerWidth:t.containerWidth,margin:t.margin,maxRows:t.maxRows,rowHeight:t.rowHeight}}createStyle(t){let r;let{usePercentages:n,containerWidth:i,useCSSTransforms:a}=this.props;return a?r=(0,u.setTransform)(t):(r=(0,u.setTopLeft)(t),n&&(r.left=(0,u.perc)(t.left/i),r.width=(0,u.perc)(t.width/i))),r}mixinDraggable(t,r){return i.default.createElement(s.DraggableCore,{disabled:!r,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},t)}curryResizeHandler(t,r){return(n,i)=>r(n,i,t)}mixinResizable(t,r,n){let{cols:a,minW:o,minH:s,maxW:u,maxH:c,transformScale:p,resizeHandles:f,resizeHandle:h}=this.props,m=this.getPositionParams(),g=(0,d.calcGridItemPosition)(m,0,0,a,0).width,y=(0,d.calcGridItemPosition)(m,0,0,o,s),v=(0,d.calcGridItemPosition)(m,0,0,u,c),b=[y.width,y.height],x=[Math.min(v.width,g),Math.min(v.height,1/0)];return i.default.createElement(l.Resizable,{draggableOpts:{disabled:!n},className:n?void 0:"react-resizable-hide",width:r.width,height:r.height,minConstraints:b,maxConstraints:x,onResizeStop:this.curryResizeHandler(r,this.onResizeStop),onResizeStart:this.curryResizeHandler(r,this.onResizeStart),onResize:this.curryResizeHandler(r,this.onResize),transformScale:p,resizeHandles:f,handle:h},t)}onResizeHandler(t,r,n,i){let{node:o,size:s,handle:l}=r,c=this.props[i];if(!c)return;let{x:p,y:f,i:h,maxH:m,minH:g,containerWidth:y}=this.props,{minW:v,maxW:b}=this.props,x=s;o&&(x=(0,u.resizeItemInDirection)(l,n,s,y),(0,a.flushSync)(()=>{this.setState({resizing:"onResizeStop"===i?null:x})}));let{w,h:j}=(0,d.calcWH)(this.getPositionParams(),x.width,x.height,p,f,l);w=(0,d.clamp)(w,Math.max(v,1),b),j=(0,d.clamp)(j,g,m),c.call(this,h,w,j,{e:t,node:o,size:x,handle:l})}render(){let{x:t,y:r,w:n,h:a,isDraggable:o,isResizable:s,droppingPosition:l,useCSSTransforms:u}=this.props,c=(0,d.calcGridItemPosition)(this.getPositionParams(),t,r,n,a,this.state),f=i.default.Children.only(this.props.children),h=i.default.cloneElement(f,{ref:this.elementRef,className:(0,p.default)("react-grid-item",f.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":o,"react-draggable-dragging":!!this.state.dragging,dropping:!!l,cssTransforms:u}),style:{...this.props.style,...f.props.style,...this.createStyle(c)}});return h=this.mixinResizable(h,c,s),h=this.mixinDraggable(h,o)}}r.default=m,h(m,"propTypes",{children:o.default.element,cols:o.default.number.isRequired,containerWidth:o.default.number.isRequired,rowHeight:o.default.number.isRequired,margin:o.default.array.isRequired,maxRows:o.default.number.isRequired,containerPadding:o.default.array.isRequired,x:o.default.number.isRequired,y:o.default.number.isRequired,w:o.default.number.isRequired,h:o.default.number.isRequired,minW:function(t,r){let n=t[r];return"number"!=typeof n?Error("minWidth not Number"):n>t.w||n>t.maxW?Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(t,r){let n=t[r];return"number"!=typeof n?Error("maxWidth not Number"):n<t.w||n<t.minW?Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(t,r){let n=t[r];return"number"!=typeof n?Error("minHeight not Number"):n>t.h||n>t.maxH?Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(t,r){let n=t[r];return"number"!=typeof n?Error("maxHeight not Number"):n<t.h||n<t.minH?Error("maxHeight smaller than item height/minHeight"):void 0},i:o.default.string.isRequired,resizeHandles:c.resizeHandleAxesType,resizeHandle:c.resizeHandleType,onDragStop:o.default.func,onDragStart:o.default.func,onDrag:o.default.func,onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,isDraggable:o.default.bool.isRequired,isResizable:o.default.bool.isRequired,isBounded:o.default.bool.isRequired,static:o.default.bool,useCSSTransforms:o.default.bool.isRequired,transformScale:o.default.number,className:o.default.string,handle:o.default.string,cancel:o.default.string,droppingPosition:o.default.shape({e:o.default.object.isRequired,left:o.default.number.isRequired,top:o.default.number.isRequired})}),h(m,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1})},39402:function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=function(t,r){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=p(r);if(n&&n.has(t))return n.get(t);var i={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=a?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=t[o]}return i.default=t,n&&n.set(t,i),i}(n(8218)),a=n(89377),o=c(n(36234)),s=n(47728),l=n(46284),u=c(n(33275)),d=c(n(42288));function c(t){return t&&t.__esModule?t:{default:t}}function p(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(p=function(t){return t?n:r})(t)}function f(t,r,n){var i;return(r="symbol"==typeof(i=function(t,r){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(r,"string"))?i:String(i))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}let h="react-grid-layout",m=!1;try{m=/firefox/i.test(navigator.userAgent)}catch(t){}class g extends i.Component{constructor(){super(...arguments),f(this,"state",{activeDrag:null,layout:(0,s.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,s.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),f(this,"dragEnterCounter",0),f(this,"onDragStart",(t,r,n,i)=>{let{e:a,node:o}=i,{layout:l}=this.state,u=(0,s.getLayoutItem)(l,t);if(!u)return;let d={w:u.w,h:u.h,x:u.x,y:u.y,placeholder:!0,i:t};return this.setState({oldDragItem:(0,s.cloneLayoutItem)(u),oldLayout:l,activeDrag:d}),this.props.onDragStart(l,u,u,null,a,o)}),f(this,"onDrag",(t,r,n,i)=>{let{e:a,node:o}=i,{oldDragItem:l}=this.state,{layout:u}=this.state,{cols:d,allowOverlap:c,preventCollision:p}=this.props,f=(0,s.getLayoutItem)(u,t);if(!f)return;let h={w:f.w,h:f.h,x:f.x,y:f.y,placeholder:!0,i:t};u=(0,s.moveElement)(u,f,r,n,!0,p,(0,s.compactType)(this.props),d,c),this.props.onDrag(u,l,f,h,a,o),this.setState({layout:c?u:(0,s.compact)(u,(0,s.compactType)(this.props),d),activeDrag:h})}),f(this,"onDragStop",(t,r,n,i)=>{let{e:a,node:o}=i;if(!this.state.activeDrag)return;let{oldDragItem:l}=this.state,{layout:u}=this.state,{cols:d,preventCollision:c,allowOverlap:p}=this.props,f=(0,s.getLayoutItem)(u,t);if(!f)return;u=(0,s.moveElement)(u,f,r,n,!0,c,(0,s.compactType)(this.props),d,p);let h=p?u:(0,s.compact)(u,(0,s.compactType)(this.props),d);this.props.onDragStop(h,l,f,null,a,o);let{oldLayout:m}=this.state;this.setState({activeDrag:null,layout:h,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(h,m)}),f(this,"onResizeStart",(t,r,n,i)=>{let{e:a,node:o}=i,{layout:l}=this.state,u=(0,s.getLayoutItem)(l,t);u&&(this.setState({oldResizeItem:(0,s.cloneLayoutItem)(u),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(l,u,u,null,a,o))}),f(this,"onResize",(t,r,n,i)=>{let a,o,l,{e:u,node:d,size:c,handle:p}=i,{oldResizeItem:f}=this.state,{layout:h}=this.state,{cols:m,preventCollision:g,allowOverlap:y}=this.props,v=!1,[b,x]=(0,s.withLayoutItem)(h,t,t=>(o=t.x,l=t.y,-1!==["sw","w","nw","n","ne"].indexOf(p)&&(-1!==["sw","nw","w"].indexOf(p)&&(o=t.x+(t.w-r),r=t.x!==o&&o<0?t.w:r,o=o<0?0:o),-1!==["ne","n","nw"].indexOf(p)&&(l=t.y+(t.h-n),n=t.y!==l&&l<0?t.h:n,l=l<0?0:l),v=!0),g&&!y&&(0,s.getAllCollisions)(h,{...t,w:r,h:n,x:o,y:l}).filter(r=>r.i!==t.i).length>0&&(l=t.y,n=t.h,o=t.x,r=t.w,v=!1),t.w=r,t.h=n,t));if(!x)return;a=b,v&&(a=(0,s.moveElement)(b,x,o,l,!0,this.props.preventCollision,(0,s.compactType)(this.props),m,y));let w={w:x.w,h:x.h,x:x.x,y:x.y,static:!0,i:t};this.props.onResize(a,f,x,w,u,d),this.setState({layout:y?a:(0,s.compact)(a,(0,s.compactType)(this.props),m),activeDrag:w})}),f(this,"onResizeStop",(t,r,n,i)=>{let{e:a,node:o}=i,{layout:l,oldResizeItem:u}=this.state,{cols:d,allowOverlap:c}=this.props,p=(0,s.getLayoutItem)(l,t),f=c?l:(0,s.compact)(l,(0,s.compactType)(this.props),d);this.props.onResizeStop(f,u,p,null,a,o);let{oldLayout:h}=this.state;this.setState({activeDrag:null,layout:f,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(f,h)}),f(this,"onDragOver",t=>{if(t.preventDefault(),t.stopPropagation(),m&&!t.nativeEvent.target?.classList.contains(h))return!1;let{droppingItem:r,onDropDragOver:n,margin:a,cols:o,rowHeight:s,maxRows:u,width:d,containerPadding:c,transformScale:p}=this.props,f=n?.(t);if(!1===f)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;let g={...r,...f},{layout:y}=this.state,v=t.currentTarget.getBoundingClientRect(),b=t.clientX-v.left,x=t.clientY-v.top,w={left:b/p,top:x/p,e:t};if(this.state.droppingDOMNode){if(this.state.droppingPosition){let{left:t,top:r}=this.state.droppingPosition;(t!=b||r!=x)&&this.setState({droppingPosition:w})}}else{let t=(0,l.calcXY)({cols:o,margin:a,maxRows:u,rowHeight:s,containerWidth:d,containerPadding:c||a},x,b,g.w,g.h);this.setState({droppingDOMNode:i.createElement("div",{key:g.i}),droppingPosition:w,layout:[...y,{...g,x:t.x,y:t.y,static:!1,isDraggable:!0}]})}}),f(this,"removeDroppingPlaceholder",()=>{let{droppingItem:t,cols:r}=this.props,{layout:n}=this.state,i=(0,s.compact)(n.filter(r=>r.i!==t.i),(0,s.compactType)(this.props),r,this.props.allowOverlap);this.setState({layout:i,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),f(this,"onDragLeave",t=>{t.preventDefault(),t.stopPropagation(),this.dragEnterCounter--,0===this.dragEnterCounter&&this.removeDroppingPlaceholder()}),f(this,"onDragEnter",t=>{t.preventDefault(),t.stopPropagation(),this.dragEnterCounter++}),f(this,"onDrop",t=>{t.preventDefault(),t.stopPropagation();let{droppingItem:r}=this.props,{layout:n}=this.state,i=n.find(t=>t.i===r.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(n,i,t)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(t,r){let n;return r.activeDrag?null:((0,a.deepEqual)(t.layout,r.propsLayout)&&t.compactType===r.compactType?(0,s.childrenEqual)(t.children,r.children)||(n=r.layout):n=t.layout,n)?{layout:(0,s.synchronizeLayoutWithChildren)(n,t.children,t.cols,(0,s.compactType)(t),t.allowOverlap),compactType:t.compactType,children:t.children,propsLayout:t.layout}:null}shouldComponentUpdate(t,r){return this.props.children!==t.children||!(0,s.fastRGLPropsEqual)(this.props,t,a.deepEqual)||this.state.activeDrag!==r.activeDrag||this.state.mounted!==r.mounted||this.state.droppingPosition!==r.droppingPosition}componentDidUpdate(t,r){if(!this.state.activeDrag){let t=this.state.layout,n=r.layout;this.onLayoutMaybeChanged(t,n)}}containerHeight(){if(!this.props.autoSize)return;let t=(0,s.bottom)(this.state.layout),r=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return t*this.props.rowHeight+(t-1)*this.props.margin[1]+2*r+"px"}onLayoutMaybeChanged(t,r){r||(r=this.state.layout),(0,a.deepEqual)(r,t)||this.props.onLayoutChange(t)}placeholder(){let{activeDrag:t}=this.state;if(!t)return null;let{width:r,cols:n,margin:a,containerPadding:o,rowHeight:s,maxRows:l,useCSSTransforms:d,transformScale:c}=this.props;return i.createElement(u.default,{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,className:`react-grid-placeholder ${this.state.resizing?"placeholder-resizing":""}`,containerWidth:r,cols:n,margin:a,containerPadding:o||a,maxRows:l,rowHeight:s,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:d,transformScale:c},i.createElement("div",null))}processGridItem(t,r){if(!t||!t.key)return;let n=(0,s.getLayoutItem)(this.state.layout,String(t.key));if(!n)return null;let{width:a,cols:o,margin:l,containerPadding:d,rowHeight:c,maxRows:p,isDraggable:f,isResizable:h,isBounded:m,useCSSTransforms:g,transformScale:y,draggableCancel:v,draggableHandle:b,resizeHandles:x,resizeHandle:w}=this.props,{mounted:j,droppingPosition:S}=this.state,C="boolean"==typeof n.isDraggable?n.isDraggable:!n.static&&f,_="boolean"==typeof n.isResizable?n.isResizable:!n.static&&h,O=n.resizeHandles||x,k=C&&m&&!1!==n.isBounded;return i.createElement(u.default,{containerWidth:a,cols:o,margin:l,containerPadding:d||l,maxRows:p,rowHeight:c,cancel:v,handle:b,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:C,isResizable:_,isBounded:k,useCSSTransforms:g&&j,usePercentages:!j,transformScale:y,w:n.w,h:n.h,x:n.x,y:n.y,i:n.i,minH:n.minH,minW:n.minW,maxH:n.maxH,maxW:n.maxW,static:n.static,droppingPosition:r?S:void 0,resizeHandles:O,resizeHandle:w},t)}render(){let{className:t,style:r,isDroppable:n,innerRef:a}=this.props,l=(0,o.default)(h,t),u={height:this.containerHeight(),...r};return i.createElement("div",{ref:a,className:l,style:u,onDrop:n?this.onDrop:s.noop,onDragLeave:n?this.onDragLeave:s.noop,onDragEnter:n?this.onDragEnter:s.noop,onDragOver:n?this.onDragOver:s.noop},i.Children.map(this.props.children,t=>this.processGridItem(t)),n&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}r.default=g,f(g,"displayName","ReactGridLayout"),f(g,"propTypes",d.default),f(g,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:s.noop,onDragStart:s.noop,onDrag:s.noop,onDragStop:s.noop,onResizeStart:s.noop,onResize:s.noop,onResizeStop:s.noop,onDrop:s.noop,onDropDragOver:s.noop})},42288:function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.resizeHandleType=r.resizeHandleAxesType=r.default=void 0;var i=o(n(23615)),a=o(n(8218));function o(t){return t&&t.__esModule?t:{default:t}}let s=r.resizeHandleAxesType=i.default.arrayOf(i.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),l=r.resizeHandleType=i.default.oneOfType([i.default.node,i.default.func]);r.default={className:i.default.string,style:i.default.object,width:i.default.number,autoSize:i.default.bool,cols:i.default.number,draggableCancel:i.default.string,draggableHandle:i.default.string,verticalCompact:function(t){t.verticalCompact},compactType:i.default.oneOf(["vertical","horizontal"]),layout:function(t){var r=t.layout;void 0!==r&&n(47728).validateLayout(r,"layout")},margin:i.default.arrayOf(i.default.number),containerPadding:i.default.arrayOf(i.default.number),rowHeight:i.default.number,maxRows:i.default.number,isBounded:i.default.bool,isDraggable:i.default.bool,isResizable:i.default.bool,allowOverlap:i.default.bool,preventCollision:i.default.bool,useCSSTransforms:i.default.bool,transformScale:i.default.number,isDroppable:i.default.bool,resizeHandles:s,resizeHandle:l,onLayoutChange:i.default.func,onDragStart:i.default.func,onDrag:i.default.func,onDragStop:i.default.func,onResizeStart:i.default.func,onResize:i.default.func,onResizeStop:i.default.func,onDrop:i.default.func,droppingItem:i.default.shape({i:i.default.string.isRequired,w:i.default.number.isRequired,h:i.default.number.isRequired}),children:function(t,r){let n=t[r],i={};a.default.Children.forEach(n,function(t){if(t?.key!=null){if(i[t.key])throw Error('Duplicate child key "'+t.key+'" found! This will cause problems in ReactGridLayout.');i[t.key]=!0}})},innerRef:i.default.any}},58255:function(t,r,n){"use strict";r.default=void 0;var i=function(t,r){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=c(r);if(n&&n.has(t))return n.get(t);var i={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=a?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=t[o]}return i.default=t,n&&n.set(t,i),i}(n(8218)),a=d(n(23615)),o=n(89377),s=n(47728),l=n(34119),u=d(n(39402));function d(t){return t&&t.__esModule?t:{default:t}}function c(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(c=function(t){return t?n:r})(t)}function p(){return(p=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function f(t,r,n){var i;return(r="symbol"==typeof(i=function(t,r){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(r,"string"))?i:String(i))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}let h=t=>Object.prototype.toString.call(t);function m(t,r){return null==t?null:Array.isArray(t)?t:t[r]}class g extends i.Component{constructor(){super(...arguments),f(this,"state",this.generateInitialState()),f(this,"onLayoutChange",t=>{this.props.onLayoutChange(t,{...this.props.layouts,[this.state.breakpoint]:t})})}generateInitialState(){let{width:t,breakpoints:r,layouts:n,cols:i}=this.props,a=(0,l.getBreakpointFromWidth)(r,t),o=(0,l.getColsFromBreakpoint)(a,i),s=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,l.findOrGenerateResponsiveLayout)(n,r,a,a,o,s),breakpoint:a,cols:o}}static getDerivedStateFromProps(t,r){if(!(0,o.deepEqual)(t.layouts,r.layouts)){let{breakpoint:n,cols:i}=r;return{layout:(0,l.findOrGenerateResponsiveLayout)(t.layouts,t.breakpoints,n,n,i,t.compactType),layouts:t.layouts}}return null}componentDidUpdate(t){this.props.width==t.width&&this.props.breakpoint===t.breakpoint&&(0,o.deepEqual)(this.props.breakpoints,t.breakpoints)&&(0,o.deepEqual)(this.props.cols,t.cols)||this.onWidthChange(t)}onWidthChange(t){let{breakpoints:r,cols:n,layouts:i,compactType:a}=this.props,o=this.props.breakpoint||(0,l.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),u=this.state.breakpoint,d=(0,l.getColsFromBreakpoint)(o,n),c={...i};if(u!==o||t.breakpoints!==r||t.cols!==n){u in c||(c[u]=(0,s.cloneLayout)(this.state.layout));let t=(0,l.findOrGenerateResponsiveLayout)(c,r,o,u,d,a);t=(0,s.synchronizeLayoutWithChildren)(t,this.props.children,d,a,this.props.allowOverlap),c[o]=t,this.props.onBreakpointChange(o,d),this.props.onLayoutChange(t,c),this.setState({breakpoint:o,layout:t,cols:d})}let p=m(this.props.margin,o),f=m(this.props.containerPadding,o);this.props.onWidthChange(this.props.width,p,d,f)}render(){let{breakpoint:t,breakpoints:r,cols:n,layouts:a,margin:o,containerPadding:s,onBreakpointChange:l,onLayoutChange:d,onWidthChange:c,...f}=this.props;return i.createElement(u.default,p({},f,{margin:m(o,this.state.breakpoint),containerPadding:m(s,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}r.default=g,f(g,"propTypes",{breakpoint:a.default.string,breakpoints:a.default.object,allowOverlap:a.default.bool,cols:a.default.object,margin:a.default.oneOfType([a.default.array,a.default.object]),containerPadding:a.default.oneOfType([a.default.array,a.default.object]),layouts(t,r){if("[object Object]"!==h(t[r]))throw Error("Layout property must be an object. Received: "+h(t[r]));Object.keys(t[r]).forEach(r=>{if(!(r in t.breakpoints))throw Error("Each key in layouts must align with a key in breakpoints.");(0,s.validateLayout)(t.layouts[r],"layouts."+r)})},width:a.default.number.isRequired,onBreakpointChange:a.default.func,onLayoutChange:a.default.func,onWidthChange:a.default.func}),f(g,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:s.noop,onLayoutChange:s.noop,onWidthChange:s.noop})},46284:function(t,r){"use strict";function n(t){let{margin:r,containerPadding:n,containerWidth:i,cols:a}=t;return(i-r[0]*(a-1)-2*n[0])/a}function i(t,r,n){return Number.isFinite(t)?Math.round(r*t+Math.max(0,t-1)*n):t}function a(t,r,n){return Math.max(Math.min(t,n),r)}Object.defineProperty(r,"__esModule",{value:!0}),r.calcGridColWidth=n,r.calcGridItemPosition=function(t,r,a,o,s,l){let{margin:u,containerPadding:d,rowHeight:c}=t,p=n(t),f={};return l&&l.resizing?(f.width=Math.round(l.resizing.width),f.height=Math.round(l.resizing.height)):(f.width=i(o,p,u[0]),f.height=i(s,c,u[1])),l&&l.dragging?(f.top=Math.round(l.dragging.top),f.left=Math.round(l.dragging.left)):l&&l.resizing&&"number"==typeof l.resizing.top&&"number"==typeof l.resizing.left?(f.top=Math.round(l.resizing.top),f.left=Math.round(l.resizing.left)):(f.top=Math.round((c+u[1])*a+d[1]),f.left=Math.round((p+u[0])*r+d[0])),f},r.calcGridItemWHPx=i,r.calcWH=function(t,r,i,o,s,l){let{margin:u,maxRows:d,cols:c,rowHeight:p}=t,f=n(t),h=Math.round((r+u[0])/(f+u[0])),m=Math.round((i+u[1])/(p+u[1])),g=a(h,0,c-o),y=a(m,0,d-s);return -1!==["sw","w","nw"].indexOf(l)&&(g=a(h,0,c)),-1!==["nw","n","ne"].indexOf(l)&&(y=a(m,0,d)),{w:g,h:y}},r.calcXY=function(t,r,i,o,s){let{margin:l,containerPadding:u,cols:d,rowHeight:c,maxRows:p}=t,f=n(t),h=Math.round((i-u[0])/(f+l[0])),m=Math.round((r-u[1])/(c+l[1]));return{x:h=a(h,0,d-o),y:m=a(m,0,p-s)}},r.clamp=a},29022:function(t,r,n){"use strict";r.default=function(t){var r;return r=class extends i.Component{constructor(){super(...arguments),c(this,"state",{width:1280}),c(this,"elementRef",i.createRef()),c(this,"mounted",!1),c(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new o.default(t=>{if(this.elementRef.current instanceof HTMLElement){let r=t[0].contentRect.width;this.setState({width:r})}});let t=this.elementRef.current;t instanceof HTMLElement&&this.resizeObserver.observe(t)}componentWillUnmount(){this.mounted=!1;let t=this.elementRef.current;t instanceof HTMLElement&&this.resizeObserver.unobserve(t),this.resizeObserver.disconnect()}render(){let{measureBeforeMount:r,...n}=this.props;return r&&!this.mounted?i.createElement("div",{className:(0,s.default)(this.props.className,"react-grid-layout"),style:this.props.style,ref:this.elementRef}):i.createElement(t,d({innerRef:this.elementRef},n,this.state))}},c(r,"defaultProps",{measureBeforeMount:!1}),c(r,"propTypes",{measureBeforeMount:a.default.bool}),r};var i=function(t,r){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=u(r);if(n&&n.has(t))return n.get(t);var i={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=a?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=t[o]}return i.default=t,n&&n.set(t,i),i}(n(8218)),a=l(n(23615)),o=l(n(97329)),s=l(n(36234));function l(t){return t&&t.__esModule?t:{default:t}}function u(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(u=function(t){return t?n:r})(t)}function d(){return(d=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function c(t,r,n){var i;return(r="symbol"==typeof(i=function(t,r){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(r,"string"))?i:String(i))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}},77902:function(t){t.exports=function(t,r,n){return t===r||t.className===r.className&&n(t.style,r.style)&&t.width===r.width&&t.autoSize===r.autoSize&&t.cols===r.cols&&t.draggableCancel===r.draggableCancel&&t.draggableHandle===r.draggableHandle&&n(t.verticalCompact,r.verticalCompact)&&n(t.compactType,r.compactType)&&n(t.layout,r.layout)&&n(t.margin,r.margin)&&n(t.containerPadding,r.containerPadding)&&t.rowHeight===r.rowHeight&&t.maxRows===r.maxRows&&t.isBounded===r.isBounded&&t.isDraggable===r.isDraggable&&t.isResizable===r.isResizable&&t.allowOverlap===r.allowOverlap&&t.preventCollision===r.preventCollision&&t.useCSSTransforms===r.useCSSTransforms&&t.transformScale===r.transformScale&&t.isDroppable===r.isDroppable&&n(t.resizeHandles,r.resizeHandles)&&n(t.resizeHandle,r.resizeHandle)&&t.onLayoutChange===r.onLayoutChange&&t.onDragStart===r.onDragStart&&t.onDrag===r.onDrag&&t.onDragStop===r.onDragStop&&t.onResizeStart===r.onResizeStart&&t.onResize===r.onResize&&t.onResizeStop===r.onResizeStop&&t.onDrop===r.onDrop&&n(t.droppingItem,r.droppingItem)&&n(t.innerRef,r.innerRef)}},34119:function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.findOrGenerateResponsiveLayout=function(t,r,n,o,s,l){if(t[n])return(0,i.cloneLayout)(t[n]);let u=t[o],d=a(r),c=d.slice(d.indexOf(n));for(let r=0,n=c.length;r<n;r++){let n=c[r];if(t[n]){u=t[n];break}}return u=(0,i.cloneLayout)(u||[]),(0,i.compact)((0,i.correctBounds)(u,{cols:s}),l,s)},r.getBreakpointFromWidth=function(t,r){let n=a(t),i=n[0];for(let a=1,o=n.length;a<o;a++){let o=n[a];r>t[o]&&(i=o)}return i},r.getColsFromBreakpoint=function(t,r){if(!r[t])throw Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+t+" is missing!");return r[t]},r.sortBreakpoints=a;var i=n(47728);function a(t){return Object.keys(t).sort(function(r,n){return t[r]-t[n]})}},47728:function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.bottom=s,r.childrenEqual=function(t,r){return(0,a.deepEqual)(o.default.Children.map(t,t=>t?.key),o.default.Children.map(r,t=>t?.key))&&(0,a.deepEqual)(o.default.Children.map(t,t=>t?.props["data-grid"]),o.default.Children.map(r,t=>t?.props["data-grid"]))},r.cloneLayout=l,r.cloneLayoutItem=d,r.collides=c,r.compact=p,r.compactItem=m,r.compactType=function(t){let{verticalCompact:r,compactType:n}=t||{};return!1===r?null:n},r.correctBounds=g,r.fastPositionEqual=function(t,r){return t.left===r.left&&t.top===r.top&&t.width===r.width&&t.height===r.height},r.fastRGLPropsEqual=void 0,r.getAllCollisions=b,r.getFirstCollision=v,r.getLayoutItem=y,r.getStatics=x,r.modifyLayout=u,r.moveElement=w,r.moveElementAwayFromCollision=j,r.noop=void 0,r.perc=function(t){return 100*t+"%"},r.resizeItemInDirection=function(t,r,n,i){let a=A[t];return a?a(r,{...r,...n},i):n},r.setTopLeft=function(t){let{top:r,left:n,width:i,height:a}=t;return{top:`${r}px`,left:`${n}px`,width:`${i}px`,height:`${a}px`,position:"absolute"}},r.setTransform=function(t){let{top:r,left:n,width:i,height:a}=t,o=`translate(${n}px,${r}px)`;return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:`${i}px`,height:`${a}px`,position:"absolute"}},r.sortLayoutItems=R,r.sortLayoutItemsByColRow=T,r.sortLayoutItemsByRowCol=M,r.synchronizeLayoutWithChildren=function(t,r,n,i,a){t=t||[];let l=[];o.default.Children.forEach(r,r=>{if(r?.key==null)return;let n=y(t,String(r.key)),i=r.props["data-grid"];n&&null==i?l.push(d(n)):i?l.push(d({...i,i:r.key})):l.push(d({w:1,h:1,x:0,y:s(l),i:String(r.key)}))});let u=g(l,{cols:n});return a?u:p(u,i,n)},r.validateLayout=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(t))throw Error(r+" must be an array!");for(let i=0,a=t.length;i<a;i++){let a=t[i];for(let t=0;t<n.length;t++){let o=n[t],s=a[o];if("number"!=typeof s||Number.isNaN(s))throw Error(`ReactGridLayout: ${r}[${i}].${o} must be a number! Received: ${s} (${typeof s})`)}if(void 0!==a.i&&"string"!=typeof a.i)throw Error(`ReactGridLayout: ${r}[${i}].i must be a string! Received: ${a.i} (${typeof a.i})`)}},r.withLayoutItem=function(t,r,n){let i=y(t,r);return i?[t=u(t,i=n(d(i))),i]:[t,null]};var i,a=n(89377),o=(i=n(8218))&&i.__esModule?i:{default:i};function s(t){let r=0,n;for(let i=0,a=t.length;i<a;i++)(n=t[i].y+t[i].h)>r&&(r=n);return r}function l(t){let r=Array(t.length);for(let n=0,i=t.length;n<i;n++)r[n]=d(t[n]);return r}function u(t,r){let n=Array(t.length);for(let i=0,a=t.length;i<a;i++)r.i===t[i].i?n[i]=r:n[i]=t[i];return n}function d(t){return{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,minW:t.minW,maxW:t.maxW,minH:t.minH,maxH:t.maxH,moved:!!t.moved,static:!!t.static,isDraggable:t.isDraggable,isResizable:t.isResizable,resizeHandles:t.resizeHandles,isBounded:t.isBounded}}function c(t,r){return t.i!==r.i&&!(t.x+t.w<=r.x)&&!(t.x>=r.x+r.w)&&!(t.y+t.h<=r.y)&&!(t.y>=r.y+r.h)}function p(t,r,n,i){let a=x(t),o=R(t,r),s=Array(t.length);for(let l=0,u=o.length;l<u;l++){let u=d(o[l]);u.static||(u=m(a,u,r,n,o,i),a.push(u)),s[t.indexOf(o[l])]=u,u.moved=!1}return s}r.fastRGLPropsEqual=n(77902);let f={x:"w",y:"h"};function h(t,r,n,i){let a=f[i];r[i]+=1;let o=t.map(t=>t.i).indexOf(r.i);for(let s=o+1;s<t.length;s++){let o=t[s];if(!o.static){if(o.y>r.y+r.h)break;c(r,o)&&h(t,o,n+r[a],i)}}r[i]=n}function m(t,r,n,i,a,o){let l;let u="horizontal"===n;if("vertical"===n)for(r.y=Math.min(s(t),r.y);r.y>0&&!v(t,r);)r.y--;else if(u)for(;r.x>0&&!v(t,r);)r.x--;for(;(l=v(t,r))&&!(null===n&&o);)if(u?h(a,r,l.x+l.w,"x"):h(a,r,l.y+l.h,"y"),u&&r.x+r.w>i)for(r.x=i-r.w,r.y++;r.x>0&&!v(t,r);)r.x--;return r.y=Math.max(r.y,0),r.x=Math.max(r.x,0),r}function g(t,r){let n=x(t);for(let i=0,a=t.length;i<a;i++){let a=t[i];if(a.x+a.w>r.cols&&(a.x=r.cols-a.w),a.x<0&&(a.x=0,a.w=r.cols),a.static)for(;v(n,a);)a.y++;else n.push(a)}return t}function y(t,r){for(let n=0,i=t.length;n<i;n++)if(t[n].i===r)return t[n]}function v(t,r){for(let n=0,i=t.length;n<i;n++)if(c(t[n],r))return t[n]}function b(t,r){return t.filter(t=>c(t,r))}function x(t){return t.filter(t=>t.static)}function w(t,r,n,i,a,o,s,u,d){if(r.static&&!0!==r.isDraggable||r.y===i&&r.x===n)return t;r.i,String(n),String(i),r.x,r.y;let c=r.x,p=r.y;"number"==typeof n&&(r.x=n),"number"==typeof i&&(r.y=i),r.moved=!0;let f=R(t,s);("vertical"===s&&"number"==typeof i?p>=i:"horizontal"===s&&"number"==typeof n&&c>=n)&&(f=f.reverse());let h=b(f,r),m=h.length>0;if(m&&d)return l(t);if(m&&o)return r.i,r.x=c,r.y=p,r.moved=!1,t;for(let n=0,i=h.length;n<i;n++){let i=h[n];r.i,r.x,r.y,i.i,i.x,i.y,i.moved||(t=i.static?j(t,i,r,a,s,u):j(t,r,i,a,s,u))}return t}function j(t,r,n,i,a,o){let s="horizontal"===a,l="vertical"===a,u=r.static;if(i){i=!1;let d={x:s?Math.max(r.x-n.w,0):n.x,y:l?Math.max(r.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"},c=v(t,d),p=c&&c.y+c.h>r.y,f=c&&r.x+r.w>c.x;if(!c)return n.i,d.x,d.y,w(t,n,s?d.x:void 0,l?d.y:void 0,i,u,a,o);if(p&&l)return w(t,n,void 0,r.y+1,i,u,a,o);if(p&&null==a)return r.y=n.y,n.y=n.y+n.h,t;else if(f&&s)return w(t,r,n.x,void 0,i,u,a,o)}let d=s?n.x+1:void 0,c=l?n.y+1:void 0;return null==d&&null==c?t:w(t,n,s?n.x+1:void 0,l?n.y+1:void 0,i,u,a,o)}let S=(t,r,n,i)=>t+n>i?r:n,C=(t,r,n)=>t<0?r:n,_=t=>Math.max(0,t),O=t=>Math.max(0,t),k=(t,r,n)=>{let{left:i,height:a,width:o}=r,s=t.top-(a-t.height);return{left:i,width:o,height:C(s,t.height,a),top:O(s)}},P=(t,r,n)=>{let{top:i,left:a,height:o,width:s}=r;return{top:i,height:o,width:S(t.left,t.width,s,n),left:_(a)}},E=(t,r,n)=>{let{top:i,height:a,width:o}=r,s=t.left-(o-t.width);return{height:a,width:s<0?t.width:S(t.left,t.width,o,n),top:O(i),left:_(s)}},D=(t,r,n)=>{let{top:i,left:a,height:o,width:s}=r;return{width:s,left:a,height:C(i,t.height,o),top:O(i)}},A={n:k,ne:function(){return k(arguments.length<=0?void 0:arguments[0],P(...arguments),arguments.length<=2?void 0:arguments[2])},e:P,se:function(){return D(arguments.length<=0?void 0:arguments[0],P(...arguments),arguments.length<=2?void 0:arguments[2])},s:D,sw:function(){return D(arguments.length<=0?void 0:arguments[0],E(...arguments),arguments.length<=2?void 0:arguments[2])},w:E,nw:function(){return k(arguments.length<=0?void 0:arguments[0],E(...arguments),arguments.length<=2?void 0:arguments[2])}};function R(t,r){return"horizontal"===r?T(t):"vertical"===r?M(t):t}function M(t){return t.slice(0).sort(function(t,r){return t.y>r.y||t.y===r.y&&t.x>r.x?1:t.y===r.y&&t.x===r.x?0:-1})}function T(t){return t.slice(0).sort(function(t,r){return t.x>r.x||t.x===r.x&&t.y>r.y?1:-1})}function Z(){}r.noop=()=>{}},30788:function(t,r,n){t.exports=n(39402).default,t.exports.utils=n(47728),t.exports.calculateUtils=n(46284),t.exports.Responsive=n(58255).default,t.exports.Responsive.utils=n(34119),t.exports.WidthProvider=n(29022).default},42192:function(t,r,n){"use strict";var i=n(8218),a=t=>"checkbox"===t.type,o=t=>t instanceof Date,s=t=>null==t;let l=t=>"object"==typeof t;var u=t=>!s(t)&&!Array.isArray(t)&&l(t)&&!o(t),d=t=>u(t)&&t.target?a(t.target)?t.target.checked:t.target.value:t,c=(t,r)=>t.has(r.substring(0,r.search(/\.\d+(\.|$)/))||r),p="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function f(t){let r;let n=Array.isArray(t),i="undefined"!=typeof FileList&&t instanceof FileList;if(t instanceof Date)r=new Date(t);else if(t instanceof Set)r=new Set(t);else{if(p&&(t instanceof Blob||i)||!n&&!u(t))return t;if(r=n?[]:{},n||(t=>{let r=t.constructor&&t.constructor.prototype;return u(r)&&r.hasOwnProperty("isPrototypeOf")})(t))for(let n in t)t.hasOwnProperty(n)&&(r[n]=f(t[n]));else r=t}return r}var h=t=>Array.isArray(t)?t.filter(Boolean):[],m=t=>void 0===t,g=(t,r,n)=>{if(!r||!u(t))return n;let i=h(r.split(/[,[\].]+?/)).reduce((t,r)=>s(t)?t:t[r],t);return m(i)||i===t?m(t[r])?n:t[r]:i},y=t=>"boolean"==typeof t,v=t=>/^\w*$/.test(t),b=t=>h(t.replace(/["|']|\]/g,"").split(/\.|\[/)),x=(t,r,n)=>{let i=-1,a=v(r)?[r]:b(r),o=a.length,s=o-1;for(;++i<o;){let r=a[i],o=n;if(i!==s){let n=t[r];o=u(n)||Array.isArray(n)?n:isNaN(+a[i+1])?{}:[]}if("__proto__"===r||"constructor"===r||"prototype"===r)return;t[r]=o,t=t[r]}return t};let w="blur",j="onChange",S="onSubmit",C="maxLength",_="minLength",O="pattern",k="required",P=i.createContext(null),E=()=>i.useContext(P);var D=(t,r,n,i=!0)=>{let a={defaultValues:r._defaultValues};for(let o in t)Object.defineProperty(a,o,{get:()=>("all"!==r._proxyFormState[o]&&(r._proxyFormState[o]=!i||"all"),n&&(n[o]=!0),t[o])});return a},A=t=>u(t)&&!Object.keys(t).length,R=(t,r,n,i)=>{n(t);let{name:a,...o}=t;return A(o)||Object.keys(o).length>=Object.keys(r).length||Object.keys(o).find(t=>r[t]===(!i||"all"))},M=t=>Array.isArray(t)?t:[t],T=(t,r,n)=>!t||!r||t===r||M(t).some(t=>t&&(n?t===r:t.startsWith(r)||r.startsWith(t)));function Z(t){let r=i.useRef(t);r.current=t,i.useEffect(()=>{let n=!t.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function I(t){let r=E(),{control:n=r.control,disabled:a,name:o,exact:s}=t||{},[l,u]=i.useState(n._formState),d=i.useRef(!0),c=i.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),p=i.useRef(o);return p.current=o,Z({disabled:a,next:t=>d.current&&T(p.current,t.name,s)&&R(t,c.current,n._updateFormState)&&u({...n._formState,...t}),subject:n._subjects.state}),i.useEffect(()=>(d.current=!0,c.current.isValid&&n._updateValid(!0),()=>{d.current=!1}),[n]),i.useMemo(()=>D(l,n,c.current,!1),[l,n])}var V=t=>"string"==typeof t,N=(t,r,n,i,a)=>V(t)?(i&&r.watch.add(t),g(n,t,a)):Array.isArray(t)?t.map(t=>(i&&r.watch.add(t),g(n,t))):(i&&(r.watchAll=!0),n);function L(t){let r=E(),{control:n=r.control,name:a,defaultValue:o,disabled:s,exact:l}=t||{},u=i.useRef(a);u.current=a,Z({disabled:s,subject:n._subjects.values,next:t=>{T(u.current,t.name,l)&&c(f(N(u.current,n._names,t.values||n._formValues,!1,o)))}});let[d,c]=i.useState(n._getWatch(a,o));return i.useEffect(()=>n._removeUnmounted()),d}function F(t){let r=E(),{name:n,disabled:a,control:o=r.control,shouldUnregister:s}=t,l=c(o._names.array,n),u=L({control:o,name:n,defaultValue:g(o._formValues,n,g(o._defaultValues,n,t.defaultValue)),exact:!0}),p=I({control:o,name:n,exact:!0}),h=i.useRef(o.register(n,{...t.rules,value:u,...y(t.disabled)?{disabled:t.disabled}:{}})),v=i.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!g(p.errors,n)},isDirty:{enumerable:!0,get:()=>!!g(p.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!g(p.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!g(p.validatingFields,n)},error:{enumerable:!0,get:()=>g(p.errors,n)}}),[p,n]),b=i.useMemo(()=>({name:n,value:u,...y(a)||p.disabled?{disabled:p.disabled||a}:{},onChange:t=>h.current.onChange({target:{value:d(t),name:n},type:"change"}),onBlur:()=>h.current.onBlur({target:{value:g(o._formValues,n),name:n},type:w}),ref:t=>{let r=g(o._fields,n);r&&t&&(r._f.ref={focus:()=>t.focus(),select:()=>t.select(),setCustomValidity:r=>t.setCustomValidity(r),reportValidity:()=>t.reportValidity()})}}),[n,o._formValues,a,p.disabled,u,o._fields]);return i.useEffect(()=>{let t=o._options.shouldUnregister||s,r=(t,r)=>{let n=g(o._fields,t);n&&n._f&&(n._f.mount=r)};if(r(n,!0),t){let t=f(g(o._options.defaultValues,n));x(o._defaultValues,n,t),m(g(o._formValues,n))&&x(o._formValues,n,t)}return l||o.register(n),()=>{(l?t&&!o._state.action:t)?o.unregister(n):r(n,!1)}},[n,o,l,s]),i.useEffect(()=>{o._updateDisabledField({disabled:a,fields:o._fields,name:n})},[a,n,o]),i.useMemo(()=>({field:b,formState:p,fieldState:v}),[b,p,v])}let $=t=>{let r={};for(let n of Object.keys(t))if(l(t[n])&&null!==t[n]){let i=$(t[n]);for(let t of Object.keys(i))r[`${n}.${t}`]=i[t]}else r[n]=t[n];return r};var z=(t,r,n,i,a)=>r?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[i]:a||!0}}:{},H=()=>{let t="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{let n=(16*Math.random()+t)%16|0;return("x"==r?n:3&n|8).toString(16)})},B=(t,r,n={})=>n.shouldFocus||m(n.shouldFocus)?n.focusName||`${t}.${m(n.focusIndex)?r:n.focusIndex}.`:"",q=t=>({isOnSubmit:!t||t===S,isOnBlur:"onBlur"===t,isOnChange:t===j,isOnAll:"all"===t,isOnTouch:"onTouched"===t}),W=(t,r,n)=>!n&&(r.watchAll||r.watch.has(t)||[...r.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));let U=(t,r,n,i)=>{for(let a of n||Object.keys(t)){let n=g(t,a);if(n){let{_f:t,...o}=n;if(t){if(t.refs&&t.refs[0]&&r(t.refs[0],a)&&!i||t.ref&&r(t.ref,t.name)&&!i)return!0;if(U(o,r))break}else if(u(o)&&U(o,r))break}}};var G=(t,r,n)=>{let i=M(g(t,n));return x(i,"root",r[n]),x(t,n,i),t},Q=t=>"file"===t.type,K=t=>"function"==typeof t,J=t=>{if(!p)return!1;let r=t?t.ownerDocument:0;return t instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Y=t=>V(t),X=t=>"radio"===t.type,ee=t=>t instanceof RegExp;let et={value:!1,isValid:!1},er={value:!0,isValid:!0};var en=t=>{if(Array.isArray(t)){if(t.length>1){let r=t.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!m(t[0].attributes.value)?m(t[0].value)||""===t[0].value?er:{value:t[0].value,isValid:!0}:er:et}return et};let ei={isValid:!1,value:null};var ea=t=>Array.isArray(t)?t.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,ei):ei;function eo(t,r,n="validate"){if(Y(t)||Array.isArray(t)&&t.every(Y)||y(t)&&!t)return{type:n,message:Y(t)?t:"",ref:r}}var es=t=>u(t)&&!ee(t)?t:{value:t,message:""},el=async(t,r,n,i,o,l)=>{let{ref:d,refs:c,required:p,maxLength:f,minLength:h,min:v,max:b,pattern:x,validate:w,name:j,valueAsNumber:S,mount:P}=t._f,E=g(n,j);if(!P||r.has(j))return{};let D=c?c[0]:d,R=t=>{o&&D.reportValidity&&(D.setCustomValidity(y(t)?"":t||""),D.reportValidity())},M={},T=X(d),Z=a(d),I=(S||Q(d))&&m(d.value)&&m(E)||J(d)&&""===d.value||""===E||Array.isArray(E)&&!E.length,N=z.bind(null,j,i,M),L=(t,r,n,i=C,a=_)=>{let o=t?r:n;M[j]={type:t?i:a,message:o,ref:d,...N(t?i:a,o)}};if(l?!Array.isArray(E)||!E.length:p&&(!(T||Z)&&(I||s(E))||y(E)&&!E||Z&&!en(c).isValid||T&&!ea(c).isValid)){let{value:t,message:r}=Y(p)?{value:!!p,message:p}:es(p);if(t&&(M[j]={type:k,message:r,ref:D,...N(k,r)},!i))return R(r),M}if(!(I||s(v)&&s(b))){let t,r;let n=es(b),a=es(v);if(s(E)||isNaN(E)){let i=d.valueAsDate||new Date(E),o=t=>new Date((new Date).toDateString()+" "+t),s="time"==d.type,l="week"==d.type;V(n.value)&&E&&(t=s?o(E)>o(n.value):l?E>n.value:i>new Date(n.value)),V(a.value)&&E&&(r=s?o(E)<o(a.value):l?E<a.value:i<new Date(a.value))}else{let i=d.valueAsNumber||(E?+E:E);s(n.value)||(t=i>n.value),s(a.value)||(r=i<a.value)}if((t||r)&&(L(!!t,n.message,a.message,"max","min"),!i))return R(M[j].message),M}if((f||h)&&!I&&(V(E)||l&&Array.isArray(E))){let t=es(f),r=es(h),n=!s(t.value)&&E.length>+t.value,a=!s(r.value)&&E.length<+r.value;if((n||a)&&(L(n,t.message,r.message),!i))return R(M[j].message),M}if(x&&!I&&V(E)){let{value:t,message:r}=es(x);if(ee(t)&&!E.match(t)&&(M[j]={type:O,message:r,ref:d,...N(O,r)},!i))return R(r),M}if(w){if(K(w)){let t=eo(await w(E,n),D);if(t&&(M[j]={...t,...N("validate",t.message)},!i))return R(t.message),M}else if(u(w)){let t={};for(let r in w){if(!A(t)&&!i)break;let a=eo(await w[r](E,n),D,r);a&&(t={...a,...N(r,a.message)},R(a.message),i&&(M[j]=t))}if(!A(t)&&(M[j]={ref:D,...t},!i))return M}}return R(!0),M},eu=(t,r)=>[...t,...M(r)],ed=t=>Array.isArray(t)?t.map(()=>{}):void 0;function ec(t,r,n){return[...t.slice(0,r),...M(n),...t.slice(r)]}var ep=(t,r,n)=>Array.isArray(t)?(m(t[n])&&(t[n]=void 0),t.splice(n,0,t.splice(r,1)[0]),t):[],ef=(t,r)=>[...M(r),...M(t)],eh=(t,r)=>m(r)?[]:function(t,r){let n=0,i=[...t];for(let t of r)i.splice(t-n,1),n++;return h(i).length?i:[]}(t,M(r).sort((t,r)=>t-r)),em=(t,r,n)=>{[t[r],t[n]]=[t[n],t[r]]};function eg(t,r){let n=Array.isArray(r)?r:v(r)?[r]:b(r),i=1===n.length?t:function(t,r){let n=r.slice(0,-1).length,i=0;for(;i<n;)t=m(t)?i++:t[r[i++]];return t}(t,n),a=n.length-1,o=n[a];return i&&delete i[o],0!==a&&(u(i)&&A(i)||Array.isArray(i)&&function(t){for(let r in t)if(t.hasOwnProperty(r)&&!m(t[r]))return!1;return!0}(i))&&eg(t,n.slice(0,-1)),t}var ey=(t,r,n)=>(t[r]=n,t),ev=()=>{let t=[];return{get observers(){return t},next:r=>{for(let n of t)n.next&&n.next(r)},subscribe:r=>(t.push(r),{unsubscribe:()=>{t=t.filter(t=>t!==r)}}),unsubscribe:()=>{t=[]}}},eb=t=>s(t)||!l(t);function ex(t,r){if(eb(t)||eb(r))return t===r;if(o(t)&&o(r))return t.getTime()===r.getTime();let n=Object.keys(t),i=Object.keys(r);if(n.length!==i.length)return!1;for(let a of n){let n=t[a];if(!i.includes(a))return!1;if("ref"!==a){let t=r[a];if(o(n)&&o(t)||u(n)&&u(t)||Array.isArray(n)&&Array.isArray(t)?!ex(n,t):n!==t)return!1}}return!0}var ew=t=>"select-multiple"===t.type,ej=t=>J(t)&&t.isConnected,eS=t=>{for(let r in t)if(K(t[r]))return!0;return!1};function eC(t,r={}){let n=Array.isArray(t);if(u(t)||n)for(let n in t)Array.isArray(t[n])||u(t[n])&&!eS(t[n])?(r[n]=Array.isArray(t[n])?[]:{},eC(t[n],r[n])):s(t[n])||(r[n]=!0);return r}var e_=(t,r)=>(function t(r,n,i){let a=Array.isArray(r);if(u(r)||a)for(let a in r)Array.isArray(r[a])||u(r[a])&&!eS(r[a])?m(n)||eb(i[a])?i[a]=Array.isArray(r[a])?eC(r[a],[]):{...eC(r[a])}:t(r[a],s(n)?{}:n[a],i[a]):i[a]=!ex(r[a],n[a]);return i})(t,r,eC(r)),eO=(t,{valueAsNumber:r,valueAsDate:n,setValueAs:i})=>m(t)?t:r?""===t?NaN:t?+t:t:n&&V(t)?new Date(t):i?i(t):t;function ek(t){let r=t.ref;return Q(r)?r.files:X(r)?ea(t.refs).value:ew(r)?[...r.selectedOptions].map(({value:t})=>t):a(r)?en(t.refs).value:eO(m(r.value)?t.ref.value:r.value,t)}var eP=t=>m(t)?t:ee(t)?t.source:u(t)?ee(t.value)?t.value.source:t.value:t;let eE="AsyncFunction";function eD(t,r,n){let i=g(t,n);if(i||v(n))return{error:i,name:n};let a=n.split(".");for(;a.length;){let i=a.join("."),o=g(r,i),s=g(t,i);if(o&&!Array.isArray(o)&&n!==i)break;if(s&&s.type)return{name:i,error:s};a.pop()}return{name:n}}let eA={mode:S,reValidateMode:j,shouldFocusError:!0};r.Controller=t=>t.render(F(t)),r.Form=function(t){let r=E(),[n,a]=i.useState(!1),{control:o=r.control,onSubmit:s,children:l,action:u,method:d="post",headers:c,encType:p,onError:f,render:h,onSuccess:m,validateStatus:g,...y}=t,v=async r=>{let n=!1,i="";await o.handleSubmit(async t=>{let a=new FormData,l="";try{l=JSON.stringify(t)}catch(t){}let h=$(o._formValues);for(let t in h)a.append(t,h[t]);if(s&&await s({data:t,event:r,method:d,formData:a,formDataJson:l}),u)try{let t=[c&&c["Content-Type"],p].some(t=>t&&t.includes("json")),r=await fetch(String(u),{method:d,headers:{...c,...p?{"Content-Type":p}:{}},body:t?l:a});r&&(g?!g(r.status):r.status<200||r.status>=300)?(n=!0,f&&f({response:r}),i=String(r.status)):m&&m({response:r})}catch(t){n=!0,f&&f({error:t})}})(r),n&&t.control&&(t.control._subjects.state.next({isSubmitSuccessful:!1}),t.control.setError("root.server",{type:i}))};return i.useEffect(()=>{a(!0)},[]),h?i.createElement(i.Fragment,null,h({submit:v})):i.createElement("form",{noValidate:n,action:u,method:d,encType:p,onSubmit:v,...y},l)},r.FormProvider=t=>{let{children:r,...n}=t;return i.createElement(P.Provider,{value:n},r)},r.appendErrors=z,r.get=g,r.set=x,r.useController=F,r.useFieldArray=function(t){let r=E(),{control:n=r.control,name:a,keyName:o="id",shouldUnregister:s,rules:l}=t,[u,d]=i.useState(n._getFieldArray(a)),c=i.useRef(n._getFieldArray(a).map(H)),p=i.useRef(u),h=i.useRef(a),m=i.useRef(!1);h.current=a,p.current=u,n._names.array.add(a),l&&n.register(a,l),Z({next:({values:t,name:r})=>{if(r===h.current||!r){let r=g(t,h.current);Array.isArray(r)&&(d(r),c.current=r.map(H))}},subject:n._subjects.array});let y=i.useCallback(t=>{m.current=!0,n._updateFieldArray(a,t)},[n,a]);return i.useEffect(()=>{if(n._state.action=!1,W(a,n._names)&&n._subjects.state.next({...n._formState}),m.current&&(!q(n._options.mode).isOnSubmit||n._formState.isSubmitted)){if(n._options.resolver)n._executeSchema([a]).then(t=>{let r=g(t.errors,a),i=g(n._formState.errors,a);(i?!r&&i.type||r&&(i.type!==r.type||i.message!==r.message):r&&r.type)&&(r?x(n._formState.errors,a,r):eg(n._formState.errors,a),n._subjects.state.next({errors:n._formState.errors}))});else{let t=g(n._fields,a);!t||!t._f||q(n._options.reValidateMode).isOnSubmit&&q(n._options.mode).isOnSubmit||el(t,n._names.disabled,n._formValues,"all"===n._options.criteriaMode,n._options.shouldUseNativeValidation,!0).then(t=>!A(t)&&n._subjects.state.next({errors:G(n._formState.errors,t,a)}))}}n._subjects.values.next({name:a,values:{...n._formValues}}),n._names.focus&&U(n._fields,(t,r)=>{if(n._names.focus&&r.startsWith(n._names.focus)&&t.focus)return t.focus(),1}),n._names.focus="",n._updateValid(),m.current=!1},[u,a,n]),i.useEffect(()=>(g(n._formValues,a)||n._updateFieldArray(a),()=>{(n._options.shouldUnregister||s)&&n.unregister(a)}),[a,n,o,s]),{swap:i.useCallback((t,r)=>{let i=n._getFieldArray(a);em(i,t,r),em(c.current,t,r),y(i),d(i),n._updateFieldArray(a,i,em,{argA:t,argB:r},!1)},[y,a,n]),move:i.useCallback((t,r)=>{let i=n._getFieldArray(a);ep(i,t,r),ep(c.current,t,r),y(i),d(i),n._updateFieldArray(a,i,ep,{argA:t,argB:r},!1)},[y,a,n]),prepend:i.useCallback((t,r)=>{let i=M(f(t)),o=ef(n._getFieldArray(a),i);n._names.focus=B(a,0,r),c.current=ef(c.current,i.map(H)),y(o),d(o),n._updateFieldArray(a,o,ef,{argA:ed(t)})},[y,a,n]),append:i.useCallback((t,r)=>{let i=M(f(t)),o=eu(n._getFieldArray(a),i);n._names.focus=B(a,o.length-1,r),c.current=eu(c.current,i.map(H)),y(o),d(o),n._updateFieldArray(a,o,eu,{argA:ed(t)})},[y,a,n]),remove:i.useCallback(t=>{let r=eh(n._getFieldArray(a),t);c.current=eh(c.current,t),y(r),d(r),Array.isArray(g(n._fields,a))||x(n._fields,a,void 0),n._updateFieldArray(a,r,eh,{argA:t})},[y,a,n]),insert:i.useCallback((t,r,i)=>{let o=M(f(r)),s=ec(n._getFieldArray(a),t,o);n._names.focus=B(a,t,i),c.current=ec(c.current,t,o.map(H)),y(s),d(s),n._updateFieldArray(a,s,ec,{argA:t,argB:ed(r)})},[y,a,n]),update:i.useCallback((t,r)=>{let i=f(r),o=ey(n._getFieldArray(a),t,i);c.current=[...o].map((r,n)=>r&&n!==t?c.current[n]:H()),y(o),d([...o]),n._updateFieldArray(a,o,ey,{argA:t,argB:i},!0,!1)},[y,a,n]),replace:i.useCallback(t=>{let r=M(f(t));c.current=r.map(H),y([...r]),d([...r]),n._updateFieldArray(a,[...r],t=>t,{},!0,!1)},[y,a,n]),fields:i.useMemo(()=>u.map((t,r)=>({...t,[o]:c.current[r]||H()})),[u,o])}},r.useForm=function(t={}){let r=i.useRef(void 0),n=i.useRef(void 0),[l,v]=i.useState({isDirty:!1,isValidating:!1,isLoading:K(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:K(t.defaultValues)?void 0:t.defaultValues});r.current||(r.current={...function(t={}){let r,n={...eA,...t},i={submitCount:0,isDirty:!1,isLoading:K(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},l={},v=(u(n.defaultValues)||u(n.values))&&f(n.defaultValues||n.values)||{},b=n.shouldUnregister?{}:f(v),j={action:!1,mount:!1,watch:!1},S={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},C=0,_={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},O={values:ev(),array:ev(),state:ev()},k=q(n.mode),P=q(n.reValidateMode),E="all"===n.criteriaMode,D=async t=>{if(!n.disabled&&(_.isValid||t)){let t=n.resolver?A((await L()).errors):await F(l,!0);t!==i.isValid&&O.state.next({isValid:t})}},R=(t,r)=>{!n.disabled&&(_.isValidating||_.validatingFields)&&((t||Array.from(S.mount)).forEach(t=>{t&&(r?x(i.validatingFields,t,r):eg(i.validatingFields,t))}),O.state.next({validatingFields:i.validatingFields,isValidating:!A(i.validatingFields)}))},T=(t,r,n,i)=>{let a=g(l,t);if(a){let o=g(b,t,m(n)?g(v,t):n);m(o)||i&&i.defaultChecked||r?x(b,t,r?o:ek(a._f)):H(t,o),j.mount&&D()}},Z=(t,r,a,o,s)=>{let u=!1,d=!1,c={name:t};if(!n.disabled){let n=!!(g(l,t)&&g(l,t)._f&&g(l,t)._f.disabled);if(!a||o){_.isDirty&&(d=i.isDirty,i.isDirty=c.isDirty=$(),u=d!==c.isDirty);let a=n||ex(g(v,t),r);d=!(n||!g(i.dirtyFields,t)),a||n?eg(i.dirtyFields,t):x(i.dirtyFields,t,!0),c.dirtyFields=i.dirtyFields,u=u||_.dirtyFields&&!a!==d}if(a){let r=g(i.touchedFields,t);r||(x(i.touchedFields,t,a),c.touchedFields=i.touchedFields,u=u||_.touchedFields&&r!==a)}u&&s&&O.state.next(c)}return u?c:{}},I=(t,a,o,s)=>{var l;let u=g(i.errors,t),d=_.isValid&&y(a)&&i.isValid!==a;if(n.delayError&&o?(l=()=>{x(i.errors,t,o),O.state.next({errors:i.errors})},(r=t=>{clearTimeout(C),C=setTimeout(l,t)})(n.delayError)):(clearTimeout(C),r=null,o?x(i.errors,t,o):eg(i.errors,t)),(o?!ex(u,o):u)||!A(s)||d){let r={...s,...d&&y(a)?{isValid:a}:{},errors:i.errors,name:t};i={...i,...r},O.state.next(r)}},L=async t=>{R(t,!0);let r=await n.resolver(b,n.context,((t,r,n,i)=>{let a={};for(let n of t){let t=g(r,n);t&&x(a,n,t._f)}return{criteriaMode:n,names:[...t],fields:a,shouldUseNativeValidation:i}})(t||S.mount,l,n.criteriaMode,n.shouldUseNativeValidation));return R(t),r},F=async(t,r,a={valid:!0})=>{var o;for(let s in t){let l=t[s];if(l){let{_f:t,...d}=l;if(t){let d=S.array.has(t.name),c=l._f&&!!(o=l._f)&&!!o.validate&&!!(K(o.validate)&&o.validate.constructor.name===eE||u(o.validate)&&Object.values(o.validate).find(t=>t.constructor.name===eE));c&&_.validatingFields&&R([s],!0);let p=await el(l,S.disabled,b,E,n.shouldUseNativeValidation&&!r,d);if(c&&_.validatingFields&&R([s]),p[t.name]&&(a.valid=!1,r))break;r||(g(p,t.name)?d?G(i.errors,p,t.name):x(i.errors,t.name,p[t.name]):eg(i.errors,t.name))}A(d)||await F(d,r,a)}}return a.valid},$=(t,r)=>!n.disabled&&(t&&r&&x(b,t,r),!ex(en(),v)),z=(t,r,n)=>N(t,S,{...j.mount?b:m(r)?v:V(t)?{[t]:r}:r},n,r),H=(t,r,n={})=>{let i=g(l,t),o=r;if(i){let n=i._f;n&&(n.disabled||x(b,t,eO(r,n)),o=J(n.ref)&&s(r)?"":r,ew(n.ref)?[...n.ref.options].forEach(t=>t.selected=o.includes(t.value)):n.refs?a(n.ref)?n.refs.length>1?n.refs.forEach(t=>(!t.defaultChecked||!t.disabled)&&(t.checked=Array.isArray(o)?!!o.find(r=>r===t.value):o===t.value)):n.refs[0]&&(n.refs[0].checked=!!o):n.refs.forEach(t=>t.checked=t.value===o):Q(n.ref)?n.ref.value="":(n.ref.value=o,n.ref.type||O.values.next({name:t,values:{...b}})))}(n.shouldDirty||n.shouldTouch)&&Z(t,o,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&er(t)},B=(t,r,n)=>{for(let i in r){let a=r[i],s=`${t}.${i}`,d=g(l,s);(S.array.has(t)||u(a)||d&&!d._f)&&!o(a)?B(s,a,n):H(s,a,n)}},Y=(t,r,n={})=>{let a=g(l,t),o=S.array.has(t),u=f(r);x(b,t,u),o?(O.array.next({name:t,values:{...b}}),(_.isDirty||_.dirtyFields)&&n.shouldDirty&&O.state.next({name:t,dirtyFields:e_(v,b),isDirty:$(t,u)})):!a||a._f||s(u)?H(t,u,n):B(t,u,n),W(t,S)&&O.state.next({...i}),O.values.next({name:j.mount?t:void 0,values:{...b}})},ee=async t=>{var a;j.mount=!0;let s=t.target,u=s.name,c=!0,p=g(l,u),f=t=>{c=Number.isNaN(t)||o(t)&&isNaN(t.getTime())||ex(t,g(b,u,t))};if(p){let o,h,m,y;let v=s.type?ek(p._f):d(t),j=t.type===w||"focusout"===t.type,C=!((a=p._f).mount&&(a.required||a.min||a.max||a.maxLength||a.minLength||a.pattern||a.validate)||n.resolver||g(i.errors,u)||p._f.deps)||(m=g(i.touchedFields,u),y=i.isSubmitted,!k.isOnAll&&(!y&&k.isOnTouch?!(m||j):(y?P.isOnBlur:k.isOnBlur)?!j:!(y?P.isOnChange:k.isOnChange)||j)),M=W(u,S,j);x(b,u,v),j?(p._f.onBlur&&p._f.onBlur(t),r&&r(0)):p._f.onChange&&p._f.onChange(t);let T=Z(u,v,j,!1),V=!A(T)||M;if(j||O.values.next({name:u,type:t.type,values:{...b}}),C)return _.isValid&&("onBlur"===n.mode&&j?D():j||D()),V&&O.state.next({name:u,...M?{}:T});if(!j&&M&&O.state.next({...i}),n.resolver){let{errors:t}=await L([u]);if(f(v),c){let r=eD(i.errors,l,u),n=eD(t,l,r.name||u);o=n.error,u=n.name,h=A(t)}}else R([u],!0),o=(await el(p,S.disabled,b,E,n.shouldUseNativeValidation))[u],R([u]),f(v),c&&(o?h=!1:_.isValid&&(h=await F(l,!0)));c&&(p._f.deps&&er(p._f.deps),I(u,h,o,T))}},et=(t,r)=>{if(g(i.errors,r)&&t.focus)return t.focus(),1},er=async(t,r={})=>{let a,o;let s=M(t);if(n.resolver){let r=await (async t=>{let{errors:r}=await L(t);if(t)for(let n of t){let t=g(r,n);t?x(i.errors,n,t):eg(i.errors,n)}else i.errors=r;return r})(m(t)?t:s);a=A(r),o=t?!s.some(t=>g(r,t)):a}else t?((o=(await Promise.all(s.map(async t=>{let r=g(l,t);return await F(r&&r._f?{[t]:r}:r)}))).every(Boolean))||i.isValid)&&D():o=a=await F(l);return O.state.next({...!V(t)||_.isValid&&a!==i.isValid?{}:{name:t},...n.resolver||!t?{isValid:a}:{},errors:i.errors}),r.shouldFocus&&!o&&U(l,et,t?s:S.mount),o},en=t=>{let r={...j.mount?b:v};return m(t)?r:V(t)?g(r,t):t.map(t=>g(r,t))},ei=(t,r)=>({invalid:!!g((r||i).errors,t),isDirty:!!g((r||i).dirtyFields,t),error:g((r||i).errors,t),isValidating:!!g(i.validatingFields,t),isTouched:!!g((r||i).touchedFields,t)}),ea=(t,r,n)=>{let a=(g(l,t,{_f:{}})._f||{}).ref,{ref:o,message:s,type:u,...d}=g(i.errors,t)||{};x(i.errors,t,{...d,...r,ref:a}),O.state.next({name:t,errors:i.errors,isValid:!1}),n&&n.shouldFocus&&a&&a.focus&&a.focus()},eo=(t,r={})=>{for(let a of t?M(t):S.mount)S.mount.delete(a),S.array.delete(a),r.keepValue||(eg(l,a),eg(b,a)),r.keepError||eg(i.errors,a),r.keepDirty||eg(i.dirtyFields,a),r.keepTouched||eg(i.touchedFields,a),r.keepIsValidating||eg(i.validatingFields,a),n.shouldUnregister||r.keepDefaultValue||eg(v,a);O.values.next({values:{...b}}),O.state.next({...i,...r.keepDirty?{isDirty:$()}:{}}),r.keepIsValid||D()},es=({disabled:t,name:r,field:n,fields:i})=>{(y(t)&&j.mount||t||S.disabled.has(r))&&(t?S.disabled.add(r):S.disabled.delete(r),Z(r,ek(n?n._f:g(i,r)._f),!1,!1,!0))},eu=(t,r={})=>{let i=g(l,t),o=y(r.disabled)||y(n.disabled);return x(l,t,{...i||{},_f:{...i&&i._f?i._f:{ref:{name:t}},name:t,mount:!0,...r}}),S.mount.add(t),i?es({field:i,disabled:y(r.disabled)?r.disabled:n.disabled,name:t}):T(t,!0,r.value),{...o?{disabled:r.disabled||n.disabled}:{},...n.progressive?{required:!!r.required,min:eP(r.min),max:eP(r.max),minLength:eP(r.minLength),maxLength:eP(r.maxLength),pattern:eP(r.pattern)}:{},name:t,onChange:ee,onBlur:ee,ref:o=>{if(o){eu(t,r),i=g(l,t);let n=m(o.value)&&o.querySelectorAll&&o.querySelectorAll("input,select,textarea")[0]||o,s=X(n)||a(n),u=i._f.refs||[];(s?u.find(t=>t===n):n===i._f.ref)||(x(l,t,{_f:{...i._f,...s?{refs:[...u.filter(ej),n,...Array.isArray(g(v,t))?[{}]:[]],ref:{type:n.type,name:t}}:{ref:n}}}),T(t,!1,void 0,n))}else(i=g(l,t,{}))._f&&(i._f.mount=!1),(n.shouldUnregister||r.shouldUnregister)&&(!c(S.array,t)||!j.action)&&S.unMount.add(t)}}},ed=()=>n.shouldFocusError&&U(l,et,S.mount),ec=(t,r)=>async a=>{let o;a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let s=f(b);if(S.disabled.size)for(let t of S.disabled)x(s,t,void 0);if(O.state.next({isSubmitting:!0}),n.resolver){let{errors:t,values:r}=await L();i.errors=t,s=r}else await F(l);if(eg(i.errors,"root"),A(i.errors)){O.state.next({errors:{}});try{await t(s,a)}catch(t){o=t}}else r&&await r({...i.errors},a),ed(),setTimeout(ed);if(O.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:A(i.errors)&&!o,submitCount:i.submitCount+1,errors:i.errors}),o)throw o},ep=(t,r={})=>{let a=t?f(t):v,o=f(a),s=A(t),u=s?v:o;if(r.keepDefaultValues||(v=a),!r.keepValues){if(r.keepDirtyValues)for(let t of Array.from(new Set([...S.mount,...Object.keys(e_(v,b))])))g(i.dirtyFields,t)?x(u,t,g(b,t)):Y(t,g(u,t));else{if(p&&m(t))for(let t of S.mount){let r=g(l,t);if(r&&r._f){let t=Array.isArray(r._f.refs)?r._f.refs[0]:r._f.ref;if(J(t)){let r=t.closest("form");if(r){r.reset();break}}}}l={}}b=n.shouldUnregister?r.keepDefaultValues?f(v):{}:f(u),O.array.next({values:{...u}}),O.values.next({values:{...u}})}S={mount:r.keepDirtyValues?S.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},j.mount=!_.isValid||!!r.keepIsValid||!!r.keepDirtyValues,j.watch=!!n.shouldUnregister,O.state.next({submitCount:r.keepSubmitCount?i.submitCount:0,isDirty:!s&&(r.keepDirty?i.isDirty:!(!r.keepDefaultValues||ex(t,v))),isSubmitted:!!r.keepIsSubmitted&&i.isSubmitted,dirtyFields:s?{}:r.keepDirtyValues?r.keepDefaultValues&&b?e_(v,b):i.dirtyFields:r.keepDefaultValues&&t?e_(v,t):r.keepDirty?i.dirtyFields:{},touchedFields:r.keepTouched?i.touchedFields:{},errors:r.keepErrors?i.errors:{},isSubmitSuccessful:!!r.keepIsSubmitSuccessful&&i.isSubmitSuccessful,isSubmitting:!1})},ef=(t,r)=>ep(K(t)?t(b):t,r);return{control:{register:eu,unregister:eo,getFieldState:ei,handleSubmit:ec,setError:ea,_executeSchema:L,_getWatch:z,_getDirty:$,_updateValid:D,_removeUnmounted:()=>{for(let t of S.unMount){let r=g(l,t);r&&(r._f.refs?r._f.refs.every(t=>!ej(t)):!ej(r._f.ref))&&eo(t)}S.unMount=new Set},_updateFieldArray:(t,r=[],a,o,s=!0,u=!0)=>{if(o&&a&&!n.disabled){if(j.action=!0,u&&Array.isArray(g(l,t))){let r=a(g(l,t),o.argA,o.argB);s&&x(l,t,r)}if(u&&Array.isArray(g(i.errors,t))){var d;let r=a(g(i.errors,t),o.argA,o.argB);s&&x(i.errors,t,r),h(g(d=i.errors,t)).length||eg(d,t)}if(_.touchedFields&&u&&Array.isArray(g(i.touchedFields,t))){let r=a(g(i.touchedFields,t),o.argA,o.argB);s&&x(i.touchedFields,t,r)}_.dirtyFields&&(i.dirtyFields=e_(v,b)),O.state.next({name:t,isDirty:$(t,r),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else x(b,t,r)},_updateDisabledField:es,_getFieldArray:t=>h(g(j.mount?b:v,t,n.shouldUnregister?g(v,t,[]):[])),_reset:ep,_resetDefaultValues:()=>K(n.defaultValues)&&n.defaultValues().then(t=>{ef(t,n.resetOptions),O.state.next({isLoading:!1})}),_updateFormState:t=>{i={...i,...t}},_disableForm:t=>{y(t)&&(O.state.next({disabled:t}),U(l,(r,n)=>{let i=g(l,n);i&&(r.disabled=i._f.disabled||t,Array.isArray(i._f.refs)&&i._f.refs.forEach(r=>{r.disabled=i._f.disabled||t}))},0,!1))},_subjects:O,_proxyFormState:_,_setErrors:t=>{i.errors=t,O.state.next({errors:i.errors,isValid:!1})},get _fields(){return l},get _formValues(){return b},get _state(){return j},set _state(e){j=e},get _defaultValues(){return v},get _names(){return S},set _names(e){S=e},get _formState(){return i},set _formState(e){i=e},get _options(){return n},set _options(e){n={...n,...e}}},trigger:er,register:eu,handleSubmit:ec,watch:(t,r)=>K(t)?O.values.subscribe({next:n=>t(z(void 0,r),n)}):z(t,r,!0),setValue:Y,getValues:en,reset:ef,resetField:(t,r={})=>{g(l,t)&&(m(r.defaultValue)?Y(t,f(g(v,t))):(Y(t,r.defaultValue),x(v,t,f(r.defaultValue))),r.keepTouched||eg(i.touchedFields,t),r.keepDirty||(eg(i.dirtyFields,t),i.isDirty=r.defaultValue?$(t,f(g(v,t))):$()),r.keepError||(eg(i.errors,t),_.isValid&&D()),O.state.next({...i}))},clearErrors:t=>{t&&M(t).forEach(t=>eg(i.errors,t)),O.state.next({errors:t?i.errors:{}})},unregister:eo,setError:ea,setFocus:(t,r={})=>{let n=g(l,t),i=n&&n._f;if(i){let t=i.refs?i.refs[0]:i.ref;t.focus&&(t.focus(),r.shouldSelect&&K(t.select)&&t.select())}},getFieldState:ei}}(t),formState:l});let b=r.current.control;return b._options=t,Z({subject:b._subjects.state,next:t=>{R(t,b._proxyFormState,b._updateFormState,!0)&&v({...b._formState})}}),i.useEffect(()=>b._disableForm(t.disabled),[b,t.disabled]),i.useEffect(()=>{if(b._proxyFormState.isDirty){let t=b._getDirty();t!==l.isDirty&&b._subjects.state.next({isDirty:t})}},[b,l.isDirty]),i.useEffect(()=>{t.values&&!ex(t.values,n.current)?(b._reset(t.values,b._options.resetOptions),n.current=t.values,v(t=>({...t}))):b._resetDefaultValues()},[t.values,b]),i.useEffect(()=>{t.errors&&b._setErrors(t.errors)},[t.errors,b]),i.useEffect(()=>{b._state.mount||(b._updateValid(),b._state.mount=!0),b._state.watch&&(b._state.watch=!1,b._subjects.state.next({...b._formState})),b._removeUnmounted()}),i.useEffect(()=>{t.shouldUnregister&&b._subjects.values.next({values:b._getWatch()})},[t.shouldUnregister,b]),r.current.formState=D(l,b),r.current},r.useFormContext=E,r.useFormState=I,r.useWatch=L},56377:function(t,r,n){"use strict";r.__esModule=!0,r.default=void 0;var i=function(t,r){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=u(r);if(n&&n.has(t))return n.get(t);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=a?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=t[o]}return i.default=t,n&&n.set(t,i),i}(n(8218)),a=n(49529),o=n(40203),s=n(82404),l=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function u(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(u=function(t){return t?n:r})(t)}function d(){return(d=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function c(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function p(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?c(Object(n),!0).forEach(function(r){var i,a,o;i=t,a=r,o=n[r],(a=function(t){var r=function(t,r){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof r?r:String(r)}(a))in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f(t,r){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t})(t,r)}var h=function(t){function r(){for(var r,n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return(r=t.call.apply(t,[this].concat(i))||this).handleRefs={},r.lastHandleRect=null,r.slack=null,r}r.prototype=Object.create(t.prototype),r.prototype.constructor=r,f(r,t);var n=r.prototype;return n.componentWillUnmount=function(){this.resetData()},n.resetData=function(){this.lastHandleRect=this.slack=null},n.runConstraints=function(t,r){var n=this.props,i=n.minConstraints,a=n.maxConstraints,o=n.lockAspectRatio;if(!i&&!a&&!o)return[t,r];if(o){var s=this.props.width/this.props.height;Math.abs(t-this.props.width)>Math.abs((r-this.props.height)*s)?r=t/s:t=r*s}var l=t,u=r,d=this.slack||[0,0],c=d[0],p=d[1];return t+=c,r+=p,i&&(t=Math.max(i[0],t),r=Math.max(i[1],r)),a&&(t=Math.min(a[0],t),r=Math.min(a[1],r)),this.slack=[c+(l-t),p+(u-r)],[t,r]},n.resizeHandler=function(t,r){var n=this;return function(i,a){var o=a.node,s=a.deltaX,l=a.deltaY;"onResizeStart"===t&&n.resetData();var u=("both"===n.props.axis||"x"===n.props.axis)&&"n"!==r&&"s"!==r,d=("both"===n.props.axis||"y"===n.props.axis)&&"e"!==r&&"w"!==r;if(u||d){var c=r[0],p=r[r.length-1],f=o.getBoundingClientRect();null!=n.lastHandleRect&&("w"===p&&(s+=f.left-n.lastHandleRect.left),"n"===c&&(l+=f.top-n.lastHandleRect.top)),n.lastHandleRect=f,"w"===p&&(s=-s),"n"===c&&(l=-l);var h=n.props.width+(u?s/n.props.transformScale:0),m=n.props.height+(d?l/n.props.transformScale:0),g=n.runConstraints(h,m);h=g[0],m=g[1];var y=h!==n.props.width||m!==n.props.height,v="function"==typeof n.props[t]?n.props[t]:null;v&&!("onResize"===t&&!y)&&(null==i.persist||i.persist(),v(i,{node:o,size:{width:h,height:m},handle:r})),"onResizeStop"===t&&n.resetData()}}},n.renderResizeHandle=function(t,r){var n=this.props.handle;if(!n)return i.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+t,ref:r});if("function"==typeof n)return n(t,r);var a=p({ref:r},"string"==typeof n.type?{}:{handleAxis:t});return i.cloneElement(n,a)},n.render=function(){var t=this,r=this.props,n=r.children,s=r.className,u=r.draggableOpts,c=(r.width,r.height,r.handle,r.handleSize,r.lockAspectRatio,r.axis,r.minConstraints,r.maxConstraints,r.onResize,r.onResizeStop,r.onResizeStart,r.resizeHandles),f=(r.transformScale,function(t,r){if(null==t)return{};var n,i,a={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],r.indexOf(n)>=0||(a[n]=t[n]);return a}(r,l));return(0,o.cloneElement)(n,p(p({},f),{},{className:(s?s+" ":"")+"react-resizable",children:[].concat(n.props.children,c.map(function(r){var n,o=null!=(n=t.handleRefs[r])?n:t.handleRefs[r]=i.createRef();return i.createElement(a.DraggableCore,d({},u,{nodeRef:o,key:"resizableHandle-"+r,onStop:t.resizeHandler("onResizeStop",r),onStart:t.resizeHandler("onResizeStart",r),onDrag:t.resizeHandler("onResize",r)}),t.renderResizeHandle(r,o))}))}))},r}(i.Component);r.default=h,h.propTypes=s.resizableProps,h.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1}},86060:function(t,r,n){"use strict";r.default=void 0;var i=function(t,r){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=d(r);if(n&&n.has(t))return n.get(t);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=a?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=t[o]}return i.default=t,n&&n.set(t,i),i}(n(8218)),a=u(n(23615)),o=u(n(56377)),s=n(82404),l=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function u(t){return t&&t.__esModule?t:{default:t}}function d(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(d=function(t){return t?n:r})(t)}function c(){return(c=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function p(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function f(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?p(Object(n),!0).forEach(function(r){var i,a,o;i=t,a=r,o=n[r],(a=function(t){var r=function(t,r){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof r?r:String(r)}(a))in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h(t,r){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t})(t,r)}var m=function(t){function r(){for(var r,n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return(r=t.call.apply(t,[this].concat(i))||this).state={width:r.props.width,height:r.props.height,propsWidth:r.props.width,propsHeight:r.props.height},r.onResize=function(t,n){var i=n.size;r.props.onResize?(null==t.persist||t.persist(),r.setState(i,function(){return r.props.onResize&&r.props.onResize(t,n)})):r.setState(i)},r}return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,h(r,t),r.getDerivedStateFromProps=function(t,r){return r.propsWidth!==t.width||r.propsHeight!==t.height?{width:t.width,height:t.height,propsWidth:t.width,propsHeight:t.height}:null},r.prototype.render=function(){var t=this.props,r=t.handle,n=t.handleSize,a=(t.onResize,t.onResizeStart),s=t.onResizeStop,u=t.draggableOpts,d=t.minConstraints,p=t.maxConstraints,h=t.lockAspectRatio,m=t.axis,g=(t.width,t.height,t.resizeHandles),y=t.style,v=t.transformScale,b=function(t,r){if(null==t)return{};var n,i,a={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],r.indexOf(n)>=0||(a[n]=t[n]);return a}(t,l);return i.createElement(o.default,{axis:m,draggableOpts:u,handle:r,handleSize:n,height:this.state.height,lockAspectRatio:h,maxConstraints:p,minConstraints:d,onResizeStart:a,onResize:this.onResize,onResizeStop:s,resizeHandles:g,transformScale:v,width:this.state.width},i.createElement("div",c({},b,{style:f(f({},y),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},r}(i.Component);r.default=m,m.propTypes=f(f({},s.resizableProps),{},{children:a.default.element})},82404:function(t,r,n){"use strict";r.__esModule=!0,r.resizableProps=void 0;var i,a=(i=n(23615))&&i.__esModule?i:{default:i};n(49529);var o={axis:a.default.oneOf(["both","x","y","none"]),className:a.default.string,children:a.default.element.isRequired,draggableOpts:a.default.shape({allowAnyClick:a.default.bool,cancel:a.default.string,children:a.default.node,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:a.default.node,grid:a.default.arrayOf(a.default.number),handle:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number}),height:function(){for(var t,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=n[0];return"both"===o.axis||"y"===o.axis?(t=a.default.number).isRequired.apply(t,n):a.default.number.apply(a.default,n)},handle:a.default.oneOfType([a.default.node,a.default.func]),handleSize:a.default.arrayOf(a.default.number),lockAspectRatio:a.default.bool,maxConstraints:a.default.arrayOf(a.default.number),minConstraints:a.default.arrayOf(a.default.number),onResizeStop:a.default.func,onResizeStart:a.default.func,onResize:a.default.func,resizeHandles:a.default.arrayOf(a.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:a.default.number,width:function(){for(var t,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=n[0];return"both"===o.axis||"x"===o.axis?(t=a.default.number).isRequired.apply(t,n):a.default.number.apply(a.default,n)}};r.resizableProps=o},40203:function(t,r,n){"use strict";r.__esModule=!0,r.cloneElement=function(t,r){return r.style&&t.props.style&&(r.style=s(s({},t.props.style),r.style)),r.className&&t.props.className&&(r.className=t.props.className+" "+r.className),a.default.cloneElement(t,r)};var i,a=(i=n(8218))&&i.__esModule?i:{default:i};function o(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function s(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?o(Object(n),!0).forEach(function(r){var i,a,o;i=t,a=r,o=n[r],(a=function(t){var r=function(t,r){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof r?r:String(r)}(a))in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}},34026:function(t,r,n){"use strict";t.exports=function(){throw Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},t.exports.Resizable=n(56377).default,t.exports.ResizableBox=n(86060).default},97329:function(t,r,n){"use strict";n.r(r),n.d(r,{default:()=>S});var i=function(){if("undefined"!=typeof Map)return Map;function t(t,r){var n=-1;return t.some(function(t,i){return t[0]===r&&(n=i,!0)}),n}return function(){function r(){this.__entries__=[]}return Object.defineProperty(r.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),r.prototype.get=function(r){var n=t(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},r.prototype.set=function(r,n){var i=t(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},r.prototype.delete=function(r){var n=this.__entries__,i=t(n,r);~i&&n.splice(i,1)},r.prototype.has=function(r){return!!~t(this.__entries__,r)},r.prototype.clear=function(){this.__entries__.splice(0)},r.prototype.forEach=function(t,r){void 0===r&&(r=null);for(var n=0,i=this.__entries__;n<i.length;n++){var a=i[n];t.call(r,a[1],a[0])}},r}()}(),a="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),s="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},l=["top","right","bottom","left","width","height","size","weight"],u="undefined"!=typeof MutationObserver,d=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,r){var n=!1,i=!1,a=0;function o(){n&&(n=!1,t()),i&&u()}function l(){s(o)}function u(){var t=Date.now();if(n){if(t-a<2)return;i=!0}else n=!0,i=!1,setTimeout(l,20);a=t}return u}(this.refresh.bind(this),0)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},t.prototype.connect_=function(){a&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){a&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=void 0===r?"":r;l.some(function(t){return!!~n.indexOf(t)})&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),c=function(t,r){for(var n=0,i=Object.keys(r);n<i.length;n++){var a=i[n];Object.defineProperty(t,a,{value:r[a],enumerable:!1,writable:!1,configurable:!0})}return t},p=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||o},f=y(0,0,0,0);function h(t){return parseFloat(t)||0}function m(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return r.reduce(function(r,n){return r+h(t["border-"+n+"-width"])},0)}var g="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof p(t).SVGGraphicsElement}:function(t){return t instanceof p(t).SVGElement&&"function"==typeof t.getBBox};function y(t,r,n,i){return{x:t,y:r,width:n,height:i}}var v=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=function(t){if(!a)return f;if(g(t)){var r;return y(0,0,(r=t.getBBox()).width,r.height)}return function(t){var r,n=t.clientWidth,i=t.clientHeight;if(!n&&!i)return f;var a=p(t).getComputedStyle(t),o=function(t){for(var r={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var a=i[n],o=t["padding-"+a];r[a]=h(o)}return r}(a),s=o.left+o.right,l=o.top+o.bottom,u=h(a.width),d=h(a.height);if("border-box"===a.boxSizing&&(Math.round(u+s)!==n&&(u-=m(a,"left","right")+s),Math.round(d+l)!==i&&(d-=m(a,"top","bottom")+l)),(r=t)!==p(r).document.documentElement){var c=Math.round(u+s)-n,g=Math.round(d+l)-i;1!==Math.abs(c)&&(u-=c),1!==Math.abs(g)&&(d-=g)}return y(o.left,o.top,u,d)}(t)}(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),b=function(t,r){var n,i,a,o,s,l=(n=r.x,i=r.y,a=r.width,o=r.height,c(s=Object.create(("undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object).prototype),{x:n,y:i,width:a,height:o,top:i,right:n+a,bottom:o+i,left:n}),s);c(this,{target:t,contentRect:l})},x=function(){function t(t,r,n){if(this.activeObservations_=[],this.observations_=new i,"function"!=typeof t)throw TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof p(t).Element))throw TypeError('parameter 1 is not of type "Element".');var r=this.observations_;!r.has(t)&&(r.set(t,new v(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof p(t).Element))throw TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)&&(r.delete(t),r.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(t){return new b(t.target,t.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),w="undefined"!=typeof WeakMap?new WeakMap:new i,j=function t(r){if(!(this instanceof t))throw TypeError("Cannot call a class as a function.");if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");var n=new x(r,d.getInstance(),this);w.set(this,n)};["observe","unobserve","disconnect"].forEach(function(t){j.prototype[t]=function(){var r;return(r=w.get(this))[t].apply(r,arguments)}});let S=void 0!==o.ResizeObserver?o.ResizeObserver:j},98842:function(t,r,n){"use strict";var i=n(86524),a=n(31805),o=function(t,r,n){for(var i,a=t;null!=(i=a.next);a=i)if(i.key===r)return a.next=i.next,n||(i.next=t.next,t.next=i),i},s=function(t,r){if(t){var n=o(t,r);return n&&n.value}},l=function(t,r,n){var i=o(t,r);i?i.value=n:t.next={key:r,next:t.next,value:n}},u=function(t,r){if(t)return o(t,r,!0)};t.exports=function(){var t,r={assert:function(t){if(!r.has(t))throw new a("Side channel does not contain "+i(t))},delete:function(r){var n=t&&t.next,i=u(t,r);return i&&n&&n===i&&(t=void 0),!!i},get:function(r){return s(t,r)},has:function(r){var n;return!!(n=t)&&!!o(n,r)},set:function(r,n){t||(t={next:void 0}),l(t,r,n)}};return r}},4249:function(t,r,n){"use strict";var i=n(68750),a=n(75343),o=n(86524),s=n(31805),l=i("%Map%",!0),u=a("Map.prototype.get",!0),d=a("Map.prototype.set",!0),c=a("Map.prototype.has",!0),p=a("Map.prototype.delete",!0),f=a("Map.prototype.size",!0);t.exports=!!l&&function(){var t,r={assert:function(t){if(!r.has(t))throw new s("Side channel does not contain "+o(t))},delete:function(r){if(t){var n=p(t,r);return 0===f(t)&&(t=void 0),n}return!1},get:function(r){if(t)return u(t,r)},has:function(r){return!!t&&c(t,r)},set:function(r,n){t||(t=new l),d(t,r,n)}};return r}},16725:function(t,r,n){"use strict";var i=n(68750),a=n(75343),o=n(86524),s=n(4249),l=n(31805),u=i("%WeakMap%",!0),d=a("WeakMap.prototype.get",!0),c=a("WeakMap.prototype.set",!0),p=a("WeakMap.prototype.has",!0),f=a("WeakMap.prototype.delete",!0);t.exports=u?function(){var t,r,n={assert:function(t){if(!n.has(t))throw new l("Side channel does not contain "+o(t))},delete:function(n){if(u&&n&&("object"==typeof n||"function"==typeof n)){if(t)return f(t,n)}else if(s&&r)return r.delete(n);return!1},get:function(n){return u&&n&&("object"==typeof n||"function"==typeof n)&&t?d(t,n):r&&r.get(n)},has:function(n){return u&&n&&("object"==typeof n||"function"==typeof n)&&t?p(t,n):!!r&&r.has(n)},set:function(n,i){u&&n&&("object"==typeof n||"function"==typeof n)?(t||(t=new u),c(t,n,i)):s&&(r||(r=s()),r.set(n,i))}};return n}:s},95337:function(t,r,n){"use strict";var i=n(31805),a=n(86524),o=n(98842),s=n(4249),l=n(16725)||s||o;t.exports=function(){var t,r={assert:function(t){if(!r.has(t))throw new i("Side channel does not contain "+a(t))},delete:function(r){return!!t&&t.delete(r)},get:function(r){return t&&t.get(r)},has:function(r){return!!t&&t.has(r)},set:function(r,n){t||(t=l()),t.set(r,n)}};return r}},51564:function(t,r,n){"use strict";let i,a,o;function s(t,r,n=!0){return{...t,default:r,decode:(...i)=>{let a=t.decode(...i);return void 0===a||n&&null===a?r:a}}}function l(t,r){if(null==t)return t;if(0===t.length&&(!r||r&&""!==t))return null;let n=t instanceof Array?t[0]:t;return null==n?n:r||""!==n?n:null}n.d(r,{StringParam:()=>u,useQueryParams:()=>k,withDefault:()=>s,JsonParam:()=>d,encodeQueryParams:()=>c,useQueryParam:()=>P});let u={encode:function(t){return null==t?t:String(t)},decode:function(t){let r=l(t,!0);return null==r?r:String(r)}},d={encode:function(t){return null==t?t:JSON.stringify(t)},decode:function(t){let r=l(t);if(null==r)return r;let n=null;try{n=JSON.parse(r)}catch(t){}return n}};function c(t,r){let n={};for(let i of Object.keys(r)){let a=r[i];t[i]?n[i]=t[i].encode(r[i]):n[i]=null==a?a:String(a)}return n}'{}[],":'.split("").map(t=>[t,encodeURIComponent(t)]);var p=n(8218);let f=new class{constructor(){this.paramsMap=new Map,this.registeredParams=new Map}set(t,r,n,i){this.paramsMap.set(t,{stringified:r,decoded:n,decode:i})}has(t,r,n){if(!this.paramsMap.has(t))return!1;let i=this.paramsMap.get(t);return!!i&&i.stringified===r&&(null==n||i.decode===n)}get(t){var r;if(this.paramsMap.has(t))return null==(r=this.paramsMap.get(t))?void 0:r.decoded}registerParams(t){for(let r of t){let t=this.registeredParams.get(r)||0;this.registeredParams.set(r,t+1)}}unregisterParams(t){for(let r of t){let t=(this.registeredParams.get(r)||0)-1;t<=0?(this.registeredParams.delete(r),this.paramsMap.has(r)&&this.paramsMap.delete(r)):this.registeredParams.set(r,t)}}clear(){this.paramsMap.clear(),this.registeredParams.clear()}};function h(t,r,n,i){var a;if(!n||!r.length)return t;let o={...t},s=!1;for(let t of r)Object.prototype.hasOwnProperty.call(o,t)||(o[t]=null!=(a=n[t])?a:i,s=!0);return s?o:t}let m=Object.prototype.hasOwnProperty;function g(t,r){return t===r?0!==t||0!==r||1/t==1/r:t!=t&&r!=r}function y(t,r,n){var i,a;if(g(t,r))return!0;if("object"!=typeof t||null===t||"object"!=typeof r||null===r)return!1;let o=Object.keys(t),s=Object.keys(r);if(o.length!==s.length)return!1;for(let s=0;s<o.length;s++){let l=null!=(a=null==(i=null==n?void 0:n[o[s]])?void 0:i.equals)?a:g;if(!m.call(r,o[s])||!l(t[o[s]],r[o[s]]))return!1}return!0}function v(t,r,n){let i={};for(let a of Object.keys(r)){let o;let s=r[a],l=t[a];if(n.has(a,l,s.decode))o=n.get(a);else{if(o=s.decode(l),s.equals&&n.has(a,l)){let t=n.get(a);s.equals(o,t)&&(o=t)}void 0!==o&&n.set(a,l,o,s.decode)}void 0===o&&void 0!==s.default&&(o=s.default),i[a]=o}return i}function b(){let t;return function(r,n,i){let a=v(r,n,i);return null!=t&&y(t,a)?t:(t=a,a)}}let x={},w=(t,r,n)=>{if(i===r&&o===t&&a===n)return x;i=r,o=t;let s=t(null!=r?r:"");a=n;let l=function(t){if(t)return Object.fromEntries(t.split("\n").map(t=>t.split("\0")))}(n);for(let[t,r]of Object.entries(s)){(null==l?void 0:l[t])&&(delete s[t],s[t=l[t]]=r);let n=x[t];y(r,n)&&(s[t]=n)}return x=s,s},j={adapter:{},options:{searchStringToObject:function(t){let r=new URLSearchParams(t),n={};for(let[t,i]of r)Object.prototype.hasOwnProperty.call(n,t)?Array.isArray(n[t])?n[t].push(i):n[t]=[n[t],i]:n[t]=i;return n},objectToSearchString:function(t){let r=new URLSearchParams;for(let[n,i]of Object.entries(t))if(void 0!==i&&null!==i){if(Array.isArray(i))for(let t of i)r.append(n,null!=t?t:"");else r.append(n,i)}return r.toString()},updateType:"pushIn",includeKnownParams:void 0,includeAllParams:!1,removeDefaultsFromUrl:!1,enableBatching:!1,skipUpdateWhenNoChange:!0}},S=p.createContext(j),C=t=>t(),_=t=>setTimeout(()=>t(),0),O=[];function k(t,r){let{adapter:n,options:i}=function(){let t=p.useContext(S);if(void 0===t||t===j)throw Error("useQueryParams must be used within a QueryParamProvider");return t}(),[a]=(0,p.useState)(b),{paramConfigMap:o,options:s}=function(t,r){let n;return{paramConfigMap:n=void 0===t?{}:Array.isArray(t)?Object.fromEntries(t.map(t=>[t,"inherit"])):t,options:r}}(t,r),l=(0,p.useMemo)(()=>(function(t,r){null==r&&(r={});let n={...t,...r};return r.params&&t.params&&(n.params={...t.params,...r.params}),n})(i,s),[i,s]),d=function(t,r){var n,i,a;let o={},s=!1,l=Object.keys(t);if(r.includeKnownParams||!1!==r.includeKnownParams&&0===l.length){let t=Object.keys(null!=(n=r.params)?n:{});l.push(...t)}for(let n of l){let l=t[n];if(null!=l&&"object"==typeof l){o[n]=l;continue}s=!0,o[n]=null!=(a=null==(i=r.params)?void 0:i[n])?a:u}return s?o:t}(o,l),m=w(l.searchStringToObject,n.location.search,function(t){let r;for(let n in t)if(t[n].urlName){let i=t[n].urlName,a=`${i}\0${n}`;r?r.push(a):r=[a]}return r?r.join("\n"):void 0}(d));l.includeAllParams&&(d=h(d,Object.keys(m),l.params,u));let g=a(m,d,f),y=Object.keys(d).join("\0");(0,p.useEffect)(()=>{let t=y.split("\0");return f.registerParams(t),()=>{f.unregisterParams(t)}},[y]);let x={adapter:n,paramConfigMap:d,options:l},k=(0,p.useRef)(x);null==k.current&&(k.current=x),(0,p.useEffect)(()=>{k.current.adapter=n,k.current.paramConfigMap=d,k.current.options=l},[n,d,l]);let[P]=(0,p.useState)(()=>(t,r)=>{let{adapter:n,paramConfigMap:i,options:a}=k.current;null==r&&(r=a.updateType),function(t,{immediate:r}={}){O.push(t),1===O.length&&(r?C:_)(()=>{let r;let n=O.slice();O.length=0;let i=n[0].currentSearchString;for(let t=0;t<n.length;++t)r=function({changes:t,updateType:r,currentSearchString:n,paramConfigMap:i,options:a}){let o,s,l;let{searchStringToObject:u,objectToSearchString:d}=a;null==r&&(r=a.updateType);let p=w(u,n),m=h(i,Object.keys(t),a.params);return s="function"==typeof t?t(v(p,m,f)):t,o=c(m,s),a.removeDefaultsFromUrl&&function(t,r){var n;for(let i in t)(null==(n=r[i])?void 0:n.default)!==void 0&&void 0!==t[i]&&r[i].encode(r[i].default)===t[i]&&(t[i]=void 0)}(o,m),o=function(t,r){var n;let i={};for(let a in t)(null==(n=r[a])?void 0:n.urlName)!=null?i[r[a].urlName]=t[a]:i[a]=t[a];return i}(o,m),(null==(l=d("push"===r||"replace"===r?o:{...p,...o}))?void 0:l.length)&&"?"!==l[0]&&(l=`?${l}`),null!=l?l:""}(0===t?n[t]:{...n[t],currentSearchString:r});(!t.options.skipUpdateWhenNoChange||r!==i)&&!function({searchString:t,adapter:r,navigate:n,updateType:i}){let a={...r.location,search:t};n&&("string"==typeof i&&i.startsWith("replace")?r.replace(a):r.push(a))}({searchString:null!=r?r:"",adapter:n[n.length-1].adapter,navigate:!0,updateType:n[n.length-1].updateType})})}({changes:t,updateType:r,currentSearchString:n.location.search,paramConfigMap:i,options:a,adapter:n},{immediate:!a.enableBatching})});return[g,P]}let P=(t,r,n)=>{let[i,a]=k((0,p.useMemo)(()=>({[t]:null!=r?r:"inherit"}),[t,r]),n);return[i[t],(0,p.useCallback)((r,n)=>"function"==typeof r?a(n=>{let i=r(n[t]);return{[t]:i}},n):a({[t]:r},n),[t,a])]}},33834:function(t,r,n){"use strict";var i=n(8218),a="function"==typeof Object.is?Object.is:function(t,r){return t===r&&(0!==t||1/t==1/r)||t!=t&&r!=r},o=i.useState,s=i.useEffect,l=i.useLayoutEffect,u=i.useDebugValue;function d(t){var r=t.getSnapshot;t=t.value;try{var n=r();return!a(t,n)}catch(t){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,r){return r()}:function(t,r){var n=r(),i=o({inst:{value:n,getSnapshot:r}}),a=i[0].inst,c=i[1];return l(function(){a.value=n,a.getSnapshot=r,d(a)&&c({inst:a})},[t,n,r]),s(function(){return d(a)&&c({inst:a}),t(function(){d(a)&&c({inst:a})})},[t]),u(n),n};r.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:c},92959:function(t,r,n){"use strict";var i=n(8218),a=n(70644),o="function"==typeof Object.is?Object.is:function(t,r){return t===r&&(0!==t||1/t==1/r)||t!=t&&r!=r},s=a.useSyncExternalStore,l=i.useRef,u=i.useEffect,d=i.useMemo,c=i.useDebugValue;r.useSyncExternalStoreWithSelector=function(t,r,n,i,a){var p=l(null);if(null===p.current){var f={hasValue:!1,value:null};p.current=f}else f=p.current;var h=s(t,(p=d(function(){function t(t){if(!u){if(u=!0,s=t,t=i(t),void 0!==a&&f.hasValue){var r=f.value;if(a(r,t))return l=r}return l=t}if(r=l,o(s,t))return r;var n=i(t);return void 0!==a&&a(r,n)?(s=t,r):(s=t,l=n)}var s,l,u=!1,d=void 0===n?null:n;return[function(){return t(r())},null===d?void 0:function(){return t(d())}]},[r,n,i,a]))[0],p[1]);return u(function(){f.hasValue=!0,f.value=h},[h]),c(h),h}},70644:function(t,r,n){"use strict";t.exports=n(33834)},60626:function(t,r,n){"use strict";t.exports=n(92959)},82749:function(t,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,r,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(r,n);(!a||("get"in a?!r.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(t,i,a)}:function(t,r,n,i){void 0===i&&(i=n),t[i]=r[n]}),a=this&&this.__exportStar||function(t,r){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,t,n)};Object.defineProperty(r,"__esModule",{value:!0}),a(n(72425),r)},72425:function(t,r,n){"use strict";var i=n(84692);Object.prototype.hasOwnProperty.call(i,"__proto__")&&!Object.prototype.hasOwnProperty.call(r,"__proto__")&&Object.defineProperty(r,"__proto__",{enumerable:!0,value:i.__proto__}),Object.keys(i).forEach(function(t){"default"===t||Object.prototype.hasOwnProperty.call(r,t)||(r[t]=i[t])})},494:function(t,r,n){"use strict";n.d(r,{F:()=>s});var i=n(84275),a=n(36679),o=function(t,r){for(var n={};t.length;){var i=t[0],o=i.code,s=i.message,l=i.path.join(".");if(!n[l]){if("unionErrors"in i){var u=i.unionErrors[0].errors[0];n[l]={message:u.message,type:u.code}}else n[l]={message:s,type:o}}if("unionErrors"in i&&i.unionErrors.forEach(function(r){return r.errors.forEach(function(r){return t.push(r)})}),r){var d=n[l].types,c=d&&d[i.code];n[l]=(0,a.appendErrors)(l,r,n,o,c?[].concat(c,i.message):i.message)}t.shift()}return n},s=function(t,r,n){return void 0===n&&(n={}),function(a,s,l){try{return Promise.resolve(function(o,s){try{var u=Promise.resolve(t["sync"===n.mode?"parse":"parseAsync"](a,r)).then(function(t){return l.shouldUseNativeValidation&&(0,i.validateFieldsNatively)({},l),{errors:{},values:n.raw?a:t}})}catch(t){return s(t)}return u&&u.then?u.then(void 0,s):u}(0,function(t){if(Array.isArray(null==t?void 0:t.errors))return{values:{},errors:(0,i.toNestErrors)(o(t.errors,!l.shouldUseNativeValidation&&"all"===l.criteriaMode),l)};throw t}))}catch(t){return Promise.reject(t)}}}},39517:function(t,r,n){"use strict";n.d(r,{NL:()=>l,Of:()=>a,aH:()=>u});var i=n(8218);let a=i.createContext(void 0),o=i.createContext(!1);function s(t,r){return t||(r&&"undefined"!=typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=a),window.ReactQueryClientContext):a)}let l=({context:t}={})=>{let r=i.useContext(s(t,i.useContext(o)));if(!r)throw Error("No QueryClient set, use QueryClientProvider to set one");return r},u=({client:t,children:r,context:n,contextSharing:a=!1})=>{i.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);let l=s(n,a);return i.createElement(o.Provider,{value:!n&&a},i.createElement(l.Provider,{value:t},r))}},56569:function(t,r,n){"use strict";n.d(r,{mW:()=>s});let i=new Map,a=t=>{let r=i.get(t);return r?Object.fromEntries(Object.entries(r.stores).map(([t,r])=>[t,r.getState()])):{}},o=(t,r,n)=>{if(void 0===t)return{type:"untracked",connection:r.connect(n)};let a=i.get(n.name);if(a)return{type:"tracked",store:t,...a};let o={connection:r.connect(n),stores:{}};return i.set(n.name,o),{type:"tracked",store:t,...o}},s=(t,r={})=>(n,i,s)=>{let u;let{enabled:d,anonymousActionType:c,store:p,...f}=r;try{u=(null==d||d)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(t){}if(!u)return d&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),t(n,i,s);let{connection:h,...m}=o(p,u,f),g=!0;s.setState=(t,r,o)=>{let l=n(t,r);if(!g)return l;let u=void 0===o?{type:c||"anonymous"}:"string"==typeof o?{type:o}:o;return void 0===p?null==h||h.send(u,i()):null==h||h.send({...u,type:`${p}/${u.type}`},{...a(f.name),[p]:s.getState()}),l};let y=(...t)=>{let r=g;g=!1,n(...t),g=r},v=t(s.setState,i,s);if("untracked"===m.type?null==h||h.init(v):(m.stores[m.store]=s,null==h||h.init(Object.fromEntries(Object.entries(m.stores).map(([t,r])=>[t,t===m.store?v:r.getState()])))),s.dispatchFromDevtools&&"function"==typeof s.dispatch){let t=!1,r=s.dispatch;s.dispatch=(...n)=>{"__setState"!==n[0].type||t||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),t=!0),r(...n)}}return h.subscribe(t=>{var r;switch(t.type){case"ACTION":if("string"!=typeof t.payload){console.error("[zustand devtools middleware] Unsupported action format");return}return l(t.payload,t=>{if("__setState"===t.type){if(void 0===p){y(t.state);return}1!==Object.keys(t.state).length&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);let r=t.state[p];if(null==r)return;JSON.stringify(s.getState())!==JSON.stringify(r)&&y(r);return}s.dispatchFromDevtools&&"function"==typeof s.dispatch&&s.dispatch(t)});case"DISPATCH":switch(t.payload.type){case"RESET":if(y(v),void 0===p)return null==h?void 0:h.init(s.getState());return null==h?void 0:h.init(a(f.name));case"COMMIT":if(void 0===p){null==h||h.init(s.getState());break}return null==h?void 0:h.init(a(f.name));case"ROLLBACK":return l(t.state,t=>{if(void 0===p){y(t),null==h||h.init(s.getState());return}y(t[p]),null==h||h.init(a(f.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return l(t.state,t=>{if(void 0===p){y(t);return}JSON.stringify(s.getState())!==JSON.stringify(t[p])&&y(t[p])});case"IMPORT_STATE":{let{nextLiftedState:n}=t.payload,i=null==(r=n.computedStates.slice(-1)[0])?void 0:r.state;if(!i)return;void 0===p?y(i):y(i[p]),null==h||h.send(null,n);break}case"PAUSE_RECORDING":return g=!g}return}}),v},l=(t,r)=>{let n;try{n=JSON.parse(t)}catch(t){console.error("[zustand devtools middleware] Could not parse the received json",t)}void 0!==n&&r(n)}},48639:function(t,r,n){"use strict";n.d(r,{n:()=>a});var i=n(58118);let a=t=>(r,n,a)=>(a.setState=(t,n,...a)=>r("function"==typeof t?(0,i.produce)(t):t,n,...a),t(a.setState,n,a))},65447:function(t,r,n){"use strict";function i(t,r){if(Object.is(t,r))return!0;if("object"!=typeof t||null===t||"object"!=typeof r||null===r)return!1;if(t instanceof Map&&r instanceof Map){if(t.size!==r.size)return!1;for(let[n,i]of t)if(!Object.is(i,r.get(n)))return!1;return!0}if(t instanceof Set&&r instanceof Set){if(t.size!==r.size)return!1;for(let n of t)if(!r.has(n))return!1;return!0}let n=Object.keys(t);if(n.length!==Object.keys(r).length)return!1;for(let i of n)if(!Object.prototype.hasOwnProperty.call(r,i)||!Object.is(t[i],r[i]))return!1;return!0}n.d(r,{X:()=>i})},8785:function(t,r,n){"use strict";n.d(r,{s:()=>u});var i=n(8218),a=n(60626);let{useDebugValue:o}=i,{useSyncExternalStoreWithSelector:s}=a,l=t=>t;function u(t,r=l,n){let i=s(t.subscribe,t.getState,t.getServerState||t.getInitialState,r,n);return o(i),i}},40330:function(t,r,n){"use strict";n.d(r,{M:()=>a});let i=t=>{let r;let n=new Set,i=(t,i)=>{let a="function"==typeof t?t(r):t;if(!Object.is(a,r)){let t=r;r=(null!=i?i:"object"!=typeof a||null===a)?a:Object.assign({},r,a),n.forEach(n=>n(r,t))}},a=()=>r,o={setState:i,getState:a,getInitialState:()=>s,subscribe:t=>(n.add(t),()=>n.delete(t)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},s=r=t(i,a,o);return o},a=t=>t?i(t):i}}]);